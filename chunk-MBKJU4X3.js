import{a as dt}from"./chunk-E62IOWU4.js";import{a as st}from"./chunk-Z3ZPAFT5.js";import{a as E}from"./chunk-Y7V3HG6R.js";import{a as ct}from"./chunk-QHILUX33.js";import{a as rt}from"./chunk-RB2IKARN.js";import"./chunk-7UZYWCAJ.js";import"./chunk-MLMGL4QO.js";import{a as lt}from"./chunk-4G3G25LR.js";import{b as Y,c as C,d as Q,e as W,f as $,g as H,h as J,k as K,l as X,m as Z,n as tt,o as et,q as nt,t as it,u as ot,v as at}from"./chunk-VLP6GBL3.js";import{e as G}from"./chunk-K3XQKY74.js";import{A as p,Aa as F,B as _,Ba as V,Ca as N,Ga as w,Ia as O,Ka as P,Ma as B,Oa as j,P as r,Ra as A,Sa as z,Ta as R,U as S,V as I,Xa as L,Z as g,_a as q,ba as d,ca as n,da as e,ea as h,ka as k,la as m,ma as s,mb as U,sa as D,va as i,wa as f,xa as u,ya as y,za as T}from"./chunk-T4RMSDZY.js";var gt=(a,o)=>({positive:a,negative:o}),pt=(a,o)=>({"low-stock":a,depleted:o});function _t(a,o){if(a&1&&h(0,"app-alert",32),a&2){let t=s();d("message",t.errorMessage)("show",!!t.errorMessage)}}function ut(a,o){if(a&1&&(n(0,"span"),i(1),O(2,"date"),e()),a&2){let t=s().$implicit,c=s();r(),u(" ",P(2,1,c.getOldestExpiry(t),"shortDate")," ")}}function ft(a,o){a&1&&i(0,"-")}function Ct(a,o){if(a&1){let t=k();n(0,"tr")(1,"td")(2,"strong"),i(3),e()(),n(4,"td"),i(5),e(),n(6,"td")(7,"span",33),i(8),e()(),n(9,"td"),i(10),e(),n(11,"td"),g(12,ut,3,4,"span",34)(13,ft,1,0,"ng-template",null,0,B),e(),n(15,"td")(16,"button",35),m("click",function(){let l=p(t).$implicit,b=s();return _(b.viewStockDetails(l))}),i(17,"View Details"),e()()()}if(a&2){let t=o.$implicit,c=D(14),l=s();r(3),f(t.vaccineName),r(2),u("",t.totalQuantity," doses"),r(2),d("ngClass",l.getStatusClass(t.status)),r(),y(" ",l.getStatusIcon(t.status)," ",l.getStatusText(t.status)," "),r(2),f(l.getOldestBatch(t)),r(2),d("ngIf",l.getOldestExpiry(t))("ngIfElse",c)}}function bt(a,o){a&1&&(n(0,"tr")(1,"td",36)(2,"div",37)(3,"span",38),i(4,"\u{1F4E6}"),e(),n(5,"p"),i(6,"No stock items found"),e()()()())}function vt(a,o){a&1&&h(0,"app-loader")}function Mt(a,o){if(a&1&&(n(0,"option",60),i(1),e()),a&2){let t=o.$implicit;d("value",t.id),r(),u(" ",t.name," ")}}function ht(a,o){if(a&1&&(n(0,"span",61),i(1),e()),a&2){let t=s(2);r(),u(" ",t.getFieldError("vaccineId")," ")}}function xt(a,o){if(a&1&&(n(0,"span",61),i(1),e()),a&2){let t=s(2);r(),u(" ",t.getFieldError("batchNumber")," ")}}function Ot(a,o){if(a&1&&(n(0,"span",61),i(1),e()),a&2){let t=s(2);r(),u(" ",t.getFieldError("quantity")," ")}}function Pt(a,o){if(a&1&&(n(0,"span",61),i(1),e()),a&2){let t=s(2);r(),u(" ",t.getFieldError("expiryDate")," ")}}function kt(a,o){if(a&1&&(n(0,"span",61),i(1),e()),a&2){let t=s(2);r(),u(" ",t.getFieldError("receivedDate")," ")}}function St(a,o){if(a&1&&(n(0,"span",61),i(1),e()),a&2){let t=s(2);r(),u(" ",t.getFieldError("receivedFrom")," ")}}function yt(a,o){if(a&1){let t=k();n(0,"div",39),m("click",function(){p(t);let l=s();return _(l.closeReceiveModal())}),n(1,"div",40),m("click",function(l){return p(t),_(l.stopPropagation())}),n(2,"div",41)(3,"h2"),i(4,"\u{1F4E6} Receive Stock"),e(),n(5,"button",42),m("click",function(){p(t);let l=s();return _(l.closeReceiveModal())}),i(6,"\xD7"),e()(),n(7,"form",43),m("ngSubmit",function(){p(t);let l=s();return _(l.onReceiveSubmit())}),n(8,"div",44)(9,"div",45)(10,"label",46),i(11,"Vaccine Type"),e(),n(12,"select",47)(13,"option",48),i(14,"Select Vaccine"),e(),g(15,Mt,2,2,"option",49),e(),g(16,ht,2,1,"span",50),e(),n(17,"div",45)(18,"label",46),i(19,"Batch Number"),e(),h(20,"input",51),g(21,xt,2,1,"span",50),e()(),n(22,"div",44)(23,"div",45)(24,"label",46),i(25,"Quantity"),e(),h(26,"input",52),g(27,Ot,2,1,"span",50),e(),n(28,"div",45)(29,"label",46),i(30,"Expiry Date"),e(),h(31,"input",53),g(32,Pt,2,1,"span",50),e()(),n(33,"div",44)(34,"div",45)(35,"label",46),i(36,"Received Date"),e(),h(37,"input",54),g(38,kt,2,1,"span",50),e(),n(39,"div",45)(40,"label",46),i(41,"Received From"),e(),h(42,"input",55),g(43,St,2,1,"span",50),e()(),n(44,"div",45)(45,"label"),i(46,"Notes"),e(),h(47,"textarea",56),e(),n(48,"div",57)(49,"button",58),m("click",function(){p(t);let l=s();return _(l.closeReceiveModal())}),i(50,"Cancel"),e(),n(51,"button",59),i(52),e()()()()()}if(a&2){let t=s();r(7),d("formGroup",t.receiveForm),r(8),d("ngForOf",t.availableVaccines),r(),d("ngIf",t.isFieldInvalid("vaccineId")),r(5),d("ngIf",t.isFieldInvalid("batchNumber")),r(6),d("ngIf",t.isFieldInvalid("quantity")),r(5),d("ngIf",t.isFieldInvalid("expiryDate")),r(5),d("value",t.getTodayDate()),r(),d("ngIf",t.isFieldInvalid("receivedDate")),r(5),d("ngIf",t.isFieldInvalid("receivedFrom")),r(8),d("disabled",t.loading||t.receiveForm.invalid),r(),u(" ",t.loading?"Saving...":"Receive Stock"," ")}}function wt(a,o){if(a&1&&(n(0,"option",60),i(1),e()),a&2){let t=o.$implicit;d("value",t.id),r(),u(" ",t.name," ")}}function Et(a,o){if(a&1&&(n(0,"span",61),i(1),e()),a&2){let t=s(2);r(),u(" ",t.getFieldError("vaccineId")," ")}}function It(a,o){if(a&1&&(n(0,"option",60),i(1),O(2,"date"),e()),a&2){let t=o.$implicit;d("value",t.batchNumber),r(),T(" ",t.batchNumber," (",t.quantity," doses, expires ",P(2,4,t.expiryDate,"shortDate"),") ")}}function Dt(a,o){if(a&1&&(n(0,"span",61),i(1),e()),a&2){let t=s(2);r(),u(" ",t.getFieldError("batchNumber")," ")}}function Tt(a,o){a&1&&(n(0,"small",77),i(1," No batches available for this vaccine. Please receive stock first. "),e())}function Ft(a,o){if(a&1&&(n(0,"span",61),i(1),e()),a&2){let t=s(2);r(),u(" ",t.getFieldError("quantityChange")," ")}}function Vt(a,o){if(a&1&&(n(0,"span",61),i(1),e()),a&2){let t=s(2);r(),u(" ",t.getFieldError("reason")," ")}}function Nt(a,o){if(a&1&&(n(0,"div",78)(1,"strong"),i(2,"Current Batch Quantity:"),e(),i(3),e()),a&2){let t=s(2);r(3),u(" ",t.selectedBatch.quantity," doses ")}}function Bt(a,o){if(a&1){let t=k();n(0,"div",39),m("click",function(){p(t);let l=s();return _(l.closeAdjustModal())}),n(1,"div",40),m("click",function(l){return p(t),_(l.stopPropagation())}),n(2,"div",41)(3,"h2"),i(4,"\u2696\uFE0F Adjust Stock"),e(),n(5,"button",42),m("click",function(){p(t);let l=s();return _(l.closeAdjustModal())}),i(6,"\xD7"),e()(),n(7,"form",43),m("ngSubmit",function(){p(t);let l=s();return _(l.onAdjustSubmit())}),n(8,"div",44)(9,"div",45)(10,"label",46),i(11,"Vaccine"),e(),n(12,"select",62),m("change",function(){p(t);let l=s();return _(l.onVaccineChange())}),n(13,"option",48),i(14,"Select Vaccine"),e(),g(15,wt,2,2,"option",49),e(),g(16,Et,2,1,"span",50),e(),n(17,"div",45)(18,"label",46),i(19,"Batch Number"),e(),n(20,"select",63),m("change",function(){p(t);let l=s();return _(l.onBatchChange())}),n(21,"option",48),i(22),e(),g(23,It,3,7,"option",49),e(),g(24,Dt,2,1,"span",50)(25,Tt,2,0,"small",64),e()(),n(26,"div",44)(27,"div",45)(28,"label",46),i(29,"Adjustment Type"),e(),n(30,"select",65)(31,"option",66),i(32,"Add Stock"),e(),n(33,"option",67),i(34,"Subtract Stock"),e()()(),n(35,"div",45)(36,"label",46),i(37,"Quantity Change"),e(),h(38,"input",68),g(39,Ft,2,1,"span",50),e()(),n(40,"div",45)(41,"label",46),i(42,"Reason"),e(),n(43,"select",69)(44,"option",48),i(45,"Select Reason"),e(),n(46,"option",70),i(47,"Damaged"),e(),n(48,"option",71),i(49,"Expired"),e(),n(50,"option",72),i(51,"Lost"),e(),n(52,"option",73),i(53,"Correction"),e()(),g(54,Vt,2,1,"span",50),e(),n(55,"div",45)(56,"label"),i(57,"Notes"),e(),h(58,"textarea",74),e(),g(59,Nt,4,1,"div",75),n(60,"div",57)(61,"button",58),m("click",function(){p(t);let l=s();return _(l.closeAdjustModal())}),i(62,"Cancel"),e(),n(63,"button",76),i(64),e()()()()()}if(a&2){let t,c=s();r(7),d("formGroup",c.adjustForm),r(8),d("ngForOf",c.availableVaccines),r(),d("ngIf",c.isFieldInvalid("vaccineId")),r(6),f(c.getBatchPlaceholderText()),r(),d("ngForOf",c.availableBatches),r(),d("ngIf",c.isFieldInvalid("batchNumber")),r(),d("ngIf",c.availableBatches.length===0&&!c.loadingBatches&&((t=c.adjustForm.get("vaccineId"))==null?null:t.value)),r(14),d("ngIf",c.isFieldInvalid("quantityChange")),r(15),d("ngIf",c.isFieldInvalid("reason")),r(5),d("ngIf",c.selectedBatch),r(4),d("disabled",c.loading||c.adjustForm.invalid),r(),u(" ",c.loading?"Processing...":"Adjust Stock"," ")}}function jt(a,o){if(a&1&&(n(0,"div",91)(1,"div",92)(2,"div",93),i(3,"\u{1F489}"),e(),n(4,"div",94)(5,"div",95),i(6,"Vaccine"),e(),n(7,"div",96),i(8),e()()(),n(9,"div",92)(10,"div",93),i(11,"\u{1F4E6}"),e(),n(12,"div",94)(13,"div",95),i(14,"Batch Number"),e(),n(15,"div",96),i(16),e()()(),n(17,"div",92)(18,"div",93),i(19,"\u{1F522}"),e(),n(20,"div",94)(21,"div",95),i(22,"Quantity"),e(),n(23,"div",96),i(24),e()()(),n(25,"div",92)(26,"div",93),i(27,"\u{1F4C5}"),e(),n(28,"div",94)(29,"div",95),i(30,"Received Date"),e(),n(31,"div",96),i(32),O(33,"date"),e()()(),n(34,"div",92)(35,"div",93),i(36,"\u23F0"),e(),n(37,"div",94)(38,"div",95),i(39,"Expiry Date"),e(),n(40,"div",96),i(41),O(42,"date"),e()()()()),a&2){let t=s(2);r(8),f(t.createdBatch.vaccineName),r(8),f(t.createdBatch.batchNumber),r(8),u("",t.createdBatch.quantity," doses"),r(8),f(P(33,5,t.createdBatch.receivedDate,"dd MMM yyyy")),r(9),f(P(42,8,t.createdBatch.expiryDate,"dd MMM yyyy"))}}function At(a,o){if(a&1){let t=k();n(0,"div",39),m("click",function(){p(t);let l=s();return _(l.showSuccessModal=!1)}),n(1,"div",79),m("click",function(l){return p(t),_(l.stopPropagation())}),n(2,"div",80)(3,"div",81)(4,"div",82)(5,"span",83),i(6,"\u2713"),e()()(),n(7,"div",84)(8,"h2"),i(9,"\u{1F389} Vaccine Batch Received Successfully!"),e(),n(10,"p",85),i(11,"The batch has been added to your inventory"),e()(),n(12,"button",86),m("click",function(){p(t);let l=s();return _(l.showSuccessModal=!1)}),i(13,"\xD7"),e()(),n(14,"div",87),g(15,jt,43,11,"div",88),e(),n(16,"div",89)(17,"button",90),m("click",function(){p(t);let l=s();return _(l.showSuccessModal=!1)}),n(18,"span"),i(19,"\u2713"),e(),i(20," Got it "),e()()()()}if(a&2){let t=s();r(15),d("ngIf",t.createdBatch)}}function zt(a,o){if(a&1&&(n(0,"div",91)(1,"div",92)(2,"div",93),i(3,"\u{1F489}"),e(),n(4,"div",94)(5,"div",95),i(6,"Vaccine"),e(),n(7,"div",96),i(8),e()()(),n(9,"div",92)(10,"div",93),i(11,"\u{1F4E6}"),e(),n(12,"div",94)(13,"div",95),i(14,"Batch Number"),e(),n(15,"div",96),i(16),e()()(),n(17,"div",92)(18,"div",93),i(19,"\u{1F4CA}"),e(),n(20,"div",94)(21,"div",95),i(22,"Quantity Change"),e(),n(23,"div",97),i(24),e()()(),n(25,"div",92)(26,"div",93),i(27,"\u{1F522}"),e(),n(28,"div",94)(29,"div",95),i(30,"New Quantity"),e(),n(31,"div",96),i(32),e()()(),n(33,"div",92)(34,"div",93),i(35,"\u{1F4DD}"),e(),n(36,"div",94)(37,"div",95),i(38,"Reason"),e(),n(39,"div",96),i(40),e()()()()),a&2){let t=s(2);r(8),f(t.adjustedBatch.vaccineName),r(8),f(t.adjustedBatch.batchNumber),r(7),d("ngClass",w(7,gt,t.adjustedBatch.quantityChange>0,t.adjustedBatch.quantityChange<0)),r(),y(" ",t.adjustedBatch.quantityChange>0?"+":"","",t.adjustedBatch.quantityChange," doses "),r(8),u("",t.adjustedBatch.newQuantity," doses"),r(8),f(t.adjustedBatch.reason)}}function Rt(a,o){if(a&1){let t=k();n(0,"div",39),m("click",function(){p(t);let l=s();return _(l.showAdjustSuccessModal=!1)}),n(1,"div",79),m("click",function(l){return p(t),_(l.stopPropagation())}),n(2,"div",80)(3,"div",81)(4,"div",82)(5,"span",83),i(6,"\u2713"),e()()(),n(7,"div",84)(8,"h2"),i(9,"\u2696\uFE0F Stock Adjusted Successfully!"),e(),n(10,"p",85),i(11,"The stock adjustment has been recorded"),e()(),n(12,"button",86),m("click",function(){p(t);let l=s();return _(l.showAdjustSuccessModal=!1)}),i(13,"\xD7"),e()(),n(14,"div",87),g(15,zt,41,10,"div",88),e(),n(16,"div",89)(17,"button",90),m("click",function(){p(t);let l=s();return _(l.showAdjustSuccessModal=!1)}),n(18,"span"),i(19,"\u2713"),e(),i(20," Got it "),e()()()()}if(a&2){let t=s();r(15),d("ngIf",t.adjustedBatch)}}function Lt(a,o){if(a&1&&(n(0,"p",104),i(1),e()),a&2){let t=s(2);r(),f(t.selectedStock.vaccineName)}}function qt(a,o){if(a&1&&(n(0,"div",126)(1,"span",127),i(2,"\u{1F4E5}"),e(),n(3,"span",95),i(4,"Received:"),e(),n(5,"span",96),i(6),O(7,"date"),e()()),a&2){let t=s().$implicit;r(6),f(P(7,1,t.receivedDate,"dd MMM yyyy"))}}function Ut(a,o){a&1&&(n(0,"div",130)(1,"span"),i(2,"\u26A0\uFE0F Depleted"),e()())}function Gt(a,o){if(a&1&&(n(0,"div",120)(1,"div",121)(2,"div",122)(3,"span",123),i(4,"\u{1F4E6}"),e(),n(5,"strong"),i(6),e()(),n(7,"div",124),i(8),e()(),n(9,"div",125)(10,"div",126)(11,"span",127),i(12,"\u{1F4C5}"),e(),n(13,"span",95),i(14,"Expiry Date:"),e(),n(15,"span",96),i(16),O(17,"date"),e()(),g(18,qt,8,4,"div",128)(19,Ut,3,0,"div",129),e()()),a&2){let t=o.$implicit;r(6),f(t.batchNumber),r(),d("ngClass",w(9,pt,t.quantity<50,t.isDepleted)),r(),u(" ",t.quantity," doses "),r(8),f(P(17,6,t.expiryDate,"dd MMM yyyy")),r(2),d("ngIf",t.receivedDate),r(),d("ngIf",t.isDepleted)}}function Yt(a,o){if(a&1&&(n(0,"div",115)(1,"h3",116)(2,"span",117),i(3,"\u{1F4CB}"),e(),i(4),e(),n(5,"div",118),g(6,Gt,20,12,"div",119),e()()),a&2){let t=s(3);r(4),u(" Batch Information (",t.selectedStock.batches.length,") "),r(2),d("ngForOf",t.selectedStock.batches)}}function Qt(a,o){a&1&&(n(0,"div",131)(1,"div",37)(2,"span",38),i(3,"\u{1F4E6}"),e(),n(4,"p"),i(5,"No batches available for this vaccine"),e()()())}function Wt(a,o){if(a&1&&(n(0,"div",105)(1,"div",106)(2,"div",107)(3,"div",108),i(4,"\u{1F4E6}"),e(),n(5,"div",109)(6,"div",110),i(7,"Total Quantity"),e(),n(8,"div",111),i(9),e()()(),n(10,"div",112)(11,"div",108),i(12),e(),n(13,"div",109)(14,"div",110),i(15,"Status"),e(),n(16,"div",111),i(17),e()()()(),g(18,Yt,7,2,"div",113)(19,Qt,6,0,"div",114),e()),a&2){let t=s(2);r(9),u("",t.selectedStock.totalQuantity," doses"),r(),d("ngClass",t.getStatusClass(t.selectedStock.status)),r(2),f(t.getStatusIcon(t.selectedStock.status)),r(5),f(t.getStatusText(t.selectedStock.status)),r(),d("ngIf",t.selectedStock.batches&&t.selectedStock.batches.length>0),r(),d("ngIf",!t.selectedStock.batches||t.selectedStock.batches.length===0)}}function $t(a,o){if(a&1){let t=k();n(0,"div",39),m("click",function(){p(t);let l=s();return _(l.closeDetailModal())}),n(1,"div",98),m("click",function(l){return p(t),_(l.stopPropagation())}),n(2,"div",99)(3,"div",100),i(4,"\u{1F4CA}"),e(),n(5,"div",84)(6,"h2"),i(7,"Stock Details"),e(),g(8,Lt,2,1,"p",101),e(),n(9,"button",86),m("click",function(){p(t);let l=s();return _(l.closeDetailModal())}),i(10,"\xD7"),e()(),g(11,Wt,20,6,"div",102),n(12,"div",103)(13,"button",58),m("click",function(){p(t);let l=s();return _(l.closeDetailModal())}),i(14,"Close"),e()()()()}if(a&2){let t=s();r(8),d("ngIf",t.selectedStock),r(3),d("ngIf",t.selectedStock)}}var mt=class a{constructor(o,t,c,l,b){this.stockService=o;this.authService=t;this.vaccinationService=c;this.cdr=l;this.fb=b;this.receiveForm=this.fb.group({vaccineId:["",[C.required]],batchNumber:["",[C.required]],quantity:["",[C.required,C.min(1)]],expiryDate:["",[C.required]],receivedDate:[new Date().toISOString().split("T")[0],[C.required]],receivedFrom:["",[C.required]],notes:[""]}),this.adjustForm=this.fb.group({vaccineId:["",[C.required]],batchNumber:["",[C.required]],adjustmentType:["SUBTRACT",[C.required]],quantityChange:["",[C.required,C.min(1)]],reason:["",[C.required]],notes:[""]})}stockLevels=[];filteredStockLevels=[];loading=!1;filterStatus="all";lastUpdated=new Date;errorMessage="";isLoadingData=!1;totalVaccineTypes=0;lowStockItems=0;expiringSoon=0;outOfStock=0;showReceiveModal=!1;showAdjustModal=!1;showSuccessModal=!1;showAdjustSuccessModal=!1;showDetailModal=!1;createdBatch=null;adjustedBatch=null;selectedStock=null;receiveForm;adjustForm;availableVaccines=[];availableBatches=[];selectedBatch=null;loadingBatches=!1;ngOnInit(){this.loadStock(),this.loadVaccines()}loadVaccines(){this.vaccinationService.getAllVaccines().subscribe({next:o=>{this.availableVaccines=o},error:o=>{console.warn("Failed to load vaccines:",o),this.availableVaccines=[]}})}loadStock(){if(this.isLoadingData)return;this.isLoadingData=!0,this.loading=!0;let o=Date.now(),t=this.authService.getCurrentUser()?.facilityId;if(!t){this.errorMessage="No facility ID available",this.loading=!1,this.isLoadingData=!1;return}this.stockService.getStockLevels(t).subscribe({next:c=>{this.stockLevels=c,this.updateOverviewStats(),this.applyFilter(),this.lastUpdated=new Date,E(o,()=>{this.loading=!1,this.isLoadingData=!1,this.cdr.detectChanges()})},error:c=>{console.warn("Failed to load stock:",c),this.errorMessage="Failed to load stock levels",this.stockLevels=[],this.filteredStockLevels=[],E(o,()=>{this.loading=!1,this.isLoadingData=!1,this.cdr.detectChanges()})}})}updateOverviewStats(){this.totalVaccineTypes=this.stockLevels.length,this.lowStockItems=this.stockLevels.filter(o=>o.status==="LOW").length,this.outOfStock=this.stockLevels.filter(o=>o.status==="CRITICAL"||o.totalQuantity===0).length,this.stockService.getExpiringBatches(this.authService.getCurrentUser()?.facilityId,30).subscribe({next:o=>{let t=new Set(o.map(c=>c.vaccineName));this.expiringSoon=t.size,this.cdr.detectChanges()},error:()=>{this.expiringSoon=0}})}applyFilter(){this.filterStatus==="all"?this.filteredStockLevels=this.stockLevels:this.filteredStockLevels=this.stockLevels.filter(o=>{switch(this.filterStatus){case"good":return o.status==="GOOD";case"low":return o.status==="LOW";case"out":return o.status==="CRITICAL"||o.totalQuantity===0;case"expiring":return!1;default:return!0}})}onFilterChange(){this.applyFilter()}getStatusIcon(o){switch(o){case"GOOD":return"\u{1F7E2}";case"LOW":return"\u{1F7E1}";case"CRITICAL":return"\u{1F534}";case"OUT":return"\u{1F534}";default:return"\u26AA"}}getStatusText(o){switch(o){case"GOOD":return"Good";case"LOW":return"Low";case"CRITICAL":return"Critical";case"OUT":return"Out of Stock";default:return"Unknown"}}getStatusClass(o){switch(o){case"GOOD":return"status-good";case"LOW":return"status-low";case"CRITICAL":return"status-out";case"OUT":return"status-out";default:return""}}getOldestBatch(o){return!o.batches||o.batches.length===0?"-":[...o.batches].sort((c,l)=>new Date(c.expiryDate).getTime()-new Date(l.expiryDate).getTime())[0].batchNumber}getOldestExpiry(o){return o.oldestExpiryDate?o.oldestExpiryDate:!o.batches||o.batches.length===0?null:[...o.batches].sort((c,l)=>new Date(c.expiryDate).getTime()-new Date(l.expiryDate).getTime())[0].expiryDate||null}openReceiveModal(){this.receiveForm.reset({receivedDate:new Date().toISOString().split("T")[0]}),this.showReceiveModal=!0}closeReceiveModal(){this.showReceiveModal=!1,this.receiveForm.reset()}openAdjustModal(){this.adjustForm.reset({adjustmentType:"SUBTRACT"}),this.availableBatches=[],this.selectedBatch=null,this.loadingBatches=!1,this.adjustForm.get("batchNumber")?.disable(),this.showAdjustModal=!0}closeAdjustModal(){this.showAdjustModal=!1,this.adjustForm.reset(),this.availableBatches=[],this.selectedBatch=null}onVaccineChange(){let o=this.adjustForm.get("vaccineId")?.value,t=this.authService.getCurrentUser()?.facilityId,c=this.adjustForm.get("batchNumber");if(o&&t){let l=this.availableVaccines.find(v=>v.id===o),b=this.stockLevels.find(v=>v.vaccineId===o),x=l?.name||b?.vaccineName||o;console.log("Loading batches for vaccine:",{vaccineId:o,vaccineName:x,facilityId:t,availableVaccines:this.availableVaccines.length}),c?.disable(),this.loadingBatches=!0,this.availableBatches=[],this.stockService.getBatchesByVaccine(x,t).subscribe({next:v=>{console.log("Batches loaded:",v),setTimeout(()=>{this.availableBatches=v.map(M=>({id:M.id,vaccineId:M.vaccineId||o,vaccineName:M.vaccineName||x,batchNumber:M.batchNumber,quantity:M.quantity||0,expiryDate:M.expiryDate,receivedDate:M.receivedDate||M.expiryDate,facilityId:M.facilityId||t||"",isDepleted:M.isDepleted||!1})),console.log("Mapped batches:",this.availableBatches),this.loadingBatches=!1,this.availableBatches.length>0?c?.enable():c?.disable(),this.cdr.detectChanges()},0)},error:v=>{console.error("Failed to load batches:",v),console.error("Error details:",JSON.stringify(v,null,2)),setTimeout(()=>{this.availableBatches=[],this.loadingBatches=!1,c?.disable(),this.errorMessage="Failed to load batches. Please try again.",this.cdr.detectChanges()},0)}})}else this.availableBatches=[],this.loadingBatches=!1,c?.disable(),t||console.warn("No facility ID available");this.adjustForm.patchValue({batchNumber:""}),this.selectedBatch=null}onBatchChange(){let o=this.adjustForm.get("batchNumber")?.value;o?this.selectedBatch=this.availableBatches.find(t=>t.batchNumber===o)||null:this.selectedBatch=null}onReceiveSubmit(){if(this.receiveForm.valid){this.loading=!0;let o=this.authService.getCurrentUser()?.facilityId,t=this.receiveForm.value,c={vaccineId:t.vaccineId,batchNumber:t.batchNumber,quantity:t.quantity,expiryDate:t.expiryDate,receivedDate:t.receivedDate,receivedFrom:t.receivedFrom};this.stockService.receiveStock(c).subscribe({next:l=>{this.loading=!1,this.createdBatch={batchNumber:t.batchNumber,vaccineId:t.vaccineId,quantity:t.quantity,expiryDate:t.expiryDate,receivedDate:t.receivedDate,vaccineName:this.availableVaccines.find(b=>b.id===t.vaccineId)?.name||"Unknown"},this.closeReceiveModal(),this.showSuccessModal=!0,this.loadStock()},error:l=>{console.error("Failed to receive stock:",l),this.errorMessage="Failed to receive stock. Please try again.",this.loading=!1}})}else this.receiveForm.markAllAsTouched()}onAdjustSubmit(){if(this.adjustForm.valid){let o=this.adjustForm.value,t=o.adjustmentType==="SUBTRACT"?-Math.abs(o.quantityChange):Math.abs(o.quantityChange),c=this.availableVaccines.find(x=>x.id===o.vaccineId);if(!c){this.errorMessage="Please select a valid vaccine.";return}let l={vaccineId:c.name,batchNumber:o.batchNumber,quantityChange:t,reason:o.reason,notes:o.notes},b=this.authService.getCurrentUser();console.log("Adjusting stock - User role:",b?.role,"Facility ID:",b?.facilityId),this.loading=!0,this.stockService.adjustStock(l).subscribe({next:x=>{this.loading=!1;let v=this.stockLevels.find(M=>M.vaccineId===o.vaccineId);this.adjustedBatch={batchNumber:o.batchNumber,vaccineId:o.vaccineId,vaccineName:v?.vaccineName||"Unknown",quantityChange:t,newQuantity:(this.selectedBatch?.quantity||0)+t,reason:o.reason},this.closeAdjustModal(),this.showAdjustSuccessModal=!0,this.loadStock()},error:x=>{console.error("Failed to adjust stock:",x);let v=this.authService.getCurrentUser();x.status===403?this.errorMessage=`Access denied. Your role (${v?.role||"Unknown"}) may not have permission to adjust stock. Required roles: HEALTH_WORKER, FACILITY_MANAGER, or GOVERNMENT_OFFICIAL.`:this.errorMessage="Failed to adjust stock. Please try again.",this.loading=!1}})}else this.adjustForm.markAllAsTouched()}getFieldError(o){let c=(this.showReceiveModal?this.receiveForm:this.adjustForm).get(o);if(c?.errors&&c.touched){if(c.errors.required)return"This field is required";if(c.errors.min)return"Value must be at least 1"}return""}isFieldInvalid(o){let c=(this.showReceiveModal?this.receiveForm:this.adjustForm).get(o);return!!(c?.invalid&&c.touched)}getTodayDate(){return new Date().toISOString().split("T")[0]}viewStockDetails(o){this.selectedStock=o,this.showDetailModal=!0}closeDetailModal(){this.showDetailModal=!1,this.selectedStock=null}getBatchPlaceholderText(){return this.loadingBatches?"Loading batches...":this.availableBatches.length===0&&this.adjustForm.get("vaccineId")?.value?"No batches available":"Select Batch"}static \u0275fac=function(t){return new(t||a)(S(st),S(G),S(dt),S(j),S(it))};static \u0275cmp=I({type:a,selectors:[["app-manager-stock"]],decls:90,vars:19,consts:[["noExpiry",""],["pageTitle","Vaccine Inventory"],[1,"stock-page"],[1,"page-header"],[1,"subtitle"],[1,"header-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning",3,"click"],["type","error",3,"message","show",4,"ngIf"],[1,"stock-overview"],[1,"overview-card"],[1,"card-icon"],[1,"card-value"],[1,"card-label"],[1,"overview-card","warning"],[1,"overview-card","error"],[1,"filters-card"],[1,"filter-group"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","good"],["value","low"],["value","out"],["value","expiring"],[1,"stock-table-card"],[1,"table-header"],[1,"table-container"],[1,"stock-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["type","error",3,"message","show"],[1,"status-badge",3,"ngClass"],[4,"ngIf","ngIfElse"],[1,"btn","btn-sm","btn-primary",3,"click"],["colspan","6",1,"no-data"],[1,"empty-state"],[1,"empty-icon"],[1,"modal-overlay",3,"click"],[1,"modal-content","large",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],[1,"required"],["formControlName","vaccineId",1,"form-input"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","error-text",4,"ngIf"],["type","text","formControlName","batchNumber","placeholder","e.g., BCG-2024-001",1,"form-input"],["type","number","formControlName","quantity","min","1","placeholder","Number of doses",1,"form-input"],["type","date","formControlName","expiryDate",1,"form-input"],["type","date","formControlName","receivedDate",1,"form-input",3,"value"],["type","text","formControlName","receivedFrom","placeholder","Supplier name",1,"form-input"],["formControlName","notes","rows","3","placeholder","Additional notes (optional)",1,"form-input"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"],[1,"error-text"],["formControlName","vaccineId",1,"form-input",3,"change"],["formControlName","batchNumber",1,"form-input",3,"change"],["class","input-hint",4,"ngIf"],["formControlName","adjustmentType",1,"form-input"],["value","ADD"],["value","SUBTRACT"],["type","number","formControlName","quantityChange","min","1","placeholder","Number of doses",1,"form-input"],["formControlName","reason",1,"form-input"],["value","DAMAGED"],["value","EXPIRED"],["value","LOST"],["value","CORRECTION"],["formControlName","notes","rows","3","placeholder","Additional details (optional)",1,"form-input"],["class","info-box",4,"ngIf"],["type","submit",1,"btn","btn-warning",3,"disabled"],[1,"input-hint"],[1,"info-box"],[1,"modal-content","success-modal",3,"click"],[1,"modal-header","success-header"],[1,"success-icon-wrapper"],[1,"success-icon-circle"],[1,"success-checkmark"],[1,"modal-title-section"],[1,"success-subtitle"],["aria-label","Close",1,"modal-close",3,"click"],[1,"modal-body","success-body"],["class","success-details",4,"ngIf"],[1,"modal-footer","success-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"success-details"],[1,"detail-card"],[1,"detail-icon"],[1,"detail-content"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value",3,"ngClass"],[1,"modal-content","large","detail-modal",3,"click"],[1,"modal-header","detail-header"],[1,"detail-header-icon"],["class","detail-subtitle",4,"ngIf"],["class","modal-body detail-body",4,"ngIf"],[1,"modal-footer","detail-footer"],[1,"detail-subtitle"],[1,"modal-body","detail-body"],[1,"stock-summary"],[1,"summary-card"],[1,"summary-icon"],[1,"summary-content"],[1,"summary-label"],[1,"summary-value"],[1,"summary-card",3,"ngClass"],["class","batches-section",4,"ngIf"],["class","no-batches",4,"ngIf"],[1,"batches-section"],[1,"section-title"],[1,"section-icon"],[1,"batches-list"],["class","batch-item",4,"ngFor","ngForOf"],[1,"batch-item"],[1,"batch-header"],[1,"batch-number"],[1,"batch-icon"],[1,"batch-quantity",3,"ngClass"],[1,"batch-details"],[1,"batch-detail-item"],[1,"detail-label-icon"],["class","batch-detail-item",4,"ngIf"],["class","batch-status-badge",4,"ngIf"],[1,"batch-status-badge"],[1,"no-batches"]],template:function(t,c){t&1&&(n(0,"app-layout",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1"),i(5,"Vaccine Inventory"),e(),n(6,"p",4),i(7),O(8,"date"),e()(),n(9,"div",5)(10,"button",6),m("click",function(){return c.loadStock()}),i(11,"\u{1F504} Refresh"),e(),n(12,"button",7),m("click",function(){return c.openReceiveModal()}),i(13,"+ Receive Stock"),e(),n(14,"button",8),m("click",function(){return c.openAdjustModal()}),i(15,"\u2696\uFE0F Adjust Stock"),e()()(),g(16,_t,1,2,"app-alert",9),n(17,"div",10)(18,"div",11)(19,"div",12),i(20,"\u{1F4E6}"),e(),n(21,"div",13),i(22),e(),n(23,"div",14),i(24,"Total Vaccine Types"),e()(),n(25,"div",15)(26,"div",12),i(27,"\u26A0\uFE0F"),e(),n(28,"div",13),i(29),e(),n(30,"div",14),i(31,"Low Stock Items"),e()(),n(32,"div",15)(33,"div",12),i(34,"\u{1F7E1}"),e(),n(35,"div",13),i(36),e(),n(37,"div",14),i(38,"Expiring Soon"),e()(),n(39,"div",16)(40,"div",12),i(41,"\u{1F534}"),e(),n(42,"div",13),i(43),e(),n(44,"div",14),i(45,"Out of Stock"),e()()(),n(46,"div",17)(47,"div",18)(48,"label"),i(49,"Status:"),e(),n(50,"select",19),N("ngModelChange",function(b){return V(c.filterStatus,b)||(c.filterStatus=b),b}),m("change",function(){return c.onFilterChange()}),n(51,"option",20),i(52,"All"),e(),n(53,"option",21),i(54,"Good"),e(),n(55,"option",22),i(56,"Low"),e(),n(57,"option",23),i(58,"Out of Stock"),e(),n(59,"option",24),i(60,"Expiring Soon"),e()()()(),n(61,"div",25)(62,"div",26)(63,"h3"),i(64),e()(),n(65,"div",27)(66,"table",28)(67,"thead")(68,"tr")(69,"th"),i(70,"Vaccine"),e(),n(71,"th"),i(72,"Current Stock"),e(),n(73,"th"),i(74,"Status"),e(),n(75,"th"),i(76,"Oldest Batch"),e(),n(77,"th"),i(78,"Expiry"),e(),n(79,"th"),i(80,"Actions"),e()()(),n(81,"tbody"),g(82,Ct,18,8,"tr",29)(83,bt,7,0,"tr",30),e()()()(),g(84,vt,1,0,"app-loader",30)(85,yt,53,11,"div",31)(86,Bt,65,12,"div",31),e(),g(87,At,21,1,"div",31)(88,Rt,21,1,"div",31)(89,$t,15,2,"div",31),e()),t&2&&(r(7),u("Last updated: ",P(8,16,c.lastUpdated,"medium")),r(9),d("ngIf",c.errorMessage),r(6),f(c.totalVaccineTypes),r(7),f(c.lowStockItems),r(7),f(c.expiringSoon),r(7),f(c.outOfStock),r(7),F("ngModel",c.filterStatus),r(14),u("Stock Levels (",c.filteredStockLevels.length,")"),r(18),d("ngForOf",c.filteredStockLevels),r(),d("ngIf",c.filteredStockLevels.length===0),r(),d("ngIf",c.loading),r(),d("ngIf",c.showReceiveModal),r(),d("ngIf",c.showAdjustModal),r(),d("ngIf",c.showSuccessModal),r(),d("ngIf",c.showAdjustSuccessModal),r(),d("ngIf",c.showDetailModal))},dependencies:[q,A,z,R,ot,H,tt,et,Y,J,Z,Q,W,nt,$,at,X,K,U,lt,rt,ct,L],styles:['.stock-page[_ngcontent-%COMP%]{padding:clamp(1.5rem,4vw,3rem);max-width:1920px;margin:0 auto;background:linear-gradient(135deg,#f8fafc,#f1f5f9);min-height:100vh}.stock-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1.5rem;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:2px solid #e2e8f0;flex-wrap:wrap}.stock-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex:1;min-width:200px;display:flex;flex-direction:column;gap:.5rem}.stock-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:#1e293b;margin:0}.stock-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0}.stock-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;align-items:center;flex-shrink:0}.stock-page[_ngcontent-%COMP%]   .stock-overview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:clamp(1rem,2vw,1.5rem);margin-bottom:2rem;padding:0}@media(max-width:768px){.stock-page[_ngcontent-%COMP%]   .stock-overview[_ngcontent-%COMP%]{gap:1rem}}.stock-page[_ngcontent-%COMP%]   .stock-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]{flex:1 1 calc(25% - 1.5rem);min-width:200px;background:linear-gradient(135deg,#fff,#fafbfc);padding:clamp(1.25rem,3vw,1.75rem);border-radius:20px;box-shadow:0 4px 20px #0000000f;text-align:center;border:1px solid rgba(226,232,240,.8);transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column;align-items:center;justify-content:center;box-sizing:border-box}@media(max-width:768px){.stock-page[_ngcontent-%COMP%]   .stock-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]{flex:1 1 calc(50% - 1rem);min-width:160px}}.stock-page[_ngcontent-%COMP%]   .stock-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 30px #0000001a}.stock-page[_ngcontent-%COMP%]   .stock-overview[_ngcontent-%COMP%]   .overview-card.warning[_ngcontent-%COMP%]{border-left:5px solid #f59e0b}.stock-page[_ngcontent-%COMP%]   .stock-overview[_ngcontent-%COMP%]   .overview-card.error[_ngcontent-%COMP%]{border-left:5px solid #ef4444}.stock-page[_ngcontent-%COMP%]   .stock-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.75rem;flex-shrink:0}.stock-page[_ngcontent-%COMP%]   .stock-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#1e293b;margin-bottom:.5rem;line-height:1.2;flex-shrink:0}.stock-page[_ngcontent-%COMP%]   .stock-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:500;flex-shrink:0}.stock-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc);padding:clamp(1.25rem,3vw,1.75rem);border-radius:24px;box-shadow:0 4px 20px #0000000f;margin-bottom:2rem;display:flex;gap:1.5rem;align-items:center;flex-wrap:wrap;border:1px solid rgba(226,232,240,.8)}.stock-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#475569;font-size:.9375rem}.stock-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #cbd5e1;border-radius:10px;font-size:.875rem;background:#fff;cursor:pointer;transition:all .2s}.stock-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc);border-radius:24px;box-shadow:0 4px 20px #0000000f;overflow:hidden;border:1px solid rgba(226,232,240,.8)}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{padding:clamp(1.25rem,3vw,1.75rem);border-bottom:3px solid #e2e8f0;background:linear-gradient(135deg,#f8fafc,#f1f5f9)}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800;background:linear-gradient(135deg,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9)}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;text-align:left;font-weight:800;color:#1e293b;font-size:.875rem;text-transform:uppercase;letter-spacing:.075em;border-bottom:3px solid #3b82f6}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;background:#fff}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#fafbfc}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#eff6ff,#dbeafe);transform:scale(1.01)}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;color:#475569;font-weight:600;vertical-align:middle;border-bottom:1px solid #e2e8f0;font-size:.9375rem}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:4px 12px;border-radius:12px;font-size:.75rem;font-weight:600}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   .status-badge.status-good[_ngcontent-%COMP%]{background:#4caf501a;color:#4caf50}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   .status-badge.status-low[_ngcontent-%COMP%]{background:#ff98001a;color:#ff9800}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   .status-badge.status-out[_ngcontent-%COMP%]{background:#f443361a;color:#ef4444}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;padding:3rem}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;display:block;margin-bottom:.5rem}.stock-page[_ngcontent-%COMP%]   .stock-table-card[_ngcontent-%COMP%]   .stock-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0}.stock-page[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex!important;align-items:center!important;justify-content:center!important;padding:12px 24px!important;font-size:.875rem!important;font-weight:600!important;border-radius:10px!important;border:none!important;cursor:pointer!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;text-decoration:none!important;min-width:120px!important;gap:.5rem!important;box-sizing:border-box!important}.stock-page[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed!important;transform:none!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)!important;color:#fff!important;box-shadow:0 4px 12px #3b82f64d!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)!important;box-shadow:0 6px 20px #3b82f666!important;background:linear-gradient(135deg,#2563eb,#1d4ed8)!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff!important;color:#475569!important;border:2px solid #cbd5e1!important;box-shadow:0 2px 4px #0000000d!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f1f5f9!important;border-color:#94a3b8!important;transform:translateY(-1px)!important;box-shadow:0 4px 8px #0000001a!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9800,#f57c00)!important;color:#fff!important;box-shadow:0 4px 12px #ff98004d!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-warning[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#f57c00,#e65100)!important;box-shadow:0 6px 20px #ff980066!important;transform:translateY(-2px)!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-warning[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)!important;box-shadow:0 4px 12px #ff98004d!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#388e3c)!important;color:#fff!important;box-shadow:0 4px 12px #4caf504d!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#388e3c,#2e7d32)!important;box-shadow:0 6px 20px #4caf5066!important;transform:translateY(-2px)!important}.stock-page[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]{padding:8px 16px!important;font-size:.8125rem!important;min-width:80px!important}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:translate(-50%) scale(0)}to{opacity:1;transform:translate(-50%) scale(1)}}.modal-overlay[_ngcontent-%COMP%]{position:fixed!important;inset:0!important;background:#0009!important;-webkit-backdrop-filter:blur(4px)!important;backdrop-filter:blur(4px)!important;display:flex!important;align-items:center!important;justify-content:center!important;z-index:10000!important;animation:_ngcontent-%COMP%_fadeIn .3s ease-out!important}.modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc)!important;border-radius:20px!important;padding:0!important;max-width:600px!important;width:90%!important;max-height:90vh!important;overflow:hidden!important;box-shadow:0 20px 60px #0000004d!important;border:2px solid rgba(59,130,246,.2)!important;animation:_ngcontent-%COMP%_slideUp .3s ease-out!important;position:relative!important;display:flex!important;flex-direction:column!important}.modal-content.large[_ngcontent-%COMP%]{max-width:800px!important}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem;border-bottom:2px solid #e2e8f0;background:linear-gradient(135deg,#f8fafc,#fff);border-radius:20px 20px 0 0}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:60px;height:60px;display:flex;align-items:center;justify-content:center;border-radius:50%}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-icon.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a)}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-icon.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b;display:flex;align-items:center;gap:.5rem;flex:1}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#64748b;cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b;transform:rotate(90deg)}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem!important;background:#fff!important;overflow-y:auto!important;flex:1!important}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.75rem;font-size:.9375rem;color:var(--gray-700)}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--gray-900);font-weight:600;margin-right:.5rem}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}@media(max-width:768px){.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:.5rem;color:#334155;font-size:.875rem}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:#ef4444;font-weight:700}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e2e8f0;border-radius:10px;font-size:.875rem;transition:all .3s cubic-bezier(.4,0,.2,1);background:#fff;color:#1e293b;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a;transform:translateY(-1px)}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:hover:not(:focus){border-color:#cbd5e1}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 4px #ef44441a}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{display:block;color:#ef4444;font-size:.75rem;margin-top:.25rem;font-weight:500}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.form-input[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{background:#f1f5f9;padding:1rem;border-radius:10px;margin-bottom:1.5rem;font-size:.875rem;color:#475569}.modal-content.success-modal[_ngcontent-%COMP%]{max-width:550px!important;border:2px solid rgba(76,175,80,.3)!important}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]{position:relative!important;background:linear-gradient(135deg,#d1fae5,#a7f3d0)!important;padding:2rem 1.5rem!important;border-bottom:3px solid #4caf50!important}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .success-icon-wrapper[_ngcontent-%COMP%]{position:absolute;top:-30px;left:50%;transform:translate(-50%);z-index:1}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .success-icon-circle[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#4caf50,#388e3c);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 24px #4caf5066;animation:_ngcontent-%COMP%_scaleIn .4s cubic-bezier(.34,1.56,.64,1)}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .success-icon-circle[_ngcontent-%COMP%]   .success-checkmark[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;font-weight:700;line-height:1}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .modal-title-section[_ngcontent-%COMP%]{text-align:center;width:100%;margin-top:2rem}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .modal-title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0 0 .5rem;display:block}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .modal-title-section[_ngcontent-%COMP%]   .success-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0;font-weight:500}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]{padding:2rem 1.5rem!important;background:#fff!important}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:12px;border:1px solid #e2e8f0;transition:all .3s ease}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]:hover{transform:translate(4px);box-shadow:0 4px 12px #00000014}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:2rem;width:50px;height:50px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:12px;flex-shrink:0}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]{flex:1}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.05em;margin-bottom:.25rem}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:1rem;color:#1e293b;font-weight:700}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .detail-value.positive[_ngcontent-%COMP%]{color:#4caf50}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .detail-value.negative[_ngcontent-%COMP%]{color:#ef4444}.modal-content.success-modal[_ngcontent-%COMP%]   .success-footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9)!important;border-top:2px solid #e2e8f0!important;padding:1.5rem!important;justify-content:center!important}.modal-content.success-modal[_ngcontent-%COMP%]   .success-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:150px!important;font-size:1rem!important;padding:14px 28px!important}.modal-content.success-modal[_ngcontent-%COMP%]   .success-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2rem}.modal-content.detail-modal[_ngcontent-%COMP%]{max-width:700px!important}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe)!important;border-bottom:3px solid #3b82f6!important;padding:1.5rem!important}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .detail-header-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin-right:1rem}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .modal-title-section[_ngcontent-%COMP%]{flex:1}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .modal-title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1.5rem;color:#1e293b}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .modal-title-section[_ngcontent-%COMP%]   .detail-subtitle[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:.875rem;font-weight:500}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]{padding:2rem 1.5rem!important}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:2rem}@media(max-width:768px){.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.25rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:12px;border:2px solid #e2e8f0;transition:all .3s ease}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0000001a}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]   .summary-card.status-good[_ngcontent-%COMP%]{border-color:#4caf50;background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]   .summary-card.status-low[_ngcontent-%COMP%]{border-color:#f59e0b;background:linear-gradient(135deg,#fef3c7,#fde68a)}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]   .summary-card.status-out[_ngcontent-%COMP%]{border-color:#ef4444;background:linear-gradient(135deg,#fee2e2,#fecaca)}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:60px;height:60px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:12px;flex-shrink:0}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{flex:1}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.05em;margin-bottom:.5rem}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .stock-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1.5rem;color:#1e293b;font-weight:700}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]{margin-top:2rem}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:1.25rem;font-weight:700;color:#1e293b;margin:0 0 1.5rem;padding-bottom:.75rem;border-bottom:2px solid #e2e8f0}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc);border:2px solid #e2e8f0;border-radius:12px;padding:1.25rem;transition:all .3s ease}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]:hover{transform:translate(4px);box-shadow:0 4px 12px #0000001a;border-color:#3b82f6}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-header[_ngcontent-%COMP%]   .batch-number[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:1.125rem;color:#1e293b}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-header[_ngcontent-%COMP%]   .batch-number[_ngcontent-%COMP%]   .batch-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-header[_ngcontent-%COMP%]   .batch-number[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-header[_ngcontent-%COMP%]   .batch-quantity[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;padding:.5rem 1rem;background:#f1f5f9;border-radius:8px}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-header[_ngcontent-%COMP%]   .batch-quantity.low-stock[_ngcontent-%COMP%]{background:#fef3c7;color:#f59e0b}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-header[_ngcontent-%COMP%]   .batch-quantity.depleted[_ngcontent-%COMP%]{background:#fee2e2;color:#ef4444}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-details[_ngcontent-%COMP%]   .batch-detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#475569}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-details[_ngcontent-%COMP%]   .batch-detail-item[_ngcontent-%COMP%]   .detail-label-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-details[_ngcontent-%COMP%]   .batch-detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:600;color:#64748b}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-details[_ngcontent-%COMP%]   .batch-detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:#1e293b;font-weight:500}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .batches-section[_ngcontent-%COMP%]   .batches-list[_ngcontent-%COMP%]   .batch-item[_ngcontent-%COMP%]   .batch-details[_ngcontent-%COMP%]   .batch-status-badge[_ngcontent-%COMP%]{margin-left:auto;padding:.375rem .75rem;background:#fee2e2;color:#ef4444;border-radius:8px;font-size:.75rem;font-weight:600}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .no-batches[_ngcontent-%COMP%]{padding:3rem 1rem;text-align:center}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .no-batches[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;display:block;margin-bottom:1rem;opacity:.5}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   .no-batches[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0}.modal-content.detail-modal[_ngcontent-%COMP%]   .detail-footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9)!important;border-top:2px solid #e2e8f0!important;padding:1.5rem!important;justify-content:flex-end!important}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end!important;gap:1rem!important;padding:1.5rem!important;border-top:2px solid #e2e8f0!important;background:linear-gradient(135deg,#f8fafc,#f1f5f9)!important;margin-top:1.5rem!important;border-radius:0 0 20px 20px!important;flex-shrink:0!important}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:120px!important}']})};export{mt as ManagerStockComponent};
