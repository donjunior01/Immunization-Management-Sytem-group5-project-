import{a as G,b as X,c as K}from"./chunk-6ARFJ7VZ.js";import{a as q}from"./chunk-6SFTNRGF.js";import{a as Y}from"./chunk-UAMZTM3J.js";import{a as Z}from"./chunk-IBCVUEYR.js";import{a as Q}from"./chunk-36544OJJ.js";import{a as W}from"./chunk-Y7V3HG6R.js";import{a as $}from"./chunk-QHILUX33.js";import{a as H}from"./chunk-RB2IKARN.js";import"./chunk-7UZYWCAJ.js";import"./chunk-MLMGL4QO.js";import{a as U}from"./chunk-TXE4BVN3.js";import"./chunk-VLP6GBL3.js";import{e as R}from"./chunk-3YJIJH2N.js";import{Ia as P,Ja as x,Oa as E,P as h,Ra as A,Sa as F,Ta as N,U as M,V as w,Wa as j,Ya as z,Z as y,_a as V,ba as m,ca as a,da as e,ea as C,jb as J,ma as _,mb as B,pa as k,qa as D,ra as I,va as i,wa as v,xa as S,ya as T}from"./chunk-T4RMSDZY.js";var et=["coverageChart"],at=["volumeChart"];function nt(d,n){if(d&1&&C(0,"app-alert",34),d&2){let t=_();m("message",t.infoMessage)("show",!!t.infoMessage)("dismissible",!0)}}function it(d,n){if(d&1&&C(0,"app-alert",35),d&2){let t=_();m("message",t.errorMessage)("show",!!t.errorMessage)("dismissible",!0)}}function ot(d,n){if(d&1&&(a(0,"tr",36)(1,"td")(2,"strong"),i(3),e()(),a(4,"td")(5,"span",37),i(6),e()(),a(7,"td"),i(8),P(9,"number"),e(),a(10,"td")(11,"span",38),i(12),P(13,"titlecase"),e()(),a(14,"td"),i(15),e()()),d&2){let t=n.$implicit,o=_();m("ngClass",o.getCoverageStatusClass(t.coverage)),h(3),v(t.name),h(2),m("ngClass",o.getCoverageStatusClass(t.coverage)),h(),S(" ",t.coverage,"% "),h(2),v(x(9,8,t.vaccinations)),h(4),T(" ",o.getStockStatusIcon(t.stockStatus)," ",x(13,10,t.stockStatus)," "),h(3),v(t.lastSync)}}function st(d,n){if(d&1&&C(0,"app-alert",39),d&2){let t=_();m("message",t.errorMessage)("show",!!t.errorMessage)}}function rt(d,n){if(d&1&&(a(0,"div",40),C(1,"canvas",41,0),e()),d&2){let t=_();h(),m("data",t.coverageChartData)("type",t.coverageChartType)("options",t.coverageChartOptions)}}function ct(d,n){d&1&&(a(0,"div",42)(1,"p"),i(2,"Loading coverage trend data..."),e()())}function dt(d,n){if(d&1&&(a(0,"div",40),C(1,"canvas",41,1),e()),d&2){let t=_();h(),m("data",t.volumeChartData)("type",t.volumeChartType)("options",t.volumeChartOptions)}}function lt(d,n){d&1&&(a(0,"div",42)(1,"p"),i(2,"Loading vaccination volume data..."),e()())}function gt(d,n){d&1&&C(0,"app-loader")}G.register(...X);var tt=class d{constructor(n,t,o,p,b,s){this.cdr=n;this.reportService=t;this.facilityService=o;this.authService=p;this.vaccinationService=b;this.stockService=s}coverageChart;volumeChart;map=null;mapMarkers=[];get hasCoverageChartData(){return!!(this.coverageChartData?.labels&&this.coverageChartData.labels.length>0)}get hasVolumeChartData(){return!!(this.volumeChartData?.labels&&this.volumeChartData.labels.length>0)}loading=!1;errorMessage="";infoMessage="";totalFacilities=0;vaccinationsThisMonth=0;districtCoverage=0;facilitiesLowStock=0;criticalAlerts=0;facilities=[];coverageChartType="line";coverageChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"District Coverage Trend (Last 6 Months)"}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(n){return n+"%"}}}}};coverageChartData={labels:[],datasets:[{label:"Coverage %",data:[],borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0,tension:.4},{label:"Target (90%)",data:[],borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:2,borderDash:[5,5],fill:!1}]};volumeChartType="bar";volumeChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"Monthly Vaccination Volume"}},scales:{y:{beginAtZero:!0}}};volumeChartData={labels:[],datasets:[{label:"Vaccinations",data:[],backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2}]};isLoadingData=!1;ngOnInit(){fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:133",message:"ngOnInit called",data:{hasCoverageChartData:!!this.coverageChartData,hasCoverageLabels:!!this.coverageChartData?.labels,coverageLabelsType:typeof this.coverageChartData?.labels,coverageLabelsLength:this.coverageChartData?.labels?.length,hasVolumeChartData:!!this.volumeChartData,hasVolumeLabels:!!this.volumeChartData?.labels,volumeLabelsType:typeof this.volumeChartData?.labels,volumeLabelsLength:this.volumeChartData?.labels?.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),this.loadDashboardData()}loadDashboardData(){if(this.isLoadingData)return;this.isLoadingData=!0,this.loading=!0;let n=Date.now(),t=this.authService.getCurrentUser(),o=t?.districtId,p=t?.facilityId;fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:168",message:"loadDashboardData started",data:{hasUser:!!t,hasDistrictId:!!o,hasFacilityId:!!p,userId:t?.id,userRole:t?.role},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"H"})}).catch(()=>{});let b=!1,s=!1,c=!1,f=!1,g=()=>{b&&s&&c&&f&&W(n,()=>{this.loading=!1,this.isLoadingData=!1,this.cdr.detectChanges()})},u=r=>{if(o){fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:185",message:"DistrictId already available",data:{districtId:o},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"H"})}).catch(()=>{}),f=!0,r();return}p?(fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:192",message:"Attempting to get districtId from facility",data:{facilityId:p},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"H"})}).catch(()=>{}),this.facilityService.getFacilityById(p).subscribe({next:l=>{let O=l.districtId||l.district;fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:210",message:"Facility loaded for districtId resolution",data:{facilityId:l?.id,facilityDistrictId:O,facilityDistrict:l?.district,hasDistrictId:!!O},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"H"})}).catch(()=>{}),O&&(o=O,fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:201",message:"DistrictId resolved from facility",data:{resolvedDistrictId:o},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"H"})}).catch(()=>{})),f=!0,r()},error:l=>{fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:225",message:"Failed to load facility for districtId",data:{facilityId:p,error:l?.message,errorStatus:l?.status,errorStatusText:l?.statusText},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"H"})}).catch(()=>{}),console.warn("Failed to load facility to get districtId:",l),l?.status===404?console.warn(`Facility with ID ${p} not found. User may have invalid facilityId.`):l?.status===403&&console.warn(`Access denied to facility ${p}. User may not have permission.`),f=!0,r()}})):(fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:232",message:"No districtId or facilityId available",data:{hasUser:!!t,userFacilityId:t?.facilityId,userDistrictId:t?.districtId},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"H"})}).catch(()=>{}),f=!0,r())};this.reportService.getNationalStatistics().subscribe({next:r=>{this.totalFacilities=r.totalFacilities||0,this.vaccinationsThisMonth=r.totalVaccinationsAdministered||0,this.districtCoverage=r.coverageRate||0,this.facilitiesLowStock=r.lowStockAlerts||0,this.criticalAlerts=r.facilitiesWithAlerts||0,b=!0,this.loadTrendData(),g()},error:r=>{console.error("Failed to load district statistics:",r),this.errorMessage="Failed to load district statistics. Please try again.",b=!0,g()}}),u(()=>{fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:264",message:"DistrictId resolution complete",data:{resolvedDistrictId:o,hasDistrictId:!!o},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"H"})}).catch(()=>{}),fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:267",message:"Loading all facilities (admin role)",data:{},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),this.facilityService.getAllFacilities(!0).subscribe({next:r=>{fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:271",message:"All facilities loaded",data:{facilitiesCount:r.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),r.length>0&&(this.totalFacilities=r.length),this.facilities=r.map(l=>({id:l.id,name:l.name||l.id,coverage:0,vaccinations:0,stockStatus:"good",lastSync:"N/A",status:"good",location:l.location||"",type:l.type||""})),s=!0,this.loadFacilityDetails(()=>{c=!0,fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:298",message:"Facilities loaded, checking map",data:{hasMap:!!this.map,facilitiesCount:this.facilities.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),this.map?this.updateMapMarkers():setTimeout(()=>{this.map||this.initializeMap(),this.map&&this.updateMapMarkers()},600),g()})},error:r=>{fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:290",message:"Failed to load all facilities",data:{error:r?.message},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),console.error("Failed to load all facilities:",r),this.errorMessage="Failed to load facilities. Using national statistics.",s=!0,c=!0,g()}})})}loadFacilityDetails(n){if(this.facilities.length===0){n&&n();return}let t=new Date,o=new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],p=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0],b=0,s=this.facilities.length;if(s===0){n&&n();return}this.facilities.forEach((c,f)=>{this.reportService.getDashboardStats(c.id).subscribe({next:g=>{if(c.vaccinations=g.vaccinationsThisMonth||0,c.coverage=g.coverageRate||0,g.expiringBatches>0||g.availableBatches===0?(c.stockStatus="out",c.status="error"):g.availableBatches<3?(c.stockStatus="low",c.status="warning"):(c.stockStatus="good",c.status="good"),b++,b===s){let u=this.facilities.reduce((l,O)=>l+(O.vaccinations||0),0);u>0&&(this.vaccinationsThisMonth=u);let r=this.facilities.length>0?this.facilities.reduce((l,O)=>l+(O.coverage||0),0)/this.facilities.length:0;r>0&&(this.districtCoverage=Math.round(r*10)/10),this.facilities.sort((l,O)=>(O.coverage||0)-(l.coverage||0)),this.facilitiesLowStock=this.facilities.filter(l=>l.stockStatus==="low"||l.stockStatus==="out").length,fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:383",message:"Facilities loaded with coverage, updating map",data:{hasMap:!!this.map,facilitiesCount:this.facilities.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),this.map?setTimeout(()=>this.updateMapMarkers(),100):setTimeout(()=>{this.map||this.initializeMap(),this.map&&this.updateMapMarkers()},600),this.cdr.detectChanges(),n&&n()}},error:g=>{console.warn(`Failed to load stats for facility ${c.id}:`,g),b++,b===s&&(this.cdr.detectChanges(),n&&n())}}),this.stockService.getStockLevels(c.id).subscribe({next:g=>{let u=g.filter(r=>r.status==="LOW"||r.status==="CRITICAL").length;u>0&&(c.stockStatus=u>2?"out":"low",c.status=u>2?"error":"warning",this.cdr.detectChanges())},error:g=>{}})})}getCoverageStatusClass(n){return n>=90?"status-good":n>=80?"status-warning":"status-error"}getStockStatusIcon(n){switch(n){case"good":return"\u{1F7E2}";case"low":return"\u{1F7E1}";case"out":return"\u{1F534}";default:return"\u26AA"}}loadTrendData(){let t=this.authService.getCurrentUser()?.districtId,o=new Date().toISOString().split("T")[0],p=new Date;p.setMonth(p.getMonth()-6);let b=p.toISOString().split("T")[0];this.reportService.getCoverageReport("",b,o).subscribe({next:s=>{if(fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:358",message:"loadTrendData report received",data:{hasTrendData:!!s.trendData,trendDataIsArray:Array.isArray(s.trendData),trendDataLength:s.trendData?.length,hasCoverageChartDataBefore:!!this.coverageChartData,hasCoverageLabelsBefore:!!this.coverageChartData?.labels},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{}),s.trendData&&Array.isArray(s.trendData)&&s.trendData.length>0){let c=s.trendData.map(g=>g.month||""),f=s.trendData.map(g=>g.coverage||0);fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:365",message:"Before coverageChartData assignment",data:{newLabelsLength:c.length,newDataLength:f.length,hasCoverageChartData:!!this.coverageChartData,hasCoverageLabels:!!this.coverageChartData?.labels},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),this.coverageChartData={labels:c,datasets:[{label:"Coverage %",data:f,borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0,tension:.4},{label:"Target (90%)",data:s.trendData.map(()=>90),borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:2,borderDash:[5,5],fill:!1}]},fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:385",message:"After coverageChartData assignment",data:{hasCoverageChartData:!!this.coverageChartData,hasCoverageLabels:!!this.coverageChartData?.labels,coverageLabelsType:typeof this.coverageChartData?.labels,coverageLabelsLength:this.coverageChartData?.labels?.length,coverageLabelsIsArray:Array.isArray(this.coverageChartData?.labels)},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{}),fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:405",message:"Coverage chart data updated",data:{labelsLength:this.coverageChartData?.labels?.length??0,datasetsLength:this.coverageChartData?.datasets?.length??0},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"G"})}).catch(()=>{}),this.cdr.detectChanges()}if(s.trendData&&Array.isArray(s.trendData)&&s.trendData.length>0){let c=s.trendData.map(g=>Math.round((g.coverage||0)*10)),f=s.trendData.map(g=>g.month||"");fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:400",message:"Before volumeChartData assignment",data:{volumeLabelsLength:f.length,estimatedVaccinationsLength:c.length,hasVolumeChartData:!!this.volumeChartData,hasVolumeLabels:!!this.volumeChartData?.labels},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"E"})}).catch(()=>{}),this.volumeChartData={labels:f,datasets:[{label:"Vaccinations",data:c,backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2}]},fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:412",message:"After volumeChartData assignment",data:{hasVolumeChartData:!!this.volumeChartData,hasVolumeLabels:!!this.volumeChartData?.labels,volumeLabelsType:typeof this.volumeChartData?.labels,volumeLabelsLength:this.volumeChartData?.labels?.length,volumeLabelsIsArray:Array.isArray(this.volumeChartData?.labels)},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"E"})}).catch(()=>{}),fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:420",message:"Volume chart data updated",data:{labelsLength:this.volumeChartData?.labels?.length??0,datasetsLength:this.volumeChartData?.datasets?.length??0},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"G"})}).catch(()=>{}),this.cdr.detectChanges()}},error:s=>{console.warn("Failed to load trend data:",s)}})}ngAfterViewInit(){setTimeout(()=>{fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:525",message:"ngAfterViewInit - initializing map",data:{facilitiesCount:this.facilities.length,hasMap:!!this.map,leafletLoaded:typeof L<"u"},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),this.initializeMap()},500)}ngOnDestroy(){this.map&&(this.map.remove(),this.map=null),this.mapMarkers=[]}initializeMap(){if(fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:538",message:"initializeMap called",data:{leafletLoaded:typeof L<"u",facilitiesCount:this.facilities.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),typeof L>"u"){console.warn("Leaflet not loaded"),fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:541",message:"Leaflet not loaded",data:{},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{});return}let n=document.getElementById("facility-map");if(fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:545",message:"Checking map container",data:{mapContainerExists:!!n},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),!n){console.warn("Map container not found");return}let t=[-1.2921,36.8219];this.map=L.map("facility-map",{center:t,zoom:6,zoomControl:!0}),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap contributors",maxZoom:19}).addTo(this.map),fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:567",message:"Map initialized",data:{facilitiesCount:this.facilities.length,willUpdateMarkers:this.facilities.length>0},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),this.facilities.length>0&&this.updateMapMarkers()}updateMapMarkers(){if(fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:573",message:"updateMapMarkers called",data:{hasMap:!!this.map,leafletLoaded:typeof L<"u",facilitiesCount:this.facilities.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{}),!this.map||typeof L>"u"){fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:576",message:"updateMapMarkers early return",data:{hasMap:!!this.map,leafletLoaded:typeof L<"u"},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{});return}if(this.mapMarkers.forEach(t=>t.remove()),this.mapMarkers=[],this.facilities.length===0){fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:582",message:"No facilities to display",data:{},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{});return}let n=[];this.facilities.forEach((t,o)=>{let p=t.id.split("").reduce((u,r)=>u+r.charCodeAt(0),0),b=-1.2921+(p%100/100-.5)*2,s=36.8219+(p*7%100/100-.5)*2,c="#ef4444";t.coverage>=90?c="#22c55e":t.coverage>=80&&(c="#f59e0b");let f=L.divIcon({className:"custom-marker",html:`<div style="background-color: ${c}; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>`,iconSize:[20,20],iconAnchor:[10,10]}),g=L.marker([b,s],{icon:f}).addTo(this.map).bindPopup(`
          <div style="min-width: 200px;">
            <h4 style="margin: 0 0 8px 0; font-weight: 600;">${t.name}</h4>
            <p style="margin: 4px 0; font-size: 0.875rem;"><strong>Coverage:</strong> ${t.coverage}%</p>
            <p style="margin: 4px 0; font-size: 0.875rem;"><strong>Vaccinations:</strong> ${t.vaccinations}</p>
            <p style="margin: 4px 0; font-size: 0.875rem;"><strong>Stock:</strong> ${t.stockStatus}</p>
            ${t.location?`<p style="margin: 4px 0; font-size: 0.875rem;"><strong>Location:</strong> ${t.location}</p>`:""}
          </div>
        `);this.mapMarkers.push(g),n.push([b,s])}),n.length>0?(this.map.fitBounds(n,{padding:[50,50]}),fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:627",message:"Map markers added and bounds fitted",data:{markersCount:this.mapMarkers.length,boundsCount:n.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{})):fetch("http://127.0.0.1:7243/ingest/beb0f3e8-0ff1-4b21-b2a4-519a994a184e",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"district-dashboard.component.ts:630",message:"No bounds to fit",data:{markersCount:this.mapMarkers.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{})}static \u0275fac=function(t){return new(t||d)(M(E),M(q),M(Q),M(R),M(Y),M(Z))};static \u0275cmp=w({type:d,selectors:[["app-district-dashboard"]],viewQuery:function(t,o){if(t&1&&k(et,5)(at,5),t&2){let p;D(p=I())&&(o.coverageChart=p.first),D(p=I())&&(o.volumeChart=p.first)}},decls:106,vars:16,consts:[["coverageChart",""],["volumeChart",""],["pageTitle","District Officer Dashboard"],[1,"district-dashboard"],["type","info",3,"message","show","dismissible",4,"ngIf"],["type","error",3,"message","show","dismissible",4,"ngIf"],[1,"stats-row"],[1,"stat-card"],[1,"stat-header"],[1,"stat-icon"],[1,"stat-label"],[1,"stat-value"],[1,"stat-trend","positive"],[1,"stat-trend","warning"],[1,"stat-trend","error"],[1,"section-card","map-section"],[1,"section-header"],[1,"section-title"],[1,"map-legend"],[1,"legend-item"],[1,"legend-color","good"],[1,"legend-color","warning"],[1,"legend-color","error"],["id","facility-map",1,"facility-map-container"],[1,"section-card"],["routerLink","/district/facilities",1,"view-all-link"],[1,"facility-table-container"],[1,"facility-table"],[3,"ngClass",4,"ngFor","ngForOf"],["type","warning",3,"message","show",4,"ngIf"],[1,"charts-section"],["class","chart-container",4,"ngIf"],["class","chart-placeholder",4,"ngIf"],[4,"ngIf"],["type","info",3,"message","show","dismissible"],["type","error",3,"message","show","dismissible"],[3,"ngClass"],[1,"coverage-badge",3,"ngClass"],[1,"stock-status"],["type","warning",3,"message","show"],[1,"chart-container"],["baseChart","",3,"data","type","options"],[1,"chart-placeholder"]],template:function(t,o){t&1&&(a(0,"app-layout",2)(1,"div",3),y(2,nt,1,3,"app-alert",4)(3,it,1,3,"app-alert",5),a(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9),i(8,"\u{1F3E5}"),e(),a(9,"div",10),i(10,"Total Facilities"),e()(),a(11,"div",11),i(12),e()(),a(13,"div",7)(14,"div",8)(15,"div",9),i(16,"\u{1F489}"),e(),a(17,"div",10),i(18,"Vaccinations This Month"),e()(),a(19,"div",11),i(20),P(21,"number"),e(),a(22,"div",12),i(23,"\u2191 12%"),e()(),a(24,"div",7)(25,"div",8)(26,"div",9),i(27,"\u{1F4CA}"),e(),a(28,"div",10),i(29,"District Coverage"),e()(),a(30,"div",11),i(31),e(),a(32,"div",12),i(33,"\u2191 2%"),e()(),a(34,"div",7)(35,"div",8)(36,"div",9),i(37,"\u26A0\uFE0F"),e(),a(38,"div",10),i(39,"Facilities Low Stock"),e()(),a(40,"div",11),i(41),e(),a(42,"div",13),i(43,"\u26A0\uFE0F"),e()(),a(44,"div",7)(45,"div",8)(46,"div",9),i(47,"\u{1F534}"),e(),a(48,"div",10),i(49,"Critical Alerts"),e()(),a(50,"div",11),i(51),e(),a(52,"div",14),i(53,"\u{1F534}"),e()()(),a(54,"div",15)(55,"div",16)(56,"h3",17),i(57,"Facility Map"),e(),a(58,"div",18)(59,"span",19),C(60,"span",20),i(61," >90% Coverage"),e(),a(62,"span",19),C(63,"span",21),i(64," 80-90% Coverage"),e(),a(65,"span",19),C(66,"span",22),i(67," <80% Coverage"),e()()(),C(68,"div",23),e(),a(69,"div",24)(70,"div",16)(71,"h3",17),i(72,"Facility Performance"),e(),a(73,"a",25),i(74,"View All \u2192"),e()(),a(75,"div",26)(76,"table",27)(77,"thead")(78,"tr")(79,"th"),i(80,"Facility Name"),e(),a(81,"th"),i(82,"Coverage Rate"),e(),a(83,"th"),i(84,"Vaccinations This Month"),e(),a(85,"th"),i(86,"Stock Status"),e(),a(87,"th"),i(88,"Last Sync"),e()()(),a(89,"tbody"),y(90,ot,16,12,"tr",28),e()()()(),y(91,st,1,2,"app-alert",29),a(92,"div",30)(93,"div",24)(94,"div",16)(95,"h3",17),i(96,"Coverage Trend"),e()(),y(97,rt,3,3,"div",31)(98,ct,3,0,"div",32),e(),a(99,"div",24)(100,"div",16)(101,"h3",17),i(102,"Vaccination Volume"),e()(),y(103,dt,3,3,"div",31)(104,lt,3,0,"div",32),e()(),y(105,gt,1,0,"app-loader",33),e()()),t&2&&(h(2),m("ngIf",o.infoMessage),h(),m("ngIf",o.errorMessage),h(9),v(o.totalFacilities),h(8),v(x(21,14,o.vaccinationsThisMonth)),h(11),S("",o.districtCoverage,"%"),h(10),v(o.facilitiesLowStock),h(10),v(o.criticalAlerts),h(39),m("ngForOf",o.facilities),h(),m("ngIf",o.errorMessage),h(6),m("ngIf",o.hasCoverageChartData),h(),m("ngIf",!o.hasCoverageChartData),h(5),m("ngIf",o.hasVolumeChartData),h(),m("ngIf",!o.hasVolumeChartData),h(),m("ngIf",o.loading))},dependencies:[V,A,F,N,B,J,U,H,$,K,z,j],styles:['.district-dashboard[_ngcontent-%COMP%]{padding:clamp(1.5rem,4vw,3rem);display:flex;flex-direction:column;gap:clamp(1.5rem,3vw,2.5rem);max-width:1920px;margin:0 auto;background:linear-gradient(135deg,#f8fafc,#f1f5f9);min-height:100vh}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:clamp(1rem,2vw,1.5rem);margin-bottom:2rem}@media(max-width:1200px){.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}}@media(max-width:768px){.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc);padding:clamp(1.25rem,3vw,2rem);border-radius:20px;box-shadow:0 4px 20px #0000000f,0 1px 4px #0000000a;transition:all .4s cubic-bezier(.4,0,.2,1);border:2px solid transparent;position:relative;overflow:hidden}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--accent-color),var(--accent-color-light));transform:scaleX(0);transform-origin:left;transition:transform .4s cubic-bezier(.4,0,.2,1)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 12px 40px #0000001f,0 4px 12px #00000014;border-color:var(--accent-color)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-primary[_ngcontent-%COMP%]{--accent-color: #3b82f6;--accent-color-light: #60a5fa;border-color:#3b82f626}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#eff6ff,#dbeafe)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-success[_ngcontent-%COMP%]{--accent-color: #10b981;--accent-color-light: #34d399;border-color:#10b98126}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ecfdf5,#d1fae5)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-info[_ngcontent-%COMP%]{--accent-color: #06b6d4;--accent-color-light: #22d3ee;border-color:#06b6d426}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-info[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ecfeff,#cffafe)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-warning[_ngcontent-%COMP%]{--accent-color: #f59e0b;--accent-color-light: #fbbf24;border-color:#f59e0b26}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#fffbeb,#fef3c7)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.5rem}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-header[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1));transition:transform .3s ease}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-header[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:600;line-height:1.4;letter-spacing:.01em}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:clamp(2.25rem,5vw,3.5rem);font-weight:800;background:linear-gradient(135deg,var(--accent-color) 0%,var(--accent-color-light) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.75rem;line-height:1.1;letter-spacing:-.02em}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;display:inline-flex;align-items:center;gap:.25rem;padding:.375rem .75rem;border-radius:12px;background:#0000000a}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-trend.positive[_ngcontent-%COMP%]{color:#10b981;background:#10b9811a}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-trend.warning[_ngcontent-%COMP%]{color:#f59e0b;background:#f59e0b1a}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-trend.error[_ngcontent-%COMP%]{color:#ef4444;background:#ef44441a}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc);border-radius:24px;box-shadow:0 4px 20px #0000000f,0 1px 4px #0000000a;padding:clamp(1.5rem,3vw,2.25rem);margin-bottom:2rem;transition:all .4s cubic-bezier(.4,0,.2,1);border:1px solid rgba(226,232,240,.8);position:relative}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:24px;padding:2px;background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;opacity:0;transition:opacity .4s ease}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 40px #0000001a,0 4px 12px #0000000f;transform:translateY(-4px)}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]:hover:before{opacity:1}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.75rem;padding-bottom:1.25rem;border-bottom:3px solid #e2e8f0;position:relative}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-3px;left:0;width:80px;height:3px;background:linear-gradient(90deg,#3b82f6,#8b5cf6);border-radius:3px}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;background:linear-gradient(135deg,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0;letter-spacing:-.01em}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .view-all-link[_ngcontent-%COMP%]{color:#3b82f6;text-decoration:none;font-size:.9375rem;font-weight:700;padding:.625rem 1.25rem;border-radius:12px;transition:all .3s ease;display:inline-flex;align-items:center;gap:.5rem;background:#3b82f614}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .view-all-link[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:translate(4px);box-shadow:0 4px 12px #3b82f64d}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]{display:flex;gap:var(--space-4)}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-1);font-size:.875rem;color:var(--gray-600)}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;display:inline-block;border:2px solid white;box-shadow:0 1px 3px #0003}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.good[_ngcontent-%COMP%]{background:#22c55e}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.warning[_ngcontent-%COMP%]{background:#f59e0b}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.error[_ngcontent-%COMP%]{background:#ef4444}.district-dashboard[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%]   .facility-map-container[_ngcontent-%COMP%]{min-height:500px;width:100%;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px #0000001a;background:#f8fafc}.district-dashboard[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%]   .facility-map-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:global(.leaflet-container){height:100%;min-height:500px;width:100%;border-radius:12px;font-family:inherit}.district-dashboard[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%]   .facility-map-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:global(.leaflet-popup-content-wrapper){border-radius:8px;box-shadow:0 4px 12px #00000026}.district-dashboard[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%]   .facility-map-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:global(.leaflet-popup-content){margin:12px;font-size:.875rem}.district-dashboard[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%]   .facility-map-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:global(.custom-marker){background:transparent!important;border:none!important}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:16px;box-shadow:inset 0 2px 8px #0000000a}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);position:sticky;top:0;z-index:10;box-shadow:0 2px 8px #0000000d}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;text-align:left;font-weight:800;color:#1e293b;font-size:.875rem;text-transform:uppercase;letter-spacing:.075em;border-bottom:3px solid #3b82f6}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-radius:16px 0 0}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-radius:0 16px 0 0}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;background:#fff}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#fafbfc}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#eff6ff,#dbeafe);transform:scale(1.01);box-shadow:0 4px 12px #3b82f626}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.status-good[_ngcontent-%COMP%]{border-left:5px solid #10b981}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.status-warning[_ngcontent-%COMP%]{border-left:5px solid #f59e0b}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.status-error[_ngcontent-%COMP%]{border-left:5px solid #ef4444}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;color:#475569;font-weight:600;vertical-align:middle;border-bottom:1px solid #e2e8f0;font-size:.9375rem}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{color:#1e293b;font-weight:700}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   .coverage-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:.875rem;font-weight:600}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   .coverage-badge.status-good[_ngcontent-%COMP%]{background:#4caf501a;color:var(--success)}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   .coverage-badge.status-warning[_ngcontent-%COMP%]{background:#ff98001a;color:var(--warning)}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   .coverage-badge.status-error[_ngcontent-%COMP%]{background:#f443361a;color:var(--error)}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   .stock-status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-1);font-size:.875rem}.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-5)}@media(max-width:1024px){.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr}}.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:400px;position:relative;padding:1rem}.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]{min-height:300px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--gray-50);border-radius:6px;color:var(--gray-600);text-align:center;padding:var(--space-4)}.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:var(--space-2)}.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-note[_ngcontent-%COMP%]{font-size:.875rem;font-style:italic}']})};export{tt as DistrictDashboardComponent};
