import{b as m}from"./chunk-K3XQKY74.js";import{db as d,k as n,v as r,z as c}from"./chunk-T4RMSDZY.js";var o=class a{http=c(d);apiUrl=m.apiUrl;getAllVaccines(){return this.http.get(`${this.apiUrl}/inventory/vaccines`)}recordVaccination(e){return this.http.post(`${this.apiUrl}/vaccinations`,e).pipe(n(t=>({id:String(t.id||""),patientId:String(t.patientId||""),patientName:t.patientName||"",vaccineId:"",vaccineName:t.vaccineName||"",doseNumber:t.doseNumber||1,batchNumber:t.batchNumber||"",administeredDate:t.dateAdministered||t.administeredDate||"",date:t.dateAdministered||t.administeredDate||"",administeredBy:t.nurseName||"",administeredByName:t.nurseName||"",administrationSite:t.administrationSite||"LEFT_ARM",site:t.administrationSite||"LEFT_ARM",notes:t.notes||"",facilityId:t.facilityId||"",facilityName:"",nextAppointmentId:t.nextAppointmentId?String(t.nextAppointmentId):void 0,nextAppointmentDate:t.nextAppointmentDate||void 0})))}getVaccinationById(e){return this.http.get(`${this.apiUrl}/vaccinations/${e}`)}reportAdverseEvent(e){return this.http.post(`${this.apiUrl}/adverse-events`,e)}getPatientVaccinations(e){return this.http.get(`${this.apiUrl}/patients/${e}/vaccinations`)}getVaccinationsByFacility(e){return this.http.get(`${this.apiUrl}/vaccinations/facility/${e}`).pipe(n(t=>t.map(i=>({id:String(i.id||""),patientId:String(i.patientId||""),patientName:i.patientName||"",vaccineId:"",vaccineName:i.vaccineName||"",doseNumber:i.doseNumber||1,batchNumber:i.batchNumber||"",administeredDate:i.dateAdministered||i.administeredDate||"",date:i.dateAdministered||i.administeredDate||"",administeredBy:i.nurseName||i.administeredBy||"",administeredByName:i.nurseName||i.administeredByName||"",administrationSite:"LEFT_ARM",site:"LEFT_ARM",notes:i.notes||"",facilityId:i.facilityId||"",facilityName:""}))))}getVaccinationsByDateRange(e,t,i){return this.http.get(`${this.apiUrl}/vaccinations/facility/${e}`,{params:{startDate:t,endDate:i}})}static \u0275fac=function(t){return new(t||a)};static \u0275prov=r({token:a,factory:a.\u0275fac,providedIn:"root"})};export{o as a};
