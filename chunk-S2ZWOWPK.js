import{a as P}from"./chunk-DS5JRME6.js";import{a as se}from"./chunk-E62IOWU4.js";import{a as le}from"./chunk-Z3ZPAFT5.js";import"./chunk-JMDA2KYA.js";import"./chunk-FP7EL6KI.js";import{a as ce}from"./chunk-YTZ64FHX.js";import{a as D}from"./chunk-Y7V3HG6R.js";import{a as ae}from"./chunk-QHILUX33.js";import{a as oe}from"./chunk-RB2IKARN.js";import"./chunk-7UZYWCAJ.js";import"./chunk-MLMGL4QO.js";import{a as re}from"./chunk-4G3G25LR.js";import{b as G,c as v,d as Q,e as U,f as W,g as Y,h as H,k as $,l as K,m as J,n as X,o as Z,q as ee,t as te,u as ne,v as ie}from"./chunk-VLP6GBL3.js";import{e as j}from"./chunk-K3XQKY74.js";import{A as g,Aa as O,B as f,Ba as y,Ca as S,Ea as T,Ia as w,Ka as V,Oa as R,P as s,Sa as A,Ta as z,U as M,V as N,Xa as B,Z as _,_a as L,ba as d,ca as n,da as t,ea as h,ka as x,la as p,ma as m,mb as q,va as a,wa as b,xa as C,ya as k,za as F}from"./chunk-T4RMSDZY.js";var ge=()=>({standalone:!0});function fe(r,i){if(r&1&&h(0,"app-alert",20),r&2){let e=m();d("message",e.errorMessage)("show",!!e.errorMessage)}}function _e(r,i){if(r&1){let e=x();n(0,"button",21),p("click",function(){g(e);let c=m();return c.filterDate="",f(c.onDateChange())}),a(1," Clear "),t()}}function ue(r,i){if(r&1&&(n(0,"tr")(1,"td")(2,"div",22)(3,"strong"),a(4),t()()(),n(5,"td"),a(6),t(),n(7,"td")(8,"span",23),a(9),t()(),n(10,"td"),a(11),t(),n(12,"td"),a(13),w(14,"date"),t(),n(15,"td"),a(16),t()()),r&2){let e=i.$implicit;s(4),b(e.patientName||"N/A"),s(2),b(e.vaccineName||"N/A"),s(3),C("Dose ",e.doseNumber||1),s(2),b(e.batchNumber||"N/A"),s(2),b(V(14,6,e.administeredDate,"shortDate")),s(3),b(e.administeredBy||"N/A")}}function be(r,i){r&1&&(n(0,"tr")(1,"td",24)(2,"div",25)(3,"span",26),a(4,"\u{1F489}"),t(),n(5,"p"),a(6,"No vaccinations found"),t()()()())}function Ce(r,i){r&1&&h(0,"app-loader")}function ve(r,i){if(r&1){let e=x();n(0,"div",56),p("click",function(){let c=g(e).$implicit,l=m(3);return f(l.selectPatient(c))}),a(1),t()}if(r&2){let e=i.$implicit;s(),k(" ",e.fullName||e.firstName+" "+e.lastName," - ",e.age||"N/A"," months ")}}function Me(r,i){if(r&1&&(n(0,"div",54),_(1,ve,2,2,"div",55),t()),r&2){let e=m(2);s(),d("ngForOf",e.patientSearchResults)}}function he(r,i){if(r&1&&(n(0,"div",57),a(1," Selected: "),n(2,"strong"),a(3),t()()),r&2){let e=m(2);s(3),b(e.selectedPatient.fullName||e.selectedPatient.firstName+" "+e.selectedPatient.lastName)}}function xe(r,i){if(r&1&&(n(0,"span",58),a(1),t()),r&2){let e=m(2);s(),C(" ",e.getFieldError("patientId")," ")}}function Pe(r,i){if(r&1&&(n(0,"option",59),a(1),t()),r&2){let e=i.$implicit;d("value",e.id),s(),C(" ",e.name," ")}}function Oe(r,i){if(r&1&&(n(0,"span",58),a(1),t()),r&2){let e=m(2);s(),C(" ",e.getFieldError("vaccineId")," ")}}function ye(r,i){if(r&1&&(n(0,"span",58),a(1),t()),r&2){let e=m(2);s(),C(" ",e.getFieldError("doseNumber")," ")}}function Se(r,i){if(r&1&&(n(0,"option",59),a(1),w(2,"date"),t()),r&2){let e=i.$implicit;d("value",e.batchNumber),s(),F(" ",e.batchNumber," (",e.quantity," doses, expires ",V(2,4,e.expiryDate,"shortDate"),") ")}}function we(r,i){if(r&1&&(n(0,"span",58),a(1),t()),r&2){let e=m(2);s(),C(" ",e.getFieldError("batchNumber")," ")}}function Ve(r,i){if(r&1&&(n(0,"span",58),a(1),t()),r&2){let e=m(2);s(),C(" ",e.getFieldError("administeredDate")," ")}}function Ie(r,i){if(r&1){let e=x();n(0,"div",27),p("click",function(){g(e);let c=m();return f(c.closeRecordModal())}),n(1,"div",28),p("click",function(c){return g(e),f(c.stopPropagation())}),n(2,"div",29)(3,"h2"),a(4,"\u{1F489} Record Vaccination"),t(),n(5,"button",30),p("click",function(){g(e);let c=m();return f(c.closeRecordModal())}),a(6,"\xD7"),t()(),n(7,"form",31),p("ngSubmit",function(){g(e);let c=m();return f(c.onRecordSubmit())}),n(8,"div",32)(9,"label",33),a(10,"Patient"),t(),n(11,"input",34),S("ngModelChange",function(c){g(e);let l=m();return y(l.patientSearchQuery,c)||(l.patientSearchQuery=c),f(c)}),p("input",function(){g(e);let c=m();return f(c.searchPatients())}),t(),_(12,Me,2,1,"div",35)(13,he,4,1,"div",36)(14,xe,2,1,"span",37),t(),n(15,"div",38)(16,"div",32)(17,"label",33),a(18,"Vaccine"),t(),n(19,"select",39),p("change",function(){g(e);let c=m();return f(c.onVaccineChange())}),n(20,"option",40),a(21,"Select Vaccine"),t(),_(22,Pe,2,2,"option",41),t(),_(23,Oe,2,1,"span",37),t(),n(24,"div",32)(25,"label",33),a(26,"Dose Number"),t(),h(27,"input",42),_(28,ye,2,1,"span",37),t()(),n(29,"div",38)(30,"div",32)(31,"label",33),a(32,"Batch Number"),t(),n(33,"select",43)(34,"option",40),a(35,"Select Batch"),t(),_(36,Se,3,7,"option",41),t(),_(37,we,2,1,"span",37),t(),n(38,"div",32)(39,"label",33),a(40,"Administered Date"),t(),h(41,"input",44),_(42,Ve,2,1,"span",37),t()(),n(43,"div",32)(44,"label",33),a(45,"Administration Site"),t(),n(46,"select",45)(47,"option",46),a(48,"Left Arm"),t(),n(49,"option",47),a(50,"Right Arm"),t(),n(51,"option",48),a(52,"Left Thigh"),t(),n(53,"option",49),a(54,"Right Thigh"),t()()(),n(55,"div",32)(56,"label"),a(57,"Adverse Event Notes (Optional)"),t(),h(58,"textarea",50),t(),n(59,"div",51)(60,"button",52),p("click",function(){g(e);let c=m();return f(c.closeRecordModal())}),a(61,"Cancel"),t(),n(62,"button",53),a(63),t()()()()()}if(r&2){let e=m();s(7),d("formGroup",e.vaccinationForm),s(4),O("ngModel",e.patientSearchQuery),d("ngModelOptions",T(15,ge)),s(),d("ngIf",e.patientSearchResults.length>0),s(),d("ngIf",e.selectedPatient),s(),d("ngIf",e.isFieldInvalid("patientId")),s(8),d("ngForOf",e.availableVaccines),s(),d("ngIf",e.isFieldInvalid("vaccineId")),s(5),d("ngIf",e.isFieldInvalid("doseNumber")),s(8),d("ngForOf",e.availableBatches),s(),d("ngIf",e.isFieldInvalid("batchNumber")),s(4),d("value",e.getTodayDate()),s(),d("ngIf",e.isFieldInvalid("administeredDate")),s(20),d("disabled",e.loading||e.vaccinationForm.invalid),s(),C(" ",e.loading?"Recording...":"Record Vaccination"," ")}}function Ee(r,i){if(r&1&&(n(0,"div",72)(1,"div",73)(2,"div",74),a(3,"\u{1F464}"),t(),n(4,"div",75)(5,"div",76),a(6,"Patient"),t(),n(7,"div",77),a(8),t()()(),n(9,"div",73)(10,"div",74),a(11,"\u{1F489}"),t(),n(12,"div",75)(13,"div",76),a(14,"Vaccine"),t(),n(15,"div",77),a(16),t()()(),n(17,"div",73)(18,"div",74),a(19,"\u{1F4E6}"),t(),n(20,"div",75)(21,"div",76),a(22,"Batch Number"),t(),n(23,"div",77),a(24),t()()(),n(25,"div",73)(26,"div",74),a(27,"\u{1F4C5}"),t(),n(28,"div",75)(29,"div",76),a(30,"Date Administered"),t(),n(31,"div",77),a(32),w(33,"date"),t()()()()),r&2){let e=m(2);s(8),b(e.recordedVaccination.patientName),s(8),k("",e.recordedVaccination.vaccineName," (Dose ",e.recordedVaccination.doseNumber,")"),s(8),b(e.recordedVaccination.batchNumber),s(8),b(V(33,5,e.recordedVaccination.dateAdministered,"dd MMM yyyy"))}}function ke(r,i){if(r&1){let e=x();n(0,"div",27),p("click",function(){g(e);let c=m();return f(c.showSuccessModal=!1)}),n(1,"div",60),p("click",function(c){return g(e),f(c.stopPropagation())}),n(2,"div",61)(3,"div",62)(4,"div",63)(5,"span",64),a(6,"\u2713"),t()()(),n(7,"div",65)(8,"h2"),a(9,"\u{1F489} Vaccination Recorded Successfully!"),t(),n(10,"p",66),a(11,"The vaccination has been added to the patient's record"),t()(),n(12,"button",67),p("click",function(){g(e);let c=m();return f(c.showSuccessModal=!1)}),a(13,"\xD7"),t()(),n(14,"div",68),_(15,Ee,34,8,"div",69),t(),n(16,"div",70)(17,"button",71),p("click",function(){g(e);let c=m();return f(c.showSuccessModal=!1)}),n(18,"span"),a(19,"\u2713"),t(),a(20," Got it "),t()()()()}if(r&2){let e=m();s(15),d("ngIf",e.recordedVaccination)}}var de=class r{constructor(i,e,o,c,l,I){this.vaccinationService=i;this.patientService=e;this.stockService=o;this.authService=c;this.cdr=l;this.fb=I;this.vaccinationForm=this.fb.group({patientId:["",[v.required]],vaccineId:["",[v.required]],doseNumber:[1,[v.required,v.min(1)]],batchNumber:["",[v.required]],administeredDate:[P(new Date,"yyyy-MM-dd"),[v.required]],administrationSite:["LEFT_ARM",[v.required]],adverseEventNotes:[""]})}vaccinations=[];filteredVaccinations=[];loading=!1;errorMessage="";searchQuery="";filterDate="";isLoadingData=!1;showRecordModal=!1;showSuccessModal=!1;recordedVaccination=null;vaccinationForm;availableVaccines=[];availableBatches=[];patientSearchQuery="";patientSearchResults=[];selectedPatient=null;ngOnInit(){this.loadVaccinations(),this.loadVaccines()}loadVaccines(){this.vaccinationService.getAllVaccines().subscribe({next:i=>{this.availableVaccines=i},error:i=>{console.warn("Failed to load vaccines:",i),this.availableVaccines=[]}})}loadVaccinations(){if(this.isLoadingData)return;this.isLoadingData=!0,this.loading=!0;let i=Date.now(),e=this.authService.getCurrentUser()?.facilityId;if(!e){this.errorMessage="No facility ID available",this.loading=!1,this.isLoadingData=!1;return}this.vaccinationService.getVaccinationsByFacility(e).subscribe({next:o=>{console.log("Loaded vaccinations from backend:",o?.length||0,"total"),this.vaccinations=o||[],this.applyFilters(),console.log("After filtering:",this.filteredVaccinations.length,"vaccinations displayed"),D(i,()=>{this.loading=!1,this.isLoadingData=!1,this.cdr.detectChanges()})},error:o=>{console.error("Failed to load vaccinations:",o),this.errorMessage=o?.error?.message||"Failed to load vaccinations. Please try again.",this.vaccinations=[],this.filteredVaccinations=[],D(i,()=>{this.loading=!1,this.isLoadingData=!1,this.cdr.detectChanges()})}})}onSearch(){this.applyFilters()}onDateChange(){this.applyFilters()}applyFilters(){let i=[...this.vaccinations];if(this.searchQuery.trim()){let e=this.searchQuery.toLowerCase();i=i.filter(o=>o.patientName?.toLowerCase().includes(e)||o.vaccineName?.toLowerCase().includes(e)||o.batchNumber?.toLowerCase().includes(e))}this.filterDate&&this.filterDate.trim()!==""&&(i=i.filter(e=>(e.administeredDate?P(new Date(e.administeredDate),"yyyy-MM-dd"):"")===this.filterDate)),this.filteredVaccinations=i}openRecordModal(){this.vaccinationForm.reset({doseNumber:1,administeredDate:P(new Date,"yyyy-MM-dd"),administrationSite:"LEFT_ARM"}),this.selectedPatient=null,this.patientSearchResults=[],this.availableBatches=[],this.showRecordModal=!0}closeRecordModal(){this.showRecordModal=!1,this.vaccinationForm.reset(),this.selectedPatient=null,this.patientSearchResults=[],this.availableBatches=[]}searchPatients(){let i=this.patientSearchQuery.trim();if(i.length<2){this.patientSearchResults=[];return}let e=this.authService.getCurrentUser()?.facilityId;this.patientService.searchPatients(i,e).subscribe({next:o=>{this.patientSearchResults=o.patients.slice(0,5)},error:o=>{console.warn("Failed to search patients:",o),this.patientSearchResults=[]}})}selectPatient(i){this.selectedPatient=i,this.vaccinationForm.patchValue({patientId:i.id}),this.patientSearchQuery=i.fullName||`${i.firstName} ${i.lastName}`,this.patientSearchResults=[]}onVaccineChange(){let i=this.vaccinationForm.get("vaccineId")?.value,e=this.authService.getCurrentUser()?.facilityId;if(i&&e){let o=this.availableVaccines.find(c=>c.id===i);o?(console.log("Loading batches for vaccine:",{vaccineId:i,vaccineName:o.name,facilityId:e}),this.stockService.getBatchesByVaccine(o.name,e).subscribe({next:c=>{console.log(`Loaded ${c.length} batches for ${o.name}:`,c),this.availableBatches=c.map(l=>({id:l.id,vaccineId:l.vaccineId||i,vaccineName:l.vaccineName||o.name,batchNumber:l.batchNumber,quantity:l.quantity||0,expiryDate:l.expiryDate,receivedDate:l.receivedDate||l.expiryDate,facilityId:l.facilityId||e,isDepleted:l.isDepleted||!1})),c.length===0&&console.warn(`No batches found for vaccine: ${o.name} (ID: ${i})`)},error:c=>{console.error("Failed to load batches for vaccine:",o.name,c),this.availableBatches=[]}})):(console.warn("Vaccine not found in availableVaccines for ID:",i),this.availableBatches=[])}else i||console.warn("No vaccine selected"),e||console.warn("No facility ID available"),this.availableBatches=[];this.vaccinationForm.patchValue({batchNumber:""})}onRecordSubmit(){if(this.vaccinationForm.valid){this.loading=!0;let i=this.vaccinationForm.value,e=this.authService.getCurrentUser(),o=e?.facilityId||"";if(!o){this.errorMessage="Facility ID is required. Please ensure you are assigned to a facility.",this.loading=!1;return}let c=this.availableVaccines.find(u=>u.id===i.vaccineId);if(!c){this.errorMessage="Please select a valid vaccine.",this.loading=!1;return}let l=this.availableBatches.find(u=>u.batchNumber===i.batchNumber);if(!l||!l.id){this.errorMessage="Please select a valid batch.",this.loading=!1;return}let I={patientId:i.patientId,vaccineName:c.name,batchId:l.id,doseNumber:i.doseNumber,dateAdministered:i.administeredDate,facilityId:o,administrationSite:i.administrationSite||"LEFT_ARM",notes:i.adverseEventNotes||void 0};console.log("Recording vaccination - User role:",e?.role,"Facility ID:",o),console.log("Vaccination request:",I),this.vaccinationService.recordVaccination(I).subscribe({next:u=>{console.log("Vaccination recorded successfully:",u),this.loading=!1,this.recordedVaccination={patientName:this.selectedPatient?.fullName||this.selectedPatient?.firstName+" "+this.selectedPatient?.lastName||"Unknown",vaccineName:c.name,doseNumber:i.doseNumber,batchNumber:i.batchNumber,dateAdministered:i.administeredDate},this.closeRecordModal(),this.errorMessage="",this.showSuccessModal=!0,this.loadVaccinations()},error:u=>{console.error("Failed to record vaccination:",u);let me=this.authService.getCurrentUser();if(u.status===403)this.errorMessage=`Access denied. Your role (${me?.role||"Unknown"}) may not have permission to record vaccinations. Required roles: HEALTH_WORKER, FACILITY_MANAGER, or GOVERNMENT_OFFICIAL.`;else if(u.status===400){let E=u.error;if(typeof E=="object"&&E!==null){let pe=Object.values(E).join(", ");this.errorMessage=`Validation error: ${pe}`}else this.errorMessage=u.error?.error||u.error?.message||"Failed to record vaccination. Please check all required fields."}else this.errorMessage="Failed to record vaccination. Please try again.";this.loading=!1}})}else this.vaccinationForm.markAllAsTouched()}getFieldError(i){let e=this.vaccinationForm.get(i);if(e?.errors&&e.touched){if(e.errors.required)return"This field is required";if(e.errors.min)return"Value must be at least 1"}return""}isFieldInvalid(i){let e=this.vaccinationForm.get(i);return!!(e?.invalid&&e.touched)}getTodayDate(){return P(new Date,"yyyy-MM-dd")}static \u0275fac=function(e){return new(e||r)(M(se),M(ce),M(le),M(j),M(R),M(te))};static \u0275cmp=N({type:r,selectors:[["app-manager-vaccinations"]],decls:47,vars:10,consts:[["pageTitle","Vaccinations Management"],[1,"vaccinations-page"],[1,"page-header"],[1,"subtitle"],[1,"btn","btn-primary",3,"click"],["type","error",3,"message","show",4,"ngIf"],[1,"filters-card"],[1,"search-box"],[1,"search-icon"],["type","text","placeholder","Search by patient name, vaccine, or batch number...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filter-group"],["type","date","placeholder","Filter by date",1,"filter-input",3,"ngModelChange","change","ngModel"],["type","button","class","btn btn-sm btn-secondary","style","margin-left: 8px;",3,"click",4,"ngIf"],[1,"vaccinations-table-card"],[1,"table-header"],[1,"table-container"],[1,"vaccinations-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["type","error",3,"message","show"],["type","button",1,"btn","btn-sm","btn-secondary",2,"margin-left","8px",3,"click"],[1,"patient-name"],[1,"dose-badge"],["colspan","6",1,"no-data"],[1,"empty-state"],[1,"empty-icon"],[1,"modal-overlay",3,"click"],[1,"modal-content","large",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"required"],["type","text","placeholder","Search patient by name or ID...",1,"form-input",3,"ngModelChange","input","ngModel","ngModelOptions"],["class","patient-results",4,"ngIf"],["class","selected-patient",4,"ngIf"],["class","error-text",4,"ngIf"],[1,"form-row"],["formControlName","vaccineId",1,"form-input",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","doseNumber","min","1","placeholder","e.g., 1, 2, 3",1,"form-input"],["formControlName","batchNumber",1,"form-input"],["type","date","formControlName","administeredDate",1,"form-input",3,"value"],["formControlName","administrationSite",1,"form-input"],["value","LEFT_ARM"],["value","RIGHT_ARM"],["value","LEFT_THIGH"],["value","RIGHT_THIGH"],["formControlName","adverseEventNotes","rows","3","placeholder","Record any adverse events or reactions",1,"form-input"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"patient-results"],["class","patient-result-item",3,"click",4,"ngFor","ngForOf"],[1,"patient-result-item",3,"click"],[1,"selected-patient"],[1,"error-text"],[3,"value"],[1,"modal-content","success-modal",3,"click"],[1,"modal-header","success-header"],[1,"success-icon-wrapper"],[1,"success-icon-circle"],[1,"success-checkmark"],[1,"modal-title-section"],[1,"success-subtitle"],["aria-label","Close",1,"modal-close",3,"click"],[1,"modal-body","success-body"],["class","success-details",4,"ngIf"],[1,"modal-footer","success-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"success-details"],[1,"detail-card"],[1,"detail-icon"],[1,"detail-content"],[1,"detail-label"],[1,"detail-value"]],template:function(e,o){e&1&&(n(0,"app-layout",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1"),a(5,"Vaccinations Management"),t(),n(6,"p",3),a(7,"View and track all vaccinations in your facility"),t()(),n(8,"button",4),p("click",function(){return o.openRecordModal()}),a(9,"+ Record Vaccination"),t()(),_(10,fe,1,2,"app-alert",5),n(11,"div",6)(12,"div",7)(13,"span",8),a(14,"\u{1F50D}"),t(),n(15,"input",9),S("ngModelChange",function(l){return y(o.searchQuery,l)||(o.searchQuery=l),l}),p("input",function(){return o.onSearch()}),t()(),n(16,"div",10)(17,"label"),a(18,"Date (optional):"),t(),n(19,"input",11),S("ngModelChange",function(l){return y(o.filterDate,l)||(o.filterDate=l),l}),p("change",function(){return o.onDateChange()}),t(),_(20,_e,2,0,"button",12),t()(),n(21,"div",13)(22,"div",14)(23,"h3"),a(24),t()(),n(25,"div",15)(26,"table",16)(27,"thead")(28,"tr")(29,"th"),a(30,"Patient"),t(),n(31,"th"),a(32,"Vaccine"),t(),n(33,"th"),a(34,"Dose"),t(),n(35,"th"),a(36,"Batch"),t(),n(37,"th"),a(38,"Date"),t(),n(39,"th"),a(40,"Administered By"),t()()(),n(41,"tbody"),_(42,ue,17,9,"tr",17)(43,be,7,0,"tr",18),t()()()(),_(44,Ce,1,0,"app-loader",18)(45,Ie,64,16,"div",19)(46,ke,21,1,"div",19),t()()),e&2&&(s(10),d("ngIf",o.errorMessage),s(5),O("ngModel",o.searchQuery),s(4),O("ngModel",o.filterDate),s(),d("ngIf",o.filterDate),s(4),C("All Vaccinations (",o.filteredVaccinations.length,")"),s(18),d("ngForOf",o.filteredVaccinations),s(),d("ngIf",o.filteredVaccinations.length===0),s(),d("ngIf",o.loading),s(),d("ngIf",o.showRecordModal),s(),d("ngIf",o.showSuccessModal))},dependencies:[L,A,z,ne,Y,X,Z,G,H,J,Q,U,ee,W,ie,K,$,q,re,oe,ae,B],styles:['.vaccinations-page[_ngcontent-%COMP%]{padding:clamp(1.5rem,4vw,3rem);max-width:1920px;margin:0 auto;background:linear-gradient(135deg,#f8fafc,#f1f5f9);min-height:100vh}.vaccinations-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1.5rem;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:2px solid #e2e8f0;flex-wrap:wrap}.vaccinations-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex:1;min-width:200px;display:flex;flex-direction:column;gap:.5rem}.vaccinations-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:#1e293b;margin:0}.vaccinations-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0}.vaccinations-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex-shrink:0}.vaccinations-page[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex!important;align-items:center!important;justify-content:center!important;padding:12px 24px!important;font-size:.875rem!important;font-weight:600!important;border-radius:10px!important;border:none!important;cursor:pointer!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;text-decoration:none!important;min-width:120px!important;gap:.5rem!important;box-sizing:border-box!important}.vaccinations-page[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed!important;transform:none!important}.vaccinations-page[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)!important;color:#fff!important;box-shadow:0 4px 12px #3b82f64d!important}.vaccinations-page[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)!important;box-shadow:0 6px 20px #3b82f666!important;background:linear-gradient(135deg,#2563eb,#1d4ed8)!important}.vaccinations-page[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)!important}.vaccinations-page[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff!important;color:#475569!important;border:2px solid #cbd5e1!important;box-shadow:0 2px 4px #0000000d!important}.vaccinations-page[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f1f5f9!important;border-color:#94a3b8!important;transform:translateY(-1px)!important;box-shadow:0 4px 8px #0000001a!important}.vaccinations-page[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)!important}.vaccinations-page[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]{padding:8px 16px!important;font-size:.8125rem!important;min-width:80px!important}.vaccinations-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc);padding:clamp(1.25rem,3vw,1.75rem);border-radius:24px;box-shadow:0 4px 20px #0000000f;margin-bottom:2rem;display:flex;gap:1.5rem;align-items:center;flex-wrap:wrap;border:1px solid rgba(226,232,240,.8)}.vaccinations-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:1;min-width:300px;position:relative}.vaccinations-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#64748b;font-size:1.125rem}.vaccinations-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px 12px 44px;border:2px solid #cbd5e1;border-radius:10px;font-size:.875rem;transition:all .2s}.vaccinations-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a}.vaccinations-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.vaccinations-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#475569;font-size:.9375rem}.vaccinations-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #cbd5e1;border-radius:10px;font-size:.875rem;background:#fff;cursor:pointer;transition:all .2s}.vaccinations-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc);border-radius:24px;box-shadow:0 4px 20px #0000000f;overflow:hidden;border:1px solid rgba(226,232,240,.8)}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{padding:clamp(1.25rem,3vw,1.75rem);border-bottom:3px solid #e2e8f0;background:linear-gradient(135deg,#f8fafc,#f1f5f9)}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800;background:linear-gradient(135deg,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9)}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;text-align:left;font-weight:800;color:#1e293b;font-size:.875rem;text-transform:uppercase;letter-spacing:.075em;border-bottom:3px solid #3b82f6}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;background:#fff}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#fafbfc}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#eff6ff,#dbeafe);transform:scale(1.01)}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;color:#475569;font-weight:600;vertical-align:middle;border-bottom:1px solid #e2e8f0;font-size:.9375rem}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   .patient-name[_ngcontent-%COMP%]{font-weight:700;color:#1e293b}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   .dose-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;font-size:.75rem;font-weight:500;background:#3b82f61a;color:#3b82f6}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;padding:3rem}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;display:block;margin-bottom:.5rem}.vaccinations-page[_ngcontent-%COMP%]   .vaccinations-table-card[_ngcontent-%COMP%]   .vaccinations-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0}.modal-overlay[_ngcontent-%COMP%]{position:fixed!important;inset:0!important;background:#0009!important;-webkit-backdrop-filter:blur(4px)!important;backdrop-filter:blur(4px)!important;display:flex!important;align-items:center!important;justify-content:center!important;z-index:10000!important;animation:_ngcontent-%COMP%_fadeIn .3s ease-out!important}.modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc)!important;border-radius:20px!important;padding:0!important;max-width:600px!important;width:90%!important;max-height:90vh!important;overflow:hidden!important;box-shadow:0 20px 60px #0000004d!important;border:2px solid rgba(59,130,246,.2)!important;animation:_ngcontent-%COMP%_slideUp .3s ease-out!important;position:relative!important;display:flex!important;flex-direction:column!important}.modal-content.large[_ngcontent-%COMP%]{max-width:800px!important}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:2px solid #e2e8f0;background:linear-gradient(135deg,#f8fafc,#fff);border-radius:20px 20px 0 0}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b;display:flex;align-items:center;gap:.5rem}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#64748b;cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b;transform:rotate(90deg)}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem!important;background:#fff!important;overflow-y:auto!important;flex:1!important}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}@media(max-width:768px){.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;position:relative}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:.5rem;color:#334155;font-size:.875rem}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:#ef4444;font-weight:700}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e2e8f0;border-radius:10px;font-size:.875rem;transition:all .3s cubic-bezier(.4,0,.2,1);background:#fff;color:#1e293b;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a;transform:translateY(-1px)}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:hover:not(:focus){border-color:#cbd5e1}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{display:block;color:#ef4444;font-size:.75rem;margin-top:.25rem;font-weight:500}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .patient-results[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:2px solid #e2e8f0;border-radius:10px;margin-top:.5rem;max-height:200px;overflow-y:auto;box-shadow:0 4px 12px #0000001a;z-index:10}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .patient-results[_ngcontent-%COMP%]   .patient-result-item[_ngcontent-%COMP%]{padding:.75rem 1rem;cursor:pointer;transition:all .2s;border-bottom:1px solid #f1f5f9}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .patient-results[_ngcontent-%COMP%]   .patient-result-item[_ngcontent-%COMP%]:hover{background:#f1f5f9}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .patient-results[_ngcontent-%COMP%]   .patient-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .selected-patient[_ngcontent-%COMP%]{margin-top:.5rem;padding:.75rem;background:#eff6ff;border-radius:8px;color:#1e40af;font-size:.875rem}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.form-input[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end!important;gap:1rem!important;padding:1.5rem!important;border-top:2px solid #e2e8f0!important;background:linear-gradient(135deg,#f8fafc,#f1f5f9)!important;margin-top:1.5rem!important;border-radius:0 0 20px 20px!important;flex-shrink:0!important}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:120px!important}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content.success-modal[_ngcontent-%COMP%]{max-width:550px!important;border:2px solid rgba(76,175,80,.3)!important}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]{position:relative!important;background:linear-gradient(135deg,#d1fae5,#a7f3d0)!important;padding:2rem 1.5rem!important;border-bottom:3px solid #4caf50!important}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .success-icon-wrapper[_ngcontent-%COMP%]{position:absolute;top:-30px;left:50%;transform:translate(-50%);z-index:1}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .success-icon-circle[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#4caf50,#388e3c);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 24px #4caf5066;animation:_ngcontent-%COMP%_scaleIn .4s cubic-bezier(.34,1.56,.64,1)}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .success-icon-circle[_ngcontent-%COMP%]   .success-checkmark[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;font-weight:700;line-height:1}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .modal-title-section[_ngcontent-%COMP%]{text-align:center;width:100%;margin-top:2rem}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .modal-title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0 0 .5rem;display:block}.modal-content.success-modal[_ngcontent-%COMP%]   .success-header[_ngcontent-%COMP%]   .modal-title-section[_ngcontent-%COMP%]   .success-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0;font-weight:500}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]{padding:2rem 1.5rem!important;background:#fff!important}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:12px;border:1px solid #e2e8f0;transition:all .3s ease}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]:hover{transform:translate(4px);box-shadow:0 4px 12px #00000014}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:2rem;width:50px;height:50px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:12px;flex-shrink:0}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]{flex:1}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.05em;margin-bottom:.25rem}.modal-content.success-modal[_ngcontent-%COMP%]   .modal-body.success-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:1rem;color:#1e293b;font-weight:700}.modal-content.success-modal[_ngcontent-%COMP%]   .success-footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9)!important;border-top:2px solid #e2e8f0!important;padding:1.5rem!important;justify-content:center!important}.modal-content.success-modal[_ngcontent-%COMP%]   .success-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:150px!important;font-size:1rem!important;padding:14px 28px!important}.modal-content.success-modal[_ngcontent-%COMP%]   .success-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2rem}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:translate(-50%) scale(0)}to{opacity:1;transform:translate(-50%) scale(1)}}']})};export{de as ManagerVaccinationsComponent};
