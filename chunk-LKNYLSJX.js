import{a as H,b as J,c as K}from"./chunk-6ARFJ7VZ.js";import{a as G}from"./chunk-34DJG7NN.js";import{a as q}from"./chunk-E62IOWU4.js";import{a as X}from"./chunk-Z3ZPAFT5.js";import{a as Z}from"./chunk-2OE776RN.js";import{a as Y}from"./chunk-Y7V3HG6R.js";import{a as W}from"./chunk-QHILUX33.js";import{a as Q}from"./chunk-RB2IKARN.js";import"./chunk-7UZYWCAJ.js";import"./chunk-MLMGL4QO.js";import{a as U}from"./chunk-4G3G25LR.js";import"./chunk-VLP6GBL3.js";import{e as j}from"./chunk-K3XQKY74.js";import{Ia as x,Ja as y,Oa as T,P as g,Ra as F,Sa as A,Ta as z,U as v,V as k,Wa as V,Ya as R,Z as O,_a as B,ba as h,ca as n,da as e,ea as C,jb as $,ma as P,mb as N,pa as I,qa as w,ra as D,va as a,wa as _,xa as S,ya as E}from"./chunk-T4RMSDZY.js";var et=["coverageChart"],nt=["volumeChart"];function at(r,i){if(r&1&&C(0,"app-alert",34),r&2){let t=P();h("message",t.infoMessage)("show",!!t.infoMessage)("dismissible",!0)}}function it(r,i){if(r&1&&C(0,"app-alert",35),r&2){let t=P();h("message",t.errorMessage)("show",!!t.errorMessage)("dismissible",!0)}}function ot(r,i){if(r&1&&(n(0,"tr",36)(1,"td")(2,"strong"),a(3),e()(),n(4,"td")(5,"span",37),a(6),e()(),n(7,"td"),a(8),x(9,"number"),e(),n(10,"td")(11,"span",38),a(12),x(13,"titlecase"),e()(),n(14,"td"),a(15),e()()),r&2){let t=i.$implicit,o=P();h("ngClass",o.getCoverageStatusClass(t.coverage)),g(3),_(t.name),g(2),h("ngClass",o.getCoverageStatusClass(t.coverage)),g(),S(" ",t.coverage,"% "),g(2),_(y(9,8,t.vaccinations)),g(4),E(" ",o.getStockStatusIcon(t.stockStatus)," ",y(13,10,t.stockStatus)," "),g(3),_(t.lastSync)}}function rt(r,i){if(r&1&&C(0,"app-alert",39),r&2){let t=P();h("message",t.errorMessage)("show",!!t.errorMessage)}}function ct(r,i){if(r&1&&(n(0,"div",40),C(1,"canvas",41,0),e()),r&2){let t=P();g(),h("data",t.coverageChartData)("type",t.coverageChartType)("options",t.coverageChartOptions)}}function st(r,i){r&1&&(n(0,"div",42)(1,"p"),a(2,"Loading coverage trend data..."),e()())}function dt(r,i){if(r&1&&(n(0,"div",40),C(1,"canvas",41,1),e()),r&2){let t=P();g(),h("data",t.volumeChartData)("type",t.volumeChartType)("options",t.volumeChartOptions)}}function lt(r,i){r&1&&(n(0,"div",42)(1,"p"),a(2,"Loading vaccination volume data..."),e()())}function gt(r,i){r&1&&C(0,"app-loader")}H.register(...J);var tt=class r{constructor(i,t,o,m,f,s){this.cdr=i;this.reportService=t;this.facilityService=o;this.authService=m;this.vaccinationService=f;this.stockService=s}coverageChart;volumeChart;map=null;mapMarkers=[];get hasCoverageChartData(){return!!(this.coverageChartData?.labels&&this.coverageChartData.labels.length>0)}get hasVolumeChartData(){return!!(this.volumeChartData?.labels&&this.volumeChartData.labels.length>0)}loading=!1;errorMessage="";infoMessage="";totalFacilities=0;vaccinationsThisMonth=0;districtCoverage=0;facilitiesLowStock=0;criticalAlerts=0;facilities=[];coverageChartType="line";coverageChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"District Coverage Trend (Last 6 Months)"}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(i){return i+"%"}}}}};coverageChartData={labels:[],datasets:[{label:"Coverage %",data:[],borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0,tension:.4},{label:"Target (90%)",data:[],borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:2,borderDash:[5,5],fill:!1}]};volumeChartType="bar";volumeChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"Monthly Vaccination Volume"}},scales:{y:{beginAtZero:!0}}};volumeChartData={labels:[],datasets:[{label:"Vaccinations",data:[],backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2}]};isLoadingData=!1;ngOnInit(){this.loadDashboardData()}loadDashboardData(){if(this.isLoadingData)return;this.isLoadingData=!0,this.loading=!0;let i=Date.now(),t=this.authService.getCurrentUser(),o=t?.districtId,m=t?.facilityId,f=!1,s=!1,d=!1,b=!1,l=()=>{f&&s&&d&&b&&Y(i,()=>{this.loading=!1,this.isLoadingData=!1,this.cdr.detectChanges()})},M=c=>{if(o){b=!0,c();return}m?this.facilityService.getFacilityById(m).subscribe({next:p=>{let u=p.districtId||p.district;u&&(o=u),b=!0,c()},error:p=>{console.warn("Failed to load facility to get districtId:",p),p?.status===404?console.warn(`Facility with ID ${m} not found. User may have invalid facilityId.`):p?.status===403&&console.warn(`Access denied to facility ${m}. User may not have permission.`),b=!0,c()}}):(b=!0,c())};this.reportService.getNationalStatistics().subscribe({next:c=>{this.totalFacilities=c.totalFacilities||0,this.vaccinationsThisMonth=c.totalVaccinationsAdministered||0,this.districtCoverage=c.coverageRate||0,this.facilitiesLowStock=c.lowStockAlerts||0,this.criticalAlerts=c.facilitiesWithAlerts||0,f=!0,this.loadTrendData(),l()},error:c=>{console.error("Failed to load district statistics:",c),this.errorMessage="Failed to load district statistics. Please try again.",f=!0,l()}}),M(()=>{this.facilityService.getAllFacilities(!0).subscribe({next:c=>{c.length>0&&(this.totalFacilities=c.length),this.facilities=c.map(p=>({id:p.id,name:p.name||p.id,coverage:0,vaccinations:0,stockStatus:"good",lastSync:"N/A",status:"good",location:p.location||"",type:p.type||""})),s=!0,this.loadFacilityDetails(()=>{d=!0,this.map?this.updateMapMarkers():setTimeout(()=>{this.map||this.initializeMap(),this.map&&this.updateMapMarkers()},600),l()})},error:c=>{console.error("Failed to load all facilities:",c),this.errorMessage="Failed to load facilities. Using national statistics.",s=!0,d=!0,l()}})})}loadFacilityDetails(i){if(this.facilities.length===0){i&&i();return}let t=new Date,o=new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],m=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0],f=0,s=this.facilities.length;if(s===0){i&&i();return}this.facilities.forEach((d,b)=>{this.reportService.getDashboardStats(d.id).subscribe({next:l=>{if(d.vaccinations=l.vaccinationsThisMonth||0,d.coverage=l.coverageRate||0,l.expiringBatches>0||l.availableBatches===0?(d.stockStatus="out",d.status="error"):l.availableBatches<3?(d.stockStatus="low",d.status="warning"):(d.stockStatus="good",d.status="good"),f++,f===s){let M=this.facilities.reduce((p,u)=>p+(u.vaccinations||0),0);M>0&&(this.vaccinationsThisMonth=M);let c=this.facilities.length>0?this.facilities.reduce((p,u)=>p+(u.coverage||0),0)/this.facilities.length:0;c>0&&(this.districtCoverage=Math.round(c*10)/10),this.facilities.sort((p,u)=>(u.coverage||0)-(p.coverage||0)),this.facilitiesLowStock=this.facilities.filter(p=>p.stockStatus==="low"||p.stockStatus==="out").length,this.map?setTimeout(()=>this.updateMapMarkers(),100):setTimeout(()=>{this.map||this.initializeMap(),this.map&&this.updateMapMarkers()},600),this.cdr.detectChanges(),i&&i()}},error:l=>{console.warn(`Failed to load stats for facility ${d.id}:`,l),f++,f===s&&(this.cdr.detectChanges(),i&&i())}}),this.stockService.getStockLevels(d.id).subscribe({next:l=>{let M=l.filter(c=>c.status==="LOW"||c.status==="CRITICAL").length;M>0&&(d.stockStatus=M>2?"out":"low",d.status=M>2?"error":"warning",this.cdr.detectChanges())},error:l=>{}})})}getCoverageStatusClass(i){return i>=90?"status-good":i>=80?"status-warning":"status-error"}getStockStatusIcon(i){switch(i){case"good":return"\u{1F7E2}";case"low":return"\u{1F7E1}";case"out":return"\u{1F534}";default:return"\u26AA"}}loadTrendData(){let t=this.authService.getCurrentUser()?.districtId,o=new Date().toISOString().split("T")[0],m=new Date;m.setMonth(m.getMonth()-6);let f=m.toISOString().split("T")[0];this.reportService.getCoverageReport("",f,o).subscribe({next:s=>{if(s.trendData&&Array.isArray(s.trendData)&&s.trendData.length>0){let d=s.trendData.map(l=>l.month||""),b=s.trendData.map(l=>l.coverage||0);this.coverageChartData={labels:d,datasets:[{label:"Coverage %",data:b,borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0,tension:.4},{label:"Target (90%)",data:s.trendData.map(()=>90),borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:2,borderDash:[5,5],fill:!1}]},this.cdr.detectChanges()}if(s.trendData&&Array.isArray(s.trendData)&&s.trendData.length>0){let d=s.trendData.map(l=>Math.round((l.coverage||0)*10)),b=s.trendData.map(l=>l.month||"");this.volumeChartData={labels:b,datasets:[{label:"Vaccinations",data:d,backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2}]},this.cdr.detectChanges()}},error:s=>{console.warn("Failed to load trend data:",s)}})}ngAfterViewInit(){setTimeout(()=>{this.initializeMap()},500)}ngOnDestroy(){this.map&&(this.map.remove(),this.map=null),this.mapMarkers=[]}initializeMap(){if(typeof L>"u"){console.warn("Leaflet not loaded");return}if(!document.getElementById("facility-map")){console.warn("Map container not found");return}let t=[-1.2921,36.8219];this.map=L.map("facility-map",{center:t,zoom:6,zoomControl:!0}),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap contributors",maxZoom:19}).addTo(this.map),this.facilities.length>0&&this.updateMapMarkers()}updateMapMarkers(){if(!this.map||typeof L>"u"||(this.mapMarkers.forEach(t=>t.remove()),this.mapMarkers=[],this.facilities.length===0))return;let i=[];this.facilities.forEach((t,o)=>{let m=t.id.split("").reduce((M,c)=>M+c.charCodeAt(0),0),f=-1.2921+(m%100/100-.5)*2,s=36.8219+(m*7%100/100-.5)*2,d="#ef4444";t.coverage>=90?d="#22c55e":t.coverage>=80&&(d="#f59e0b");let b=L.divIcon({className:"custom-marker",html:`<div style="background-color: ${d}; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>`,iconSize:[20,20],iconAnchor:[10,10]}),l=L.marker([f,s],{icon:b}).addTo(this.map).bindPopup(`
          <div style="min-width: 200px;">
            <h4 style="margin: 0 0 8px 0; font-weight: 600;">${t.name}</h4>
            <p style="margin: 4px 0; font-size: 0.875rem;"><strong>Coverage:</strong> ${t.coverage}%</p>
            <p style="margin: 4px 0; font-size: 0.875rem;"><strong>Vaccinations:</strong> ${t.vaccinations}</p>
            <p style="margin: 4px 0; font-size: 0.875rem;"><strong>Stock:</strong> ${t.stockStatus}</p>
            ${t.location?`<p style="margin: 4px 0; font-size: 0.875rem;"><strong>Location:</strong> ${t.location}</p>`:""}
          </div>
        `);this.mapMarkers.push(l),i.push([f,s])}),i.length>0&&this.map.fitBounds(i,{padding:[50,50]})}static \u0275fac=function(t){return new(t||r)(v(T),v(G),v(Z),v(j),v(q),v(X))};static \u0275cmp=k({type:r,selectors:[["app-district-dashboard"]],viewQuery:function(t,o){if(t&1&&I(et,5)(nt,5),t&2){let m;w(m=D())&&(o.coverageChart=m.first),w(m=D())&&(o.volumeChart=m.first)}},decls:106,vars:16,consts:[["coverageChart",""],["volumeChart",""],["pageTitle","District Officer Dashboard"],[1,"district-dashboard"],["type","info",3,"message","show","dismissible",4,"ngIf"],["type","error",3,"message","show","dismissible",4,"ngIf"],[1,"stats-row"],[1,"stat-card"],[1,"stat-header"],[1,"stat-icon"],[1,"stat-label"],[1,"stat-value"],[1,"stat-trend","positive"],[1,"stat-trend","warning"],[1,"stat-trend","error"],[1,"section-card","map-section"],[1,"section-header"],[1,"section-title"],[1,"map-legend"],[1,"legend-item"],[1,"legend-color","good"],[1,"legend-color","warning"],[1,"legend-color","error"],["id","facility-map",1,"facility-map-container"],[1,"section-card"],["routerLink","/district/facilities",1,"view-all-link"],[1,"facility-table-container"],[1,"facility-table"],[3,"ngClass",4,"ngFor","ngForOf"],["type","warning",3,"message","show",4,"ngIf"],[1,"charts-section"],["class","chart-container",4,"ngIf"],["class","chart-placeholder",4,"ngIf"],[4,"ngIf"],["type","info",3,"message","show","dismissible"],["type","error",3,"message","show","dismissible"],[3,"ngClass"],[1,"coverage-badge",3,"ngClass"],[1,"stock-status"],["type","warning",3,"message","show"],[1,"chart-container"],["baseChart","",3,"data","type","options"],[1,"chart-placeholder"]],template:function(t,o){t&1&&(n(0,"app-layout",2)(1,"div",3),O(2,at,1,3,"app-alert",4)(3,it,1,3,"app-alert",5),n(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9),a(8,"\u{1F3E5}"),e(),n(9,"div",10),a(10,"Total Facilities"),e()(),n(11,"div",11),a(12),e()(),n(13,"div",7)(14,"div",8)(15,"div",9),a(16,"\u{1F489}"),e(),n(17,"div",10),a(18,"Vaccinations This Month"),e()(),n(19,"div",11),a(20),x(21,"number"),e(),n(22,"div",12),a(23,"\u2191 12%"),e()(),n(24,"div",7)(25,"div",8)(26,"div",9),a(27,"\u{1F4CA}"),e(),n(28,"div",10),a(29,"District Coverage"),e()(),n(30,"div",11),a(31),e(),n(32,"div",12),a(33,"\u2191 2%"),e()(),n(34,"div",7)(35,"div",8)(36,"div",9),a(37,"\u26A0\uFE0F"),e(),n(38,"div",10),a(39,"Facilities Low Stock"),e()(),n(40,"div",11),a(41),e(),n(42,"div",13),a(43,"\u26A0\uFE0F"),e()(),n(44,"div",7)(45,"div",8)(46,"div",9),a(47,"\u{1F534}"),e(),n(48,"div",10),a(49,"Critical Alerts"),e()(),n(50,"div",11),a(51),e(),n(52,"div",14),a(53,"\u{1F534}"),e()()(),n(54,"div",15)(55,"div",16)(56,"h3",17),a(57,"Facility Map"),e(),n(58,"div",18)(59,"span",19),C(60,"span",20),a(61," >90% Coverage"),e(),n(62,"span",19),C(63,"span",21),a(64," 80-90% Coverage"),e(),n(65,"span",19),C(66,"span",22),a(67," <80% Coverage"),e()()(),C(68,"div",23),e(),n(69,"div",24)(70,"div",16)(71,"h3",17),a(72,"Facility Performance"),e(),n(73,"a",25),a(74,"View All \u2192"),e()(),n(75,"div",26)(76,"table",27)(77,"thead")(78,"tr")(79,"th"),a(80,"Facility Name"),e(),n(81,"th"),a(82,"Coverage Rate"),e(),n(83,"th"),a(84,"Vaccinations This Month"),e(),n(85,"th"),a(86,"Stock Status"),e(),n(87,"th"),a(88,"Last Sync"),e()()(),n(89,"tbody"),O(90,ot,16,12,"tr",28),e()()()(),O(91,rt,1,2,"app-alert",29),n(92,"div",30)(93,"div",24)(94,"div",16)(95,"h3",17),a(96,"Coverage Trend"),e()(),O(97,ct,3,3,"div",31)(98,st,3,0,"div",32),e(),n(99,"div",24)(100,"div",16)(101,"h3",17),a(102,"Vaccination Volume"),e()(),O(103,dt,3,3,"div",31)(104,lt,3,0,"div",32),e()(),O(105,gt,1,0,"app-loader",33),e()()),t&2&&(g(2),h("ngIf",o.infoMessage),g(),h("ngIf",o.errorMessage),g(9),_(o.totalFacilities),g(8),_(y(21,14,o.vaccinationsThisMonth)),g(11),S("",o.districtCoverage,"%"),g(10),_(o.facilitiesLowStock),g(10),_(o.criticalAlerts),g(39),h("ngForOf",o.facilities),g(),h("ngIf",o.errorMessage),g(6),h("ngIf",o.hasCoverageChartData),g(),h("ngIf",!o.hasCoverageChartData),g(5),h("ngIf",o.hasVolumeChartData),g(),h("ngIf",!o.hasVolumeChartData),g(),h("ngIf",o.loading))},dependencies:[B,F,A,z,N,$,U,Q,W,K,R,V],styles:['.district-dashboard[_ngcontent-%COMP%]{padding:clamp(1.5rem,4vw,3rem);display:flex;flex-direction:column;gap:clamp(1.5rem,3vw,2.5rem);max-width:1920px;margin:0 auto;background:linear-gradient(135deg,#f8fafc,#f1f5f9);min-height:100vh}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:clamp(1rem,2vw,1.5rem);margin-bottom:2rem}@media(max-width:1200px){.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}}@media(max-width:768px){.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc);padding:clamp(1.25rem,3vw,2rem);border-radius:20px;box-shadow:0 4px 20px #0000000f,0 1px 4px #0000000a;transition:all .4s cubic-bezier(.4,0,.2,1);border:2px solid transparent;position:relative;overflow:hidden}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--accent-color),var(--accent-color-light));transform:scaleX(0);transform-origin:left;transition:transform .4s cubic-bezier(.4,0,.2,1)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 12px 40px #0000001f,0 4px 12px #00000014;border-color:var(--accent-color)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-primary[_ngcontent-%COMP%]{--accent-color: #3b82f6;--accent-color-light: #60a5fa;border-color:#3b82f626}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#eff6ff,#dbeafe)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-success[_ngcontent-%COMP%]{--accent-color: #10b981;--accent-color-light: #34d399;border-color:#10b98126}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ecfdf5,#d1fae5)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-info[_ngcontent-%COMP%]{--accent-color: #06b6d4;--accent-color-light: #22d3ee;border-color:#06b6d426}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-info[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ecfeff,#cffafe)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-warning[_ngcontent-%COMP%]{--accent-color: #f59e0b;--accent-color-light: #fbbf24;border-color:#f59e0b26}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card.stat-warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#fffbeb,#fef3c7)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.5rem}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-header[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1));transition:transform .3s ease}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-header[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:600;line-height:1.4;letter-spacing:.01em}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:clamp(2.25rem,5vw,3.5rem);font-weight:800;background:linear-gradient(135deg,var(--accent-color) 0%,var(--accent-color-light) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.75rem;line-height:1.1;letter-spacing:-.02em}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;display:inline-flex;align-items:center;gap:.25rem;padding:.375rem .75rem;border-radius:12px;background:#0000000a}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-trend.positive[_ngcontent-%COMP%]{color:#10b981;background:#10b9811a}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-trend.warning[_ngcontent-%COMP%]{color:#f59e0b;background:#f59e0b1a}.district-dashboard[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-trend.error[_ngcontent-%COMP%]{color:#ef4444;background:#ef44441a}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc);border-radius:24px;box-shadow:0 4px 20px #0000000f,0 1px 4px #0000000a;padding:clamp(1.5rem,3vw,2.25rem);margin-bottom:2rem;transition:all .4s cubic-bezier(.4,0,.2,1);border:1px solid rgba(226,232,240,.8);position:relative}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:24px;padding:2px;background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;opacity:0;transition:opacity .4s ease}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 40px #0000001a,0 4px 12px #0000000f;transform:translateY(-4px)}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]:hover:before{opacity:1}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.75rem;padding-bottom:1.25rem;border-bottom:3px solid #e2e8f0;position:relative}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-3px;left:0;width:80px;height:3px;background:linear-gradient(90deg,#3b82f6,#8b5cf6);border-radius:3px}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;background:linear-gradient(135deg,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0;letter-spacing:-.01em}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .view-all-link[_ngcontent-%COMP%]{color:#3b82f6;text-decoration:none;font-size:.9375rem;font-weight:700;padding:.625rem 1.25rem;border-radius:12px;transition:all .3s ease;display:inline-flex;align-items:center;gap:.5rem;background:#3b82f614}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .view-all-link[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:translate(4px);box-shadow:0 4px 12px #3b82f64d}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]{display:flex;gap:var(--space-4)}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-1);font-size:.875rem;color:var(--gray-600)}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;display:inline-block;border:2px solid white;box-shadow:0 1px 3px #0003}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.good[_ngcontent-%COMP%]{background:#22c55e}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.warning[_ngcontent-%COMP%]{background:#f59e0b}.district-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.error[_ngcontent-%COMP%]{background:#ef4444}.district-dashboard[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%]   .facility-map-container[_ngcontent-%COMP%]{min-height:500px;width:100%;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px #0000001a;background:#f8fafc}.district-dashboard[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%]   .facility-map-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:global(.leaflet-container){height:100%;min-height:500px;width:100%;border-radius:12px;font-family:inherit}.district-dashboard[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%]   .facility-map-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:global(.leaflet-popup-content-wrapper){border-radius:8px;box-shadow:0 4px 12px #00000026}.district-dashboard[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%]   .facility-map-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:global(.leaflet-popup-content){margin:12px;font-size:.875rem}.district-dashboard[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%]   .facility-map-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:global(.custom-marker){background:transparent!important;border:none!important}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:16px;box-shadow:inset 0 2px 8px #0000000a}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);position:sticky;top:0;z-index:10;box-shadow:0 2px 8px #0000000d}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;text-align:left;font-weight:800;color:#1e293b;font-size:.875rem;text-transform:uppercase;letter-spacing:.075em;border-bottom:3px solid #3b82f6}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-radius:16px 0 0}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-radius:0 16px 0 0}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;background:#fff}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#fafbfc}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#eff6ff,#dbeafe);transform:scale(1.01);box-shadow:0 4px 12px #3b82f626}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.status-good[_ngcontent-%COMP%]{border-left:5px solid #10b981}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.status-warning[_ngcontent-%COMP%]{border-left:5px solid #f59e0b}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.status-error[_ngcontent-%COMP%]{border-left:5px solid #ef4444}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;color:#475569;font-weight:600;vertical-align:middle;border-bottom:1px solid #e2e8f0;font-size:.9375rem}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{color:#1e293b;font-weight:700}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   .coverage-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:.875rem;font-weight:600}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   .coverage-badge.status-good[_ngcontent-%COMP%]{background:#4caf501a;color:var(--success)}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   .coverage-badge.status-warning[_ngcontent-%COMP%]{background:#ff98001a;color:var(--warning)}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   .coverage-badge.status-error[_ngcontent-%COMP%]{background:#f443361a;color:var(--error)}.district-dashboard[_ngcontent-%COMP%]   .facility-table-container[_ngcontent-%COMP%]   .facility-table[_ngcontent-%COMP%]   .stock-status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-1);font-size:.875rem}.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-5)}@media(max-width:1024px){.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr}}.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:400px;position:relative;padding:1rem}.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]{min-height:300px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--gray-50);border-radius:6px;color:var(--gray-600);text-align:center;padding:var(--space-4)}.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:var(--space-2)}.district-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .chart-note[_ngcontent-%COMP%]{font-size:.875rem;font-style:italic}']})};export{tt as DistrictDashboardComponent};
