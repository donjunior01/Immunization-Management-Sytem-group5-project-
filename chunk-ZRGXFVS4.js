import{u as F}from"./chunk-VLP6GBL3.js";import{e as M}from"./chunk-H32AX7W2.js";import{A as g,B as f,Ea as w,F as P,M as L,O as U,P as l,Sa as k,Ta as S,U as z,V as x,Z as b,_a as O,ba as p,ca as e,da as n,ea as N,ib as T,jb as E,ka as u,kb as R,la as s,ma as d,mb as h,na as V,oa as A,ua as v,va as a,wa as m,xa as y,z as C}from"./chunk-T4RMSDZY.js";var W=()=>["/"],B=()=>({exact:!1});function K(c,o){c&1&&(e(0,"span",10),a(1,"VaxTrack"),n())}function Q(c,o){if(c&1&&(e(0,"div",11),a(1),n()),c&2){let t=d();l(),y(" ",t.roleLabel," ")}}function q(c,o){if(c&1&&(e(0,"span",15),a(1),n()),c&2){let t=d().$implicit;l(),m(t.label)}}function J(c,o){if(c&1&&(e(0,"a",12)(1,"span",13),a(2),n(),b(3,q,2,1,"span",14),n()),c&2){let t=o.$implicit,r=d();p("routerLink",t.route)("routerLinkActiveOptions",w(5,B))("title",r.collapsed?t.label:""),l(2),m(t.icon),l(),p("ngIf",!r.collapsed)}}function X(c,o){if(c&1&&(e(0,"div",23)(1,"div",24),a(2),n(),e(3,"div",25)(4,"div",26),a(5),n(),e(6,"div",27),a(7),n()()()),c&2){let t=d(2);l(2),m(t.getUserInitials()),l(3),m(t.getUserDisplayName()),l(2),m(t.getFacilityName())}}function Z(c,o){if(c&1&&(e(0,"div",23)(1,"div",28),a(2),n()()),c&2){let t=d(2);l(),p("title",t.getUserDisplayName()),l(),m(t.getUserInitials())}}function tt(c,o){c&1&&(e(0,"span",29),a(1,"Logout"),n())}function et(c,o){if(c&1){let t=u();e(0,"div",16),b(1,X,8,3,"div",17)(2,Z,3,2,"div",17),e(3,"button",18),s("click",function(){g(t);let i=d();return f(i.onToggleCollapse())}),e(4,"span",19),a(5),n()(),e(6,"button",20),s("click",function(){g(t);let i=d();return f(i.logout())}),e(7,"span",21),a(8,"\u{1F6AA}"),n(),b(9,tt,2,0,"span",22),n()()}if(c&2){let t=d();l(),p("ngIf",!t.collapsed),l(),p("ngIf",t.collapsed),l(),p("title",t.collapsed?"Expand":"Collapse"),l(2),m(t.collapsed?"\u25B6":"\u25C0"),l(),p("title",t.collapsed?"Logout":""),l(3),p("ngIf",!t.collapsed)}}function nt(c,o){if(c&1){let t=u();e(0,"div",30),s("click",function(){g(t);let i=d();return f(i.cancelLogout())}),e(1,"div",31),s("click",function(i){return g(t),f(i.stopPropagation())}),e(2,"div",32)(3,"div",33),a(4,"\u26A0\uFE0F"),n(),e(5,"h2"),a(6,"Confirm Logout"),n(),e(7,"button",34),s("click",function(){g(t);let i=d();return f(i.cancelLogout())}),a(8,"\xD7"),n()(),e(9,"div",35)(10,"p"),a(11,"Are you sure you want to logout? You will need to login again to access the system."),n()(),e(12,"div",36)(13,"button",37),s("click",function(){g(t);let i=d();return f(i.cancelLogout())}),a(14,"Cancel"),n(),e(15,"button",38),s("click",function(){g(t);let i=d();return f(i.confirmLogout())}),a(16,"Logout"),n()()()()}}var I=class c{constructor(o){this.authService=o}items=[];user=null;roleLabel="";collapsed=!1;toggleCollapse=new P;showLogoutConfirm=!1;onToggleCollapse(){this.toggleCollapse.emit()}logout(){this.showLogoutConfirm=!0}confirmLogout(){this.showLogoutConfirm=!1,this.authService.logout()}cancelLogout(){this.showLogoutConfirm=!1}getUserInitials(){if(!this.user)return"U";let o=this.user.fullName||"",t=this.user.firstName||"",r=this.user.lastName||"";if(o){let i=o.split(" ").filter(_=>_.length>0);return i.length>=2?(i[0][0]+i[1][0]).toUpperCase():i[0][0].toUpperCase()}return t&&r?(t[0]+r[0]).toUpperCase():(this.user.username[0]||"U").toUpperCase()}getUserDisplayName(){return this.user?this.user.fullName||(this.user.firstName&&this.user.lastName?`${this.user.firstName} ${this.user.lastName}`:"")||this.user.username:"User"}getFacilityName(){return this.user?.facilityName||this.user?.facilityId||"Facility"}static \u0275fac=function(t){return new(t||c)(z(M))};static \u0275cmp=x({type:c,selectors:[["app-sidebar"]],inputs:{items:"items",user:"user",roleLabel:"roleLabel",collapsed:"collapsed"},outputs:{toggleCollapse:"toggleCollapse"},decls:11,vars:9,consts:[[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-logo",3,"routerLink"],[1,"logo-icon"],["class","logo-text",4,"ngIf"],["class","sidebar-role",4,"ngIf"],[1,"sidebar-nav"],["routerLinkActive","active","class","nav-item",3,"routerLink","routerLinkActiveOptions","title",4,"ngFor","ngForOf"],["class","sidebar-footer",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"logo-text"],[1,"sidebar-role"],["routerLinkActive","active",1,"nav-item",3,"routerLink","routerLinkActiveOptions","title"],[1,"nav-icon"],["class","nav-label",4,"ngIf"],[1,"nav-label"],[1,"sidebar-footer"],["class","user-profile",4,"ngIf"],[1,"toggle-btn",3,"click","title"],[1,"toggle-icon"],[1,"logout-btn",3,"click","title"],[1,"logout-icon"],["class","logout-text",4,"ngIf"],[1,"user-profile"],[1,"user-avatar"],[1,"user-info"],[1,"user-name"],[1,"user-facility"],[1,"user-avatar",3,"title"],[1,"logout-text"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-icon","warning"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,r){t&1&&(e(0,"aside",0)(1,"div",1)(2,"div",2)(3,"div",3),a(4,"\u{1F489}"),n(),b(5,K,2,0,"span",4),n()(),b(6,Q,2,1,"div",5),e(7,"nav",6),b(8,J,4,6,"a",7),n(),b(9,et,10,6,"div",8)(10,nt,17,0,"div",9),n()),t&2&&(v("collapsed",r.collapsed),l(2),p("routerLink",w(8,W)),l(3),p("ngIf",!r.collapsed),l(),p("ngIf",r.roleLabel&&!r.collapsed),l(2),p("ngForOf",r.items),l(),p("ngIf",r.user),l(),p("ngIf",r.showLogoutConfirm))},dependencies:[O,k,S,h,E,R],styles:[".sidebar[_ngcontent-%COMP%]{width:240px;background:#2c3e50;color:#fff;display:flex;flex-direction:column;height:100vh;position:fixed;left:0;top:0;z-index:1000;transition:width .3s ease}.sidebar.collapsed[_ngcontent-%COMP%]{width:60px}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.sidebar-header[_ngcontent-%COMP%]   .sidebar-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer}.sidebar-header[_ngcontent-%COMP%]   .sidebar-logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#20b2aa;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.sidebar-header[_ngcontent-%COMP%]   .sidebar-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.sidebar-role[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:#20b2aa33;border-left:3px solid #20b2aa;font-size:.875rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1rem 0;overflow-y:auto}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.875rem 1.5rem;color:#ffffffb3;text-decoration:none;transition:all .3s;border-left:3px solid transparent;white-space:nowrap}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:24px;text-align:center;flex-shrink:0}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-weight:500;overflow:hidden;text-overflow:ellipsis}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff}.sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:#20b2aa33;color:#20b2aa;border-left-color:#20b2aa;font-weight:600}.sidebar-nav[_ngcontent-%COMP%]   .sidebar.collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding:.875rem;justify-content:center}.sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid rgba(255,255,255,.1);background:#0003}.sidebar-footer[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.sidebar-footer[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background:#20b2aa;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.875rem;flex-shrink:0}.sidebar-footer[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1;min-width:0}.sidebar-footer[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidebar-footer[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-facility[_ngcontent-%COMP%]{font-size:.75rem;color:#fff9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidebar-footer[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;padding:.75rem;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff;cursor:pointer;transition:all .3s;margin-bottom:.5rem;font-size:.875rem}.sidebar-footer[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:1rem}.sidebar-footer[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff26}.sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:#e74c3c33;border:1px solid rgba(231,76,60,.3);border-radius:8px;color:#e74c3c;cursor:pointer;transition:all .3s;font-size:.875rem;font-weight:600}.sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   .logout-icon[_ngcontent-%COMP%]{font-size:1.125rem}.sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   .logout-text[_ngcontent-%COMP%]{flex:1}.sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background:#e74c3c4d;border-color:#e74c3c80;transform:translate(2px)}.sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:active{transform:translate(0)}.sidebar-footer[_ngcontent-%COMP%]   .sidebar.collapsed[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{padding:.75rem;justify-content:center}.modal-overlay[_ngcontent-%COMP%]{position:fixed!important;inset:0!important;background:#0009!important;backdrop-filter:blur(4px)!important;-webkit-backdrop-filter:blur(4px)!important;display:flex!important;align-items:center!important;justify-content:center!important;z-index:10000!important;animation:_ngcontent-%COMP%_fadeIn .3s ease-out!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc)!important;border-radius:20px!important;padding:0!important;max-width:450px!important;width:90%!important;box-shadow:0 20px 60px #0000004d!important;border:2px solid rgba(59,130,246,.2)!important;animation:_ngcontent-%COMP%_slideUp .3s ease-out!important;position:relative!important;display:flex!important;flex-direction:column!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem;border-bottom:2px solid #e2e8f0;background:linear-gradient(135deg,#f8fafc,#fff);border-radius:20px 20px 0 0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:60px;height:60px;display:flex;align-items:center;justify-content:center;border-radius:50%}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-icon.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b;flex:1}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#64748b;cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b;transform:rotate(90deg)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem!important;background:#fff!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#475569;margin:0;line-height:1.6;font-size:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end!important;gap:1rem!important;padding:1.5rem!important;border-top:2px solid #e2e8f0!important;background:linear-gradient(135deg,#f8fafc,#f1f5f9)!important;border-radius:0 0 20px 20px!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px!important;padding:10px 20px!important;font-size:.875rem!important;font-weight:600!important;border-radius:10px!important;border:none!important;cursor:pointer!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)!important;color:#fff!important;box-shadow:0 4px 12px #3b82f64d!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px)!important;box-shadow:0 6px 20px #3b82f666!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff!important;color:#475569!important;border:2px solid #cbd5e1!important;box-shadow:0 2px 4px #0000000d!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9!important;border-color:#94a3b8!important;transform:translateY(-1px)!important}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media(max-width:968px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%);transition:transform .3s}.sidebar.open[_ngcontent-%COMP%]{transform:translate(0)}}"]})};var ot=()=>["/"];function it(c,o){if(c&1&&(e(0,"span",20),a(1),n()),c&2){let t=d();l(),m(t.notificationCount>99?"99+":t.notificationCount)}}function rt(c,o){c&1&&(e(0,"div",31)(1,"span",32),a(2,"\u{1F4ED}"),n(),e(3,"p"),a(4,"No notifications"),n()())}function at(c,o){if(c&1){let t=u();e(0,"div",33),s("click",function(){let i=g(t).$implicit,_=d(2);return f(_.markNotificationAsRead(i))}),e(1,"div",34),a(2),n(),e(3,"div",35)(4,"div",36),a(5),n(),e(6,"div",37),a(7),n()()()}if(c&2){let t=o.$implicit;v("unread",!t.read)("alert-error",t.type==="error")("alert-warning",t.type==="warning")("alert-info",t.type==="info"),l(2),y(" ",t.type==="error"?"\u{1F534}":t.type==="warning"?"\u{1F7E1}":"\u{1F535}"," "),l(3),m(t.title),l(2),m(t.time)}}function ct(c,o){if(c&1){let t=u();e(0,"div",21),s("click",function(i){return g(t),f(i.stopPropagation())}),e(1,"div",22)(2,"h4"),a(3,"Notifications"),n(),e(4,"div",23)(5,"button",24),s("click",function(){g(t);let i=d();return f(i.markAllAsRead())}),a(6,"Mark all as read"),n(),e(7,"button",25),s("click",function(){g(t);let i=d();return f(i.closeNotifications())}),a(8,"\xD7"),n()()(),e(9,"div",26),b(10,rt,5,0,"div",27)(11,at,8,11,"div",28),n(),e(12,"div",29)(13,"button",30),s("click",function(){g(t);let i=d();return f(i.navigateToAlerts())}),a(14,"View all notifications"),n()()()}if(c&2){let t=d();l(10),p("ngIf",t.notifications.length===0),l(),p("ngForOf",t.notifications)}}function lt(c,o){if(c&1&&(e(0,"div",38)(1,"div",39),a(2),n(),e(3,"div",40),a(4),n()()),c&2){let t=d();l(2),m(t.getUserDisplayName()),l(2),m(t.getUserRole())}}function st(c,o){if(c&1&&(e(0,"div",52),a(1),n()),c&2){let t=d(2);l(),m(t.currentUser==null?null:t.currentUser.facilityName)}}function dt(c,o){if(c&1){let t=u();e(0,"div",41),s("click",function(i){return g(t),f(i.stopPropagation())}),e(1,"div",42)(2,"div",43),a(3),n(),e(4,"div",44)(5,"div",45),a(6),n(),e(7,"div",46),a(8),n(),b(9,st,2,1,"div",47),n(),e(10,"button",25),s("click",function(){g(t);let i=d();return f(i.closeProfile())}),a(11,"\xD7"),n()(),N(12,"div",48),e(13,"button",49),s("click",function(){g(t);let i=d();return f(i.navigateToProfile())}),e(14,"span",50),a(15,"\u{1F464}"),n(),e(16,"span"),a(17,"My Dashboard"),n()(),e(18,"button",49),s("click",function(){g(t);let i=d();return f(i.navigateToSettings())}),e(19,"span",50),a(20,"\u2699\uFE0F"),n(),e(21,"span"),a(22,"Settings"),n()(),e(23,"button",49),s("click",function(){g(t);let i=d();return f(i.navigateToHelp())}),e(24,"span",50),a(25,"\u2753"),n(),e(26,"span"),a(27,"Help & Documentation"),n()(),N(28,"div",48),e(29,"button",51),s("click",function(){g(t);let i=d();return f(i.logout())}),e(30,"span",50),a(31,"\u{1F6AA}"),n(),e(32,"span"),a(33,"Logout"),n()()()}if(c&2){let t=d();l(3),m(t.getUserInitials()),l(3),m(t.getUserDisplayName()),l(2),m(t.getUserRole()),l(),p("ngIf",t.currentUser==null?null:t.currentUser.facilityName)}}function pt(c,o){if(c&1){let t=u();e(0,"div",53),s("click",function(){g(t);let i=d();return f(i.cancelLogout())}),e(1,"div",54),s("click",function(i){return g(t),f(i.stopPropagation())}),e(2,"div",55)(3,"div",56),a(4,"\u26A0\uFE0F"),n(),e(5,"h2"),a(6,"Confirm Logout"),n(),e(7,"button",57),s("click",function(){g(t);let i=d();return f(i.cancelLogout())}),a(8,"\xD7"),n()(),e(9,"div",58)(10,"p"),a(11,"Are you sure you want to logout? You will need to login again to access the system."),n()(),e(12,"div",59)(13,"button",60),s("click",function(){g(t);let i=d();return f(i.cancelLogout())}),a(14,"Cancel"),n(),e(15,"button",61),s("click",function(){g(t);let i=d();return f(i.confirmLogout())}),a(16,"Logout"),n()()()()}}var D=class c{sidebarCollapsed=!1;toggleSidebar=new P;toggleNotifications=new P;authService=C(M);router=C(T);elementRef=C(L);currentUser=null;notificationCount=0;searchQuery="";showProfileDropdown=!1;showNotificationsDropdown=!1;showRecentSearches=!1;recentSearches=[];showLogoutConfirm=!1;notifications=[];ngOnInit(){this.authService.currentUser$.subscribe(o=>{this.currentUser=o}),this.loadNotifications()}ngOnDestroy(){}onDocumentClick(o){let t=o.target;this.elementRef.nativeElement.contains(t)||this.closeDropdowns()}loadNotifications(){this.notifications=[{id:"1",type:"error",title:"Measles vaccine out of stock",time:"2 hours ago",read:!1},{id:"2",type:"warning",title:"Penta stock below reorder point",time:"5 hours ago",read:!1},{id:"3",type:"info",title:"OPV batch expiring in 14 days",time:"Yesterday",read:!0}],this.notificationCount=this.notifications.filter(o=>!o.read).length}onToggleSidebar(){this.toggleSidebar.emit()}onToggleNotifications(o){o&&o.stopPropagation(),this.showNotificationsDropdown=!this.showNotificationsDropdown,this.showProfileDropdown=!1,this.toggleNotifications.emit()}onProfileClick(o){o&&o.stopPropagation(),this.showProfileDropdown=!this.showProfileDropdown,this.showNotificationsDropdown=!1}hideRecentSearches(){setTimeout(()=>{this.showRecentSearches=!1},200)}navigateToProfile(){this.closeDropdowns();let o=this.currentUser?.role;o==="HEALTH_WORKER"||o==="VACCINATOR"?this.router.navigate(["/vaccinator/dashboard"]):o==="FACILITY_MANAGER"?this.router.navigate(["/manager/dashboard"]):o==="GOVERNMENT_OFFICIAL"?this.router.navigate(["/admin/dashboard"]):this.router.navigate(["/"])}navigateToSettings(){this.closeDropdowns();let o=this.currentUser?.role;o==="GOVERNMENT_OFFICIAL"||o==="FACILITY_MANAGER"?this.router.navigate(["/admin/settings"]):this.router.navigate(["/vaccinator/dashboard"])}navigateToHelp(){this.closeDropdowns(),this.router.navigate(["/landing"])}navigateToAlerts(){this.closeNotifications();let o=this.currentUser?.role;o==="FACILITY_MANAGER"?this.router.navigate(["/manager/alerts"]):o==="HEALTH_WORKER"||o==="VACCINATOR"?this.router.navigate(["/vaccinator/stock"]):this.router.navigate(["/admin/dashboard"])}markAllAsRead(){this.notifications.forEach(o=>o.read=!0),this.notificationCount=0}markNotificationAsRead(o){o.read=!0,this.notificationCount=this.notifications.filter(t=>!t.read).length}getUserInitials(){if(!this.currentUser)return"U";let o=this.currentUser.fullName||"",t=this.currentUser.firstName||"",r=this.currentUser.lastName||"";if(o){let i=o.split(" ").filter(_=>_.length>0);return i.length>=2?(i[0][0]+i[1][0]).toUpperCase():i[0][0].toUpperCase()}return t&&r?(t[0]+r[0]).toUpperCase():(this.currentUser.username[0]||"U").toUpperCase()}getUserDisplayName(){return this.currentUser?this.currentUser.fullName||(this.currentUser.firstName&&this.currentUser.lastName?`${this.currentUser.firstName} ${this.currentUser.lastName}`:"")||this.currentUser.username:"User"}getUserRole(){if(!this.currentUser)return"";let o=this.currentUser.role;return{ADMIN:"Admin",FACILITY_MANAGER:"Facility Manager",VACCINATOR:"Vaccinator",HEALTH_WORKER:"Health Worker",DISTRICT_OFFICER:"District Officer",GOVERNMENT_OFFICER:"Government Officer"}[o]||o}logout(){this.showProfileDropdown=!1,this.showLogoutConfirm=!0}confirmLogout(){this.showLogoutConfirm=!1,this.authService.logout()}cancelLogout(){this.showLogoutConfirm=!1}closeDropdowns(){this.showProfileDropdown=!1,this.showNotificationsDropdown=!1}closeNotifications(){this.showNotificationsDropdown=!1}closeProfile(){this.showProfileDropdown=!1}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=x({type:c,selectors:[["app-topbar"]],hostBindings:function(t,r){t&1&&s("click",function(_){return r.onDocumentClick(_)},U)},inputs:{sidebarCollapsed:"sidebarCollapsed"},outputs:{toggleSidebar:"toggleSidebar",toggleNotifications:"toggleNotifications"},decls:26,vars:9,consts:[[1,"topbar"],[1,"topbar-left"],["title","Toggle Sidebar",1,"sidebar-toggle",3,"click"],[1,"menu-icon"],[1,"topbar-logo",3,"routerLink"],[1,"logo-icon"],[1,"logo-text"],[1,"topbar-right"],[1,"notification-container",3,"click"],[1,"notification-btn",3,"click","title"],[1,"notification-icon"],["class","notification-badge",4,"ngIf"],["class","notifications-dropdown",3,"click",4,"ngIf"],[1,"profile-container",3,"click"],[1,"profile-btn",3,"click"],[1,"profile-avatar"],["class","profile-info",4,"ngIf"],[1,"profile-arrow"],["class","profile-dropdown",3,"click",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"notification-badge"],[1,"notifications-dropdown",3,"click"],[1,"dropdown-header"],[1,"header-actions"],[1,"mark-all-read",3,"click"],["title","Close",1,"close-dropdown",3,"click"],[1,"notifications-list"],["class","empty-notifications",4,"ngIf"],["class","notification-item",3,"unread","alert-error","alert-warning","alert-info","click",4,"ngFor","ngForOf"],[1,"dropdown-footer"],[1,"view-all-btn",3,"click"],[1,"empty-notifications"],[1,"empty-icon"],[1,"notification-item",3,"click"],[1,"notification-icon-small"],[1,"notification-content"],[1,"notification-title"],[1,"notification-time"],[1,"profile-info"],[1,"profile-name"],[1,"profile-role"],[1,"profile-dropdown",3,"click"],[1,"dropdown-user-info"],[1,"profile-avatar-large"],[1,"user-details"],[1,"user-name"],[1,"user-role"],["class","user-facility",4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"dropdown-icon"],[1,"dropdown-item","logout-item",3,"click"],[1,"user-facility"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-icon","warning"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,r){t&1&&(e(0,"header",0)(1,"div",1)(2,"button",2),s("click",function(){return r.onToggleSidebar()}),e(3,"span",3),a(4,"\u2630"),n()(),e(5,"a",4)(6,"span",5),a(7,"\u{1F489}"),n(),e(8,"span",6),a(9,"VaxTrack"),n()()(),e(10,"div",7)(11,"div",8),s("click",function(_){return _.stopPropagation()}),e(12,"button",9),s("click",function(_){return r.onToggleNotifications(_)}),e(13,"span",10),a(14,"\u{1F514}"),n(),b(15,it,2,1,"span",11),n(),b(16,ct,15,2,"div",12),n(),e(17,"div",13),s("click",function(_){return _.stopPropagation()}),e(18,"button",14),s("click",function(_){return r.onProfileClick(_)}),e(19,"div",15),a(20),n(),b(21,lt,5,2,"div",16),e(22,"span",17),a(23,"\u25BC"),n()(),b(24,dt,34,4,"div",18),n()(),b(25,pt,17,0,"div",19),n()),t&2&&(l(5),p("routerLink",w(8,ot)),l(7),p("title","Notifications ("+r.notificationCount+")"),l(3),p("ngIf",r.notificationCount>0),l(),p("ngIf",r.showNotificationsDropdown),l(4),m(r.getUserInitials()),l(),p("ngIf",r.currentUser),l(3),p("ngIf",r.showProfileDropdown),l(),p("ngIf",r.showLogoutConfirm))},dependencies:[O,k,S,h,E,F],styles:['[_ngcontent-%COMP%]:root{--primary-50: #e3f2fd;--primary-100: #bbdefb;--primary-200: #90caf9;--primary-300: #64b5f6;--primary-400: #42a5f5;--primary-500: #2196f3;--primary-600: #1e88e5;--primary-700: #1976d2;--primary-800: #1565c0;--primary-900: #0d47a1;--gray-50: #fafafa;--gray-100: #f5f5f5;--gray-200: #eeeeee;--gray-300: #e0e0e0;--gray-400: #bdbdbd;--gray-500: #9e9e9e;--gray-600: #757575;--gray-700: #616161;--gray-800: #424242;--gray-900: #212121;--success: #4caf50;--warning: #ff9800;--error: #f44336;--info: #2196f3;--space-1: 4px;--space-2: 8px;--space-3: 12px;--space-4: 16px;--space-5: 20px;--space-6: 24px;--space-8: 32px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04)}.topbar[_ngcontent-%COMP%]{height:72px;background:linear-gradient(135deg,#fff,#f8fafc);border-bottom:1px solid var(--gray-200);display:flex;align-items:center;justify-content:space-between;padding:0 var(--space-6);position:fixed;top:0;left:0;right:0;z-index:999;box-shadow:0 2px 12px #00000014;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);transition:all .3s cubic-bezier(.4,0,.2,1)}@media(max-width:768px){.topbar[_ngcontent-%COMP%]{height:64px}}.topbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-4);flex:0 0 auto}.sidebar-toggle[_ngcontent-%COMP%]{display:none;background:linear-gradient(135deg,var(--primary-50) 0%,var(--primary-100) 100%);border:1px solid var(--primary-200);cursor:pointer;padding:var(--space-2);border-radius:10px;transition:all .3s cubic-bezier(.4,0,.2,1);width:40px;height:40px;align-items:center;justify-content:center}.sidebar-toggle[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-700);transition:transform .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--primary-100) 0%,var(--primary-200) 100%);border-color:var(--primary-300);transform:translateY(-1px);box-shadow:var(--shadow-md)}.sidebar-toggle[_ngcontent-%COMP%]:hover   .menu-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar-toggle[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:var(--shadow-sm)}@media(max-width:968px){.sidebar-toggle[_ngcontent-%COMP%]{display:flex}}.topbar-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-3);text-decoration:none;color:var(--primary-600);font-weight:700;font-size:1.375rem;padding:var(--space-2) var(--space-3);border-radius:12px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.topbar-logo[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,var(--primary-50) 0%,transparent 100%);opacity:0;transition:opacity .3s ease;border-radius:12px}.topbar-logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:2rem;filter:drop-shadow(0 2px 6px rgba(33,150,243,.3));transition:all .3s ease;z-index:1}.topbar-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-600) 0%,var(--primary-500) 50%,var(--primary-700) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.5px;z-index:1}@media(max-width:768px){.topbar-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{display:none}}.topbar-logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.topbar-logo[_ngcontent-%COMP%]:hover:before{opacity:1}.topbar-logo[_ngcontent-%COMP%]:hover   .logo-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(-5deg);filter:drop-shadow(0 4px 8px rgba(33,150,243,.4))}.topbar-logo[_ngcontent-%COMP%]:active{transform:translateY(0)}.topbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-3);flex:0 0 auto}.notification-container[_ngcontent-%COMP%]{position:relative}.notification-btn[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,var(--gray-50) 0%,#ffffff 100%);border:2px solid var(--gray-200);cursor:pointer;padding:0;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:var(--shadow-sm)}.notification-btn[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{font-size:1.375rem;transition:transform .3s ease}.notification-btn[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px;background:linear-gradient(135deg,#f44336,#e53935);color:#fff;border:2px solid white;border-radius:12px;min-width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.6875rem;font-weight:700;padding:0 5px;box-shadow:0 2px 6px #f4433666;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.notification-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--primary-50) 0%,var(--primary-100) 100%);border-color:var(--primary-300);transform:translateY(-2px);box-shadow:var(--shadow-md)}.notification-btn[_ngcontent-%COMP%]:hover   .notification-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(12deg)}.notification-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:var(--shadow-sm)}.notifications-dropdown[_ngcontent-%COMP%]{position:fixed;top:80px;right:100px;width:380px;background:linear-gradient(135deg,#fff,#fafbfc);border:1px solid rgba(226,232,240,.8);border-radius:24px;box-shadow:0 12px 40px #0000001f,0 4px 12px #00000014;z-index:1001;max-height:calc(100vh - 100px);display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_slideDownFade .3s cubic-bezier(.4,0,.2,1)}.notifications-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:24px;padding:2px;background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;opacity:1}@keyframes _ngcontent-%COMP%_slideDownFade{0%{opacity:0;transform:translateY(-12px)}to{opacity:1;transform:translateY(0)}}@media(max-width:768px){.notifications-dropdown[_ngcontent-%COMP%]{width:calc(100vw - 32px);right:16px;top:72px}}@media(max-width:480px){.notifications-dropdown[_ngcontent-%COMP%]{width:calc(100vw - 24px);right:12px}}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:var(--space-5) var(--space-5) var(--space-4);border-bottom:3px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center;background:linear-gradient(135deg,#f8fafc,#fff);position:relative}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-3px;left:0;width:60px;height:3px;background:linear-gradient(90deg,#3b82f6,#8b5cf6);border-radius:3px}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:800;background:linear-gradient(135deg,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.01em}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .mark-all-read[_ngcontent-%COMP%]{background:#3b82f614;border:none;color:#3b82f6;font-size:.875rem;font-weight:700;cursor:pointer;padding:.625rem 1.25rem;border-radius:12px;transition:all .3s cubic-bezier(.4,0,.2,1)}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .mark-all-read[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:translate(4px);box-shadow:0 4px 12px #3b82f64d}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .mark-all-read[_ngcontent-%COMP%]:active{transform:translate(2px)}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:1.75rem;color:#64748b;cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:10px;transition:all .2s;line-height:1}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b;transform:rotate(90deg)}.notifications-dropdown[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;max-height:420px;padding:.5rem}.notifications-dropdown[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.notifications-dropdown[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:10px}.notifications-dropdown[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#3b82f6,#8b5cf6);border-radius:10px}.notifications-dropdown[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(180deg,#2563eb,#7c3aed)}.notifications-dropdown[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .empty-notifications[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem;color:#64748b}.notifications-dropdown[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .empty-notifications[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:2.5rem;display:block;margin-bottom:.75rem;opacity:.6}.notifications-dropdown[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .empty-notifications[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:.9375rem}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{display:flex;gap:var(--space-3);padding:1.25rem;border-radius:16px;border-left:5px solid #cbd5e1;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 8px #0000000d;margin-bottom:.875rem;cursor:pointer;position:relative;background:linear-gradient(135deg,#fafbfc,#f8fafc)}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]:hover{transform:translate(8px);box-shadow:0 4px 16px #0000001a}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item.unread[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8fafc)}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item.unread[_ngcontent-%COMP%]:after{content:"";position:absolute;top:12px;right:12px;width:8px;height:8px;background:#3b82f6;border-radius:50%;box-shadow:0 0 0 3px #3b82f633}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item.alert-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef2f2,#fee2e2);border-color:#ef4444}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item.alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffbeb,#fef3c7);border-color:#f59e0b}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item.alert-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe);border-color:#3b82f6}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-icon-small[_ngcontent-%COMP%]{font-size:1.5rem;flex-shrink:0;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.375rem}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700;color:#1e293b;line-height:1.5}.notifications-dropdown[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b;font-weight:600}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-footer[_ngcontent-%COMP%]{padding:var(--space-4);border-top:3px solid #e2e8f0;text-align:center;background:linear-gradient(135deg,#fff,#f8fafc)}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .notifications-dropdown[_ngcontent-%COMP%]   .dropdown-footer[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]{color:#3b82f6;text-decoration:none;font-size:.9375rem;font-weight:700;padding:.625rem 1.25rem;border-radius:12px;display:inline-block;transition:all .3s ease;background:#3b82f614;border:none;cursor:pointer}.notifications-dropdown[_ngcontent-%COMP%]   .dropdown-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .notifications-dropdown[_ngcontent-%COMP%]   .dropdown-footer[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:translate(4px);box-shadow:0 4px 12px #3b82f64d}.profile-container[_ngcontent-%COMP%]{position:relative}.profile-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-3);background:linear-gradient(135deg,var(--gray-50) 0%,#ffffff 100%);border:2px solid var(--gray-200);cursor:pointer;padding:var(--space-2);border-radius:32px;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:var(--shadow-sm)}.profile-btn[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-500) 0%,var(--primary-600) 100%);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9375rem;flex-shrink:0;box-shadow:0 2px 8px #2196f34d;border:2px solid white;transition:all .3s ease}.profile-btn[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{text-align:left;padding-right:var(--space-2)}@media(max-width:768px){.profile-btn[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{display:none}}.profile-btn[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700;color:var(--gray-900);line-height:1.3;letter-spacing:-.2px}.profile-btn[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-role[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--gray-600);line-height:1.3;font-weight:500}.profile-btn[_ngcontent-%COMP%]   .profile-arrow[_ngcontent-%COMP%]{color:var(--gray-500);font-size:.75rem;margin-right:var(--space-1);transition:transform .3s ease}@media(max-width:768px){.profile-btn[_ngcontent-%COMP%]   .profile-arrow[_ngcontent-%COMP%]{display:none}}.profile-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--primary-50) 0%,var(--primary-100) 100%);border-color:var(--primary-300);transform:translateY(-2px);box-shadow:var(--shadow-md)}.profile-btn[_ngcontent-%COMP%]:hover   .profile-avatar[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 4px 12px #2196f366}.profile-btn[_ngcontent-%COMP%]:hover   .profile-arrow[_ngcontent-%COMP%]{transform:translateY(2px)}.profile-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:var(--shadow-sm)}.profile-dropdown[_ngcontent-%COMP%]{position:fixed;top:80px;right:24px;width:300px;background:linear-gradient(135deg,#fff,#fafbfc);border:1px solid rgba(226,232,240,.8);border-radius:24px;box-shadow:0 12px 40px #0000001f,0 4px 12px #00000014;z-index:1001;overflow:hidden;animation:_ngcontent-%COMP%_slideDownFade .3s cubic-bezier(.4,0,.2,1)}.profile-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:24px;padding:2px;background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;opacity:1}@media(max-width:768px){.profile-dropdown[_ngcontent-%COMP%]{width:280px;right:16px;top:72px}}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-user-info[_ngcontent-%COMP%]{padding:var(--space-5);display:flex;gap:var(--space-4);background:linear-gradient(135deg,#eff6ff,#dbeafe,#eff6ff);position:relative}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-user-info[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#3b82f6,#8b5cf6)}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-user-info[_ngcontent-%COMP%]   .profile-avatar-large[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.375rem;flex-shrink:0;box-shadow:0 4px 16px #3b82f666;border:3px solid white;transition:transform .3s ease}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;justify-content:center}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:800;background:linear-gradient(135deg,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:var(--space-2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:-.3px}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.875rem;color:#3b82f6;margin-bottom:var(--space-1);font-weight:700}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-facility[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:600}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-user-info[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#64748b;cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s;line-height:1;position:absolute;top:12px;right:12px}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-user-info[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]:hover{background:#fffc;color:#1e293b;transform:rotate(90deg)}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{height:1px;background:linear-gradient(90deg,transparent 0%,#e2e8f0 50%,transparent 100%);margin:var(--space-2) var(--space-4)}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-4);padding:var(--space-3) var(--space-5);color:#475569;text-decoration:none;font-size:.9375rem;font-weight:600;transition:all .3s cubic-bezier(.4,0,.2,1);border:none;background:none;width:100%;text-align:left;cursor:pointer;position:relative;border-radius:12px;margin:.25rem var(--space-2)}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:#3b82f6;opacity:0;transition:opacity .3s ease;border-radius:0 3px 3px 0}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:24px;text-align:center;transition:transform .3s ease;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#eff6ff,#dbeafe);color:#1e293b;transform:translate(4px)}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover:before{opacity:1}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .dropdown-icon[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-item.logout-item[_ngcontent-%COMP%]{color:#ef4444;margin-top:var(--space-2)}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-item.logout-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#fef2f2,#fee2e2);color:#dc2626}.profile-dropdown[_ngcontent-%COMP%]   .dropdown-item.logout-item[_ngcontent-%COMP%]:before{background:#ef4444}@media(max-width:968px){.topbar[_ngcontent-%COMP%]{padding:0 var(--space-4)}}@media(max-width:768px){.topbar[_ngcontent-%COMP%]{height:64px;padding:0 var(--space-3)}.topbar-left[_ngcontent-%COMP%]{gap:var(--space-3)}.topbar-logo[_ngcontent-%COMP%]{font-size:1.25rem;padding:var(--space-2)}.topbar-logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:1.75rem}.topbar-right[_ngcontent-%COMP%]{gap:var(--space-2)}.notification-btn[_ngcontent-%COMP%], .profile-btn[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.notifications-dropdown[_ngcontent-%COMP%]{width:calc(100vw - 32px);right:-8px}.profile-dropdown[_ngcontent-%COMP%]{width:280px;right:-8px}}@media(prefers-reduced-motion:reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-500);outline-offset:2px}.modal-overlay[_ngcontent-%COMP%]{position:fixed!important;inset:0!important;background:#0009!important;-webkit-backdrop-filter:blur(4px)!important;backdrop-filter:blur(4px)!important;display:flex!important;align-items:center!important;justify-content:center!important;z-index:10000!important;animation:_ngcontent-%COMP%_fadeIn .3s ease-out!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fafbfc)!important;border-radius:20px!important;padding:0!important;max-width:450px!important;width:90%!important;box-shadow:0 20px 60px #0000004d!important;border:2px solid rgba(59,130,246,.2)!important;animation:_ngcontent-%COMP%_slideUp .3s ease-out!important;position:relative!important;display:flex!important;flex-direction:column!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem;border-bottom:2px solid #e2e8f0;background:linear-gradient(135deg,#f8fafc,#fff);border-radius:20px 20px 0 0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:60px;height:60px;display:flex;align-items:center;justify-content:center;border-radius:50%}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-icon.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-icon.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b;flex:1}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#64748b;cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b;transform:rotate(90deg)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem!important;background:#fff!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#475569;margin:0;line-height:1.6;font-size:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.75rem;font-size:.9375rem}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1e293b;font-weight:600;margin-right:.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end!important;gap:1rem!important;padding:1.5rem!important;border-top:2px solid #e2e8f0!important;background:linear-gradient(135deg,#f8fafc,#f1f5f9)!important;border-radius:0 0 20px 20px!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px!important;padding:10px 20px!important;font-size:.875rem!important;font-weight:600!important;border-radius:10px!important;border:none!important;cursor:pointer!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)!important;color:#fff!important;box-shadow:0 4px 12px #3b82f64d!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px)!important;box-shadow:0 6px 20px #3b82f666!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff!important;color:#475569!important;border:2px solid #cbd5e1!important;box-shadow:0 2px 4px #0000000d!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9!important;border-color:#94a3b8!important;transform:translateY(-1px)!important}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}[_nghost-%COMP%]{display:block}']})};var gt=["*"],H=class c{pageTitle="Dashboard";pageSubtitle="";authService=C(M);router=C(T);currentUser$=this.authService.currentUser$;currentUser=null;sidebarItems=[];roleLabel="";sidebarCollapsed=!1;ngOnInit(){this.currentUser$.subscribe(o=>{this.currentUser=o,o&&this.setupSidebar(o)})}onToggleSidebar(){this.sidebarCollapsed=!this.sidebarCollapsed}setupSidebar(o){let t=o.role.toUpperCase();t==="GOVERNMENT_OFFICIAL"?(this.roleLabel="Government Official",this.sidebarItems=[{label:"Dashboard",route:"/district/dashboard",icon:"\u{1F4CA}"},{label:"Facilities",route:"/district/facilities",icon:"\u{1F3E5}"},{label:"Stock",route:"/district/stock",icon:"\u{1F4E6}"},{label:"Campaigns",route:"/district/campaigns",icon:"\u{1F4E2}"},{label:"Reports",route:"/district/reports/coverage",icon:"\u{1F4C8}"},{label:"SMS Logs",route:"/district/sms",icon:"\u{1F4F1}"}]):t==="HEALTH_WORKER"?(this.roleLabel="Health Worker",this.sidebarItems=[{label:"Dashboard",route:"/vaccinator/dashboard",icon:"\u{1F4CA}"},{label:"Register Patient",route:"/vaccinator/patients/register",icon:"\u2795"},{label:"Vaccinations",route:"/vaccinator/vaccinations",icon:"\u{1F489}"},{label:"Today's Appointments",route:"/vaccinator/appointments/today",icon:"\u{1F4C5}"},{label:"Vaccine Stock",route:"/vaccinator/stock",icon:"\u{1F4E6}"},{label:"Reports",route:"/vaccinator/reports",icon:"\u{1F4C8}"}]):t==="FACILITY_MANAGER"&&(this.roleLabel="Facility Manager",this.sidebarItems=[{label:"Dashboard",route:"/manager/dashboard",icon:"\u{1F4CA}"},{label:"Patients",route:"/manager/patients",icon:"\u{1F465}"},{label:"Vaccinations",route:"/manager/vaccinations",icon:"\u{1F489}"},{label:"Stock Management",route:"/manager/stock",icon:"\u{1F4E6}"},{label:"Staff Management",route:"/manager/staff",icon:"\u{1F468}\u200D\u2695\uFE0F"},{label:"Appointments",route:"/manager/appointments",icon:"\u{1F4C5}"},{label:"Reports",route:"/manager/reports",icon:"\u{1F4C8}"},{label:"SMS Logs",route:"/district/sms",icon:"\u{1F4F1}"},{label:"Alerts & Notifications",route:"/manager/alerts",icon:"\u{1F514}"}])}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=x({type:c,selectors:[["app-layout"]],inputs:{pageTitle:"pageTitle",pageSubtitle:"pageSubtitle"},ngContentSelectors:gt,decls:6,vars:7,consts:[[1,"layout-container"],[3,"toggleCollapse","items","user","roleLabel","collapsed"],[1,"main-wrapper"],[3,"toggleSidebar","sidebarCollapsed"],[1,"main-content"]],template:function(t,r){t&1&&(V(),e(0,"div",0)(1,"app-sidebar",1),s("toggleCollapse",function(){return r.onToggleSidebar()}),n(),e(2,"div",2)(3,"app-topbar",3),s("toggleSidebar",function(){return r.onToggleSidebar()}),n(),e(4,"main",4),A(5),n()()()),t&2&&(l(),p("items",r.sidebarItems)("user",r.currentUser)("roleLabel",r.roleLabel)("collapsed",r.sidebarCollapsed),l(),v("sidebar-collapsed",r.sidebarCollapsed),l(),p("sidebarCollapsed",r.sidebarCollapsed))},dependencies:[O,h,I,D],styles:[".layout-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:linear-gradient(135deg,#f8fafc,#f1f5f9)}.main-wrapper[_ngcontent-%COMP%]{flex:1;margin-left:240px;display:flex;flex-direction:column;min-height:100vh;transition:margin-left .3s ease}.main-wrapper.sidebar-collapsed[_ngcontent-%COMP%]{margin-left:60px}.main-content[_ngcontent-%COMP%]{flex:1;padding:var(--space-6);overflow-y:auto;margin-top:64px}@media(max-width:968px){.main-wrapper[_ngcontent-%COMP%], .main-wrapper.sidebar-collapsed[_ngcontent-%COMP%]{margin-left:0!important}.main-content[_ngcontent-%COMP%]{padding:var(--space-4);margin-top:64px}}@media(max-width:768px){.main-content[_ngcontent-%COMP%]{padding:var(--space-3)}}"]})};export{H as a};
