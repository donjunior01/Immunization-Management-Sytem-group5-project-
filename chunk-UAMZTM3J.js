import{b as m}from"./chunk-3YJIJH2N.js";import{db as d,k as n,v as r,z as c}from"./chunk-T4RMSDZY.js";var o=class e{http=c(d);apiUrl=m.apiUrl;getAllVaccines(){return this.http.get(`${this.apiUrl}/api/inventory/vaccines`)}recordVaccination(a){return this.http.post(`${this.apiUrl}/api/vaccinations`,a).pipe(n(t=>({id:String(t.id||""),patientId:String(t.patientId||""),patientName:t.patientName||"",vaccineId:"",vaccineName:t.vaccineName||"",doseNumber:t.doseNumber||1,batchNumber:t.batchNumber||"",administeredDate:t.dateAdministered||t.administeredDate||"",date:t.dateAdministered||t.administeredDate||"",administeredBy:t.nurseName||"",administeredByName:t.nurseName||"",administrationSite:t.administrationSite||"LEFT_ARM",site:t.administrationSite||"LEFT_ARM",notes:t.notes||"",facilityId:t.facilityId||"",facilityName:"",nextAppointmentId:t.nextAppointmentId?String(t.nextAppointmentId):void 0,nextAppointmentDate:t.nextAppointmentDate||void 0})))}getVaccinationById(a){return this.http.get(`${this.apiUrl}/api/vaccinations/${a}`)}reportAdverseEvent(a){return this.http.post(`${this.apiUrl}/api/adverse-events`,a)}getPatientVaccinations(a){return this.http.get(`${this.apiUrl}/api/patients/${a}/vaccinations`)}getVaccinationsByFacility(a){return this.http.get(`${this.apiUrl}/api/vaccinations/facility/${a}`).pipe(n(t=>t.map(i=>({id:String(i.id||""),patientId:String(i.patientId||""),patientName:i.patientName||"",vaccineId:"",vaccineName:i.vaccineName||"",doseNumber:i.doseNumber||1,batchNumber:i.batchNumber||"",administeredDate:i.dateAdministered||i.administeredDate||"",date:i.dateAdministered||i.administeredDate||"",administeredBy:i.nurseName||i.administeredBy||"",administeredByName:i.nurseName||i.administeredByName||"",administrationSite:"LEFT_ARM",site:"LEFT_ARM",notes:i.notes||"",facilityId:i.facilityId||"",facilityName:""}))))}getVaccinationsByDateRange(a,t,i){return this.http.get(`${this.apiUrl}/api/vaccinations/facility/${a}`,{params:{startDate:t,endDate:i}})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})};export{o as a};
