2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/c9591ed2-5a1a-49a7-99e4-85a9615c3c2b
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/c9591ed2-5a1a-49a7-99e4-85a9615c3c2b, Auth header present: true
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:46 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/c9591ed2-5a1a-49a7-99e4-85a9615c3c2b
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/c9591ed2-5a1a-49a7-99e4-85a9615c3c2b", parameters={}
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientById(UUID)
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientById(java.util.UUID); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 10:44:46 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientById(java.util.UUID); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PatientResponse(id=c9591ed2-5a1a-49a7-99e4-85a9615c3c2b, fullName=Tom tam, dateOfBirth=2008-02-20, g (truncated)...]
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:44:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:44:46 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:46 [http-nio-8080-exec-1] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:44:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001/vaccine/BCG
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001/vaccine/OPV
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001/vaccine/DTP
2026-01-02 10:44:46 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001/vaccine/BCG, Auth header present: true
2026-01-02 10:44:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001/vaccine/Measles
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:44:46 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001/vaccine/OPV, Auth header present: true
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001/vaccine/Hepatitis B
2026-01-02 10:44:46 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001/vaccine/DTP, Auth header present: true
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001/vaccine/Measles, Auth header present: true
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001/vaccine/Hepatitis B, Auth header present: true
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001/vaccine/BCG
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001/vaccine/BCG", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAvailableBatchesByVaccine(String, String)
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-3] INFO  c.i.i.controller.InventoryController - getAvailableBatchesByVaccine called - facilityId: FAC001, vaccineName: 'BCG'
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-3] INFO  c.i.i.service.InventoryService - Finding available batches for facility: FAC001, vaccine: 'BCG' (decoded: 'BCG')
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and lower(trim(BOTH from vb1_0.vaccine_name))=lower(trim(BOTH from ?)) 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2026-01-02 10:44:47 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-3] INFO  c.i.i.service.InventoryService - Found 2 available batches for vaccine: 'BCG' in facility: FAC001
2026-01-02 10:44:47 [http-nio-8080-exec-3] INFO  c.i.i.controller.InventoryController - Returning 2 batches for facility: FAC001, vaccine: 'BCG'
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001/vaccine/Measles
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001/vaccine/Measles", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAvailableBatchesByVaccine(String, String)
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=32, batchNumber=BCG-2026-C15, vaccineName=bcg, manufacturer=donj, quantityR (truncated)...]
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001/vaccine/Rotavirus
2026-01-02 10:44:47 [http-nio-8080-exec-9] INFO  c.i.i.controller.InventoryController - getAvailableBatchesByVaccine called - facilityId: FAC001, vaccineName: 'Measles'
2026-01-02 10:44:47 [http-nio-8080-exec-9] INFO  c.i.i.service.InventoryService - Finding available batches for facility: FAC001, vaccine: 'Measles' (decoded: 'Measles')
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001/vaccine/Rotavirus, Auth header present: true
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and lower(trim(BOTH from vb1_0.vaccine_name))=lower(trim(BOTH from ?)) 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-9] INFO  c.i.i.service.InventoryService - Found 1 available batches for vaccine: 'Measles' in facility: FAC001
2026-01-02 10:44:47 [http-nio-8080-exec-9] INFO  c.i.i.controller.InventoryController - Returning 1 batches for facility: FAC001, vaccine: 'Measles'
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=35, batchNumber=MLS-2026-09, vaccineName=measles, manufacturer=TAMO, quanti (truncated)...]
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001/vaccine/COVID-19
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001/vaccine/COVID-19, Auth header present: true
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:44:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001/vaccine/Tetanus
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001/vaccine/Tetanus, Auth header present: true
2026-01-02 10:44:47 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001/vaccine/DTP
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001/vaccine/DTP", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAvailableBatchesByVaccine(String, String)
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-8] INFO  c.i.i.controller.InventoryController - getAvailableBatchesByVaccine called - facilityId: FAC001, vaccineName: 'DTP'
2026-01-02 10:44:47 [http-nio-8080-exec-8] INFO  c.i.i.service.InventoryService - Finding available batches for facility: FAC001, vaccine: 'DTP' (decoded: 'DTP')
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and lower(trim(BOTH from vb1_0.vaccine_name))=lower(trim(BOTH from ?)) 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2026-01-02 10:44:47 [http-nio-8080-exec-8] INFO  c.i.i.service.InventoryService - Found 1 available batches for vaccine: 'DTP' in facility: FAC001
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-8] INFO  c.i.i.controller.InventoryController - Returning 1 batches for facility: FAC001, vaccine: 'DTP'
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=34, batchNumber=DTP-2026-35, vaccineName=dtp, manufacturer=Tamo, quantityRe (truncated)...]
2026-01-02 10:44:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001/vaccine/Yellow Fever
2026-01-02 10:44:47 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001/vaccine/Yellow Fever, Auth header present: true
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001/vaccine/OPV
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001/vaccine/Hepatitis B
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001/vaccine/OPV", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001/vaccine/Hepatitis%20B", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAvailableBatchesByVaccine(String, String)
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAvailableBatchesByVaccine(String, String)
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-6] INFO  c.i.i.controller.InventoryController - getAvailableBatchesByVaccine called - facilityId: FAC001, vaccineName: 'Hepatitis B'
2026-01-02 10:44:47 [http-nio-8080-exec-10] INFO  c.i.i.controller.InventoryController - getAvailableBatchesByVaccine called - facilityId: FAC001, vaccineName: 'OPV'
2026-01-02 10:44:47 [http-nio-8080-exec-6] INFO  c.i.i.service.InventoryService - Finding available batches for facility: FAC001, vaccine: 'Hepatitis B' (decoded: 'Hepatitis B')
2026-01-02 10:44:47 [http-nio-8080-exec-10] INFO  c.i.i.service.InventoryService - Finding available batches for facility: FAC001, vaccine: 'OPV' (decoded: 'OPV')
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and lower(trim(BOTH from vb1_0.vaccine_name))=lower(trim(BOTH from ?)) 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2026-01-02 10:44:47 [http-nio-8080-exec-6] INFO  c.i.i.service.InventoryService - Found 1 available batches for vaccine: 'Hepatitis B' in facility: FAC001
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and lower(trim(BOTH from vb1_0.vaccine_name))=lower(trim(BOTH from ?)) 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2026-01-02 10:44:47 [http-nio-8080-exec-6] INFO  c.i.i.controller.InventoryController - Returning 1 batches for facility: FAC001, vaccine: 'Hepatitis B'
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-10] INFO  c.i.i.service.InventoryService - Found 1 available batches for vaccine: 'OPV' in facility: FAC001
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=5, batchNumber=HEPATITIS-2024-001, vaccineName=Hepatitis B, manufacturer=Gl (truncated)...]
2026-01-02 10:44:47 [http-nio-8080-exec-10] INFO  c.i.i.controller.InventoryController - Returning 1 batches for facility: FAC001, vaccine: 'OPV'
2026-01-02 10:44:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=33, batchNumber=OPV-2026-50, vaccineName=opv, manufacturer=DD, quantityRece (truncated)...]
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001/vaccine/Meningitis
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/c9591ed2-5a1a-49a7-99e4-85a9615c3c2b
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001/vaccine/Meningitis, Auth header present: true
2026-01-02 10:44:47 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/c9591ed2-5a1a-49a7-99e4-85a9615c3c2b, Auth header present: true
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001/vaccine/Rotavirus
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001/vaccine/Rotavirus", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAvailableBatchesByVaccine(String, String)
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-7] INFO  c.i.i.controller.InventoryController - getAvailableBatchesByVaccine called - facilityId: FAC001, vaccineName: 'Rotavirus'
2026-01-02 10:44:47 [http-nio-8080-exec-7] INFO  c.i.i.service.InventoryService - Finding available batches for facility: FAC001, vaccine: 'Rotavirus' (decoded: 'Rotavirus')
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and lower(trim(BOTH from vb1_0.vaccine_name))=lower(trim(BOTH from ?)) 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2026-01-02 10:44:47 [http-nio-8080-exec-7] INFO  c.i.i.service.InventoryService - Found 0 available batches for vaccine: 'Rotavirus' in facility: FAC001
2026-01-02 10:44:47 [http-nio-8080-exec-7] INFO  c.i.i.controller.InventoryController - Returning 0 batches for facility: FAC001, vaccine: 'Rotavirus'
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 10:44:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001/vaccine/COVID-19
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001/vaccine/COVID-19", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAvailableBatchesByVaccine(String, String)
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-4] INFO  c.i.i.controller.InventoryController - getAvailableBatchesByVaccine called - facilityId: FAC001, vaccineName: 'COVID-19'
2026-01-02 10:44:47 [http-nio-8080-exec-4] INFO  c.i.i.service.InventoryService - Finding available batches for facility: FAC001, vaccine: 'COVID-19' (decoded: 'COVID-19')
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and lower(trim(BOTH from vb1_0.vaccine_name))=lower(trim(BOTH from ?)) 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2026-01-02 10:44:47 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-4] INFO  c.i.i.service.InventoryService - Found 0 available batches for vaccine: 'COVID-19' in facility: FAC001
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-4] INFO  c.i.i.controller.InventoryController - Returning 0 batches for facility: FAC001, vaccine: 'COVID-19'
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001/vaccine/Tetanus
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001/vaccine/Tetanus", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAvailableBatchesByVaccine(String, String)
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-2] INFO  c.i.i.controller.InventoryController - getAvailableBatchesByVaccine called - facilityId: FAC001, vaccineName: 'Tetanus'
2026-01-02 10:44:47 [http-nio-8080-exec-2] INFO  c.i.i.service.InventoryService - Finding available batches for facility: FAC001, vaccine: 'Tetanus' (decoded: 'Tetanus')
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and lower(trim(BOTH from vb1_0.vaccine_name))=lower(trim(BOTH from ?)) 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2026-01-02 10:44:47 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-2] INFO  c.i.i.service.InventoryService - Found 0 available batches for vaccine: 'Tetanus' in facility: FAC001
2026-01-02 10:44:47 [http-nio-8080-exec-2] INFO  c.i.i.controller.InventoryController - Returning 0 batches for facility: FAC001, vaccine: 'Tetanus'
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001/vaccine/Yellow Fever
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001/vaccine/Yellow%20Fever", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAvailableBatchesByVaccine(String, String)
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-5] INFO  c.i.i.controller.InventoryController - getAvailableBatchesByVaccine called - facilityId: FAC001, vaccineName: 'Yellow Fever'
2026-01-02 10:44:47 [http-nio-8080-exec-5] INFO  c.i.i.service.InventoryService - Finding available batches for facility: FAC001, vaccine: 'Yellow Fever' (decoded: 'Yellow Fever')
2026-01-02 10:44:47 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and lower(trim(BOTH from vb1_0.vaccine_name))=lower(trim(BOTH from ?)) 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001/vaccine/Meningitis
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001/vaccine/Meningitis", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAvailableBatchesByVaccine(String, String)
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-5] INFO  c.i.i.service.InventoryService - Found 0 available batches for vaccine: 'Yellow Fever' in facility: FAC001
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAvailableBatchesByVaccine(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:44:47 [http-nio-8080-exec-5] INFO  c.i.i.controller.InventoryController - Returning 0 batches for facility: FAC001, vaccine: 'Yellow Fever'
2026-01-02 10:44:47 [http-nio-8080-exec-3] INFO  c.i.i.controller.InventoryController - getAvailableBatchesByVaccine called - facilityId: FAC001, vaccineName: 'Meningitis'
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-3] INFO  c.i.i.service.InventoryService - Finding available batches for facility: FAC001, vaccine: 'Meningitis' (decoded: 'Meningitis')
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 10:44:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and lower(trim(BOTH from vb1_0.vaccine_name))=lower(trim(BOTH from ?)) 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:44:47 [http-nio-8080-exec-3] INFO  c.i.i.service.InventoryService - Found 0 available batches for vaccine: 'Meningitis' in facility: FAC001
2026-01-02 10:44:47 [http-nio-8080-exec-3] INFO  c.i.i.controller.InventoryController - Returning 0 batches for facility: FAC001, vaccine: 'Meningitis'
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:44:47 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/c9591ed2-5a1a-49a7-99e4-85a9615c3c2b
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/c9591ed2-5a1a-49a7-99e4-85a9615c3c2b", parameters={}
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientById(UUID)
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientById(java.util.UUID); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientById(java.util.UUID); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PatientResponse(id=c9591ed2-5a1a-49a7-99e4-85a9615c3c2b, fullName=Tom tam, dateOfBirth=2008-02-20, g (truncated)...]
2026-01-02 10:44:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:45:16 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:45:16 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:45:16 [http-nio-8080-exec-9] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:45:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:47:49 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:47:49 [http-nio-8080-exec-3] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:47:49 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:47:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:47:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:08 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:48:08 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:08 [http-nio-8080-exec-8] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:48:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:48:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:48:25 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:48:25 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:25 [http-nio-8080-exec-7] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:48:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:48:42 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:48:42 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:42 [http-nio-8080-exec-2] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:48:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:48:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:58 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:48:58 [http-nio-8080-exec-10] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:48:58 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:48:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:48:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:18 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:49:18 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:18 [http-nio-8080-exec-9] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:49:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:49:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:34 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:49:34 [http-nio-8080-exec-6] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:49:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:49:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:51 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:49:51 [http-nio-8080-exec-4] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:49:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:49:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:51:24 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 10:51:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-02 10:51:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-02 10:52:07 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication using Java 21.0.8 with PID 23812 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\classes started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2026-01-02 10:52:07 [restartedMain] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-02 10:52:07 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-02 10:52:07 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-02 10:52:07 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-02 10:52:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02 10:52:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 153 ms. Found 11 JPA repository interfaces.
2026-01-02 10:52:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-02 10:52:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-02 10:52:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-02 10:52:09 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-02 10:52:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1945 ms
2026-01-02 10:52:10 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-02 10:52:10 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7c9dc5cc
2026-01-02 10:52:10 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-02 10:52:10 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2026-01-02 10:52:10 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2026-01-02 10:52:10 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2026-01-02 10:52:10 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2026-01-02 10:52:10 [restartedMain] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2026-01-02 10:52:10 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 8
2026-01-02 10:52:10 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2026-01-02 10:52:10 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2026-01-02 10:52:10 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02 10:52:10 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2026-01-02 10:52:10 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-02 10:52:11 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02 10:52:11 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-02 10:52:12 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02 10:52:12 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 10:52:12 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-02 10:52:12 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-02 10:52:12 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-02 10:52:12 [restartedMain] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-02 10:52:12 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-02 10:52:13 [restartedMain] INFO  c.i.sms.service.SmsService - SMS Service initialized - Username configured: true, API Key configured: true, SMS Enabled: true
2026-01-02 10:52:14 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02 10:52:14 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2026-01-02 10:52:14 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-01-02 10:52:14 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-02 10:52:14 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4bf166d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c5624d4, org.springframework.security.web.context.SecurityContextHolderFilter@3f0a182c, org.springframework.security.web.header.HeaderWriterFilter@c225a31, org.springframework.web.filter.CorsFilter@1684efca, org.springframework.security.web.authentication.logout.LogoutFilter@7408ebaa, com.immunizationdb.auth.security.JwtAuthenticationFilter@59cc05c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1343f645, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34ed7b73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66c209a8, org.springframework.security.web.session.SessionManagementFilter@6598b066, org.springframework.security.web.access.ExceptionTranslationFilter@65bf7217, org.springframework.security.web.access.intercept.AuthorizationFilter@338bac65]
2026-01-02 10:52:15 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-02 10:52:15 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-02 10:52:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2026-01-02 10:52:15 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 8.001 seconds (process running for 8.393)
2026-01-02 10:52:15 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2026-01-02 10:52:15 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 10:52:15 [restartedMain] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 6 users
2026-01-02 10:52:15 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 10:52:15 [restartedMain] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2026-01-02 10:52:15 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2026-01-02 10:52:15 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2026-01-02 10:52:15 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2026-01-02 10:52:15 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 10:52:15 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2026-01-02 10:52:15 [restartedMain] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2026-01-02 10:52:22 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02 10:52:22 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-02 10:52:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-01-02 10:52:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-01-02 10:52:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-01-02 10:52:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b9511b5
2026-01-02 10:52:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@280d8e26
2026-01-02 10:52:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-02 10:52:22 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2026-01-02 10:52:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2026-01-02 10:52:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/vaccines
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/vaccines, Auth header present: true
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:23 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:23 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:23 [http-nio-8080-exec-4] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/vaccinations/facility/FAC001' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/vaccines
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/vaccines", parameters={}
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllVaccines()
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllVaccines(); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{code=BCG, maxDoses=1, name=BCG, id=bcg, isActive=true}, {code=OPV, maxDoses=4, name=OPV, id=opv, i (truncated)...]
2026-01-02 10:52:23 [http-nio-8080-exec-4] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:52:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/facility/staff
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users/facility/staff, Auth header present: true
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:26 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/facility/staff
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/facility/staff", parameters={}
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.UserController#getFacilityStaff(UserDetails)
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.facility_id=? 
        and not(u1_0.deleted) 
        and u1_0.active
2026-01-02 10:52:26 [http-nio-8080-exec-2] INFO  c.i.auth.controller.UserController - Retrieved 2 staff members for facility FAC001
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserResponse(id=1, username=health.worker, email=health.worker@immunization.com, fullName=Health Wo (truncated)...]
2026-01-02 10:52:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/stock?facility_id=FAC001
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring, Auth header present: true
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/stock, Auth header present: true
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:34 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 10:52:34 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring?days=30&facilityId=FAC001", parameters={masked}
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getExpiringBatches(String, int)
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 10:52:34 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/stock?facility_id=FAC001
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/stock?facility_id=FAC001", parameters={masked}
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.StockController#getStockLevels(String)
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 10:52:34 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 10:52:34 [http-nio-8080-exec-3] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30", parameters={masked}
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=33, batchNumber=OPV-2026-50, vaccineName=opv, manufacturer=DD, quantityRece (truncated)...]
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StockLevelResponse(vaccineId=bcg, vaccineName=bcg, currentQuantity=478, oldestExpiryDate=2026-01-31 (truncated)...]
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-8] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 10:52:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 10:52:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 10:52:35 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:52:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:35 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 10:52:35 [http-nio-8080-exec-10] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 10:52:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /appointments?facilityId=FAC001
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /appointments, Auth header present: true
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:37 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /appointments?facilityId=FAC001
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments?facilityId=FAC001", parameters={masked}
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.appointment.controller.AppointmentController#getAppointments(String, LocalDate, LocalDate, LocalDate, UUID)
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.appointment.controller.AppointmentController.getAppointments(java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.util.UUID); target is of class [com.immunizationdb.appointment.controller.AppointmentController]
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.appointment.controller.AppointmentController.getAppointments(java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.util.UUID); target is of class [com.immunizationdb.appointment.controller.AppointmentController]
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.appointment_date,
        a1_0.appointment_time,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.dose_number,
        a1_0.facility_id,
        a1_0.notes,
        a1_0.patient_id,
        a1_0.sms_sent,
        a1_0.sms_sent_at,
        a1_0.status,
        a1_0.updated_at,
        a1_0.vaccine_name 
    from
        appointments a1_0 
    where
        a1_0.facility_id=?
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 10:52:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 10:52:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponse(id=1ea0ec8c-cf8d-4d2b-b665-30af3f215eb1, patientId=c9591ed2-5a1a-49a7-99e4-85a9 (truncated)...]
2026-01-02 10:52:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 10:52:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/facility/staff
2026-01-02 10:52:43 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users/facility/staff, Auth header present: true
2026-01-02 10:52:43 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 10:52:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:44 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/facility/staff
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/facility/staff", parameters={}
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.UserController#getFacilityStaff(UserDetails)
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.facility_id=? 
        and not(u1_0.deleted) 
        and u1_0.active
2026-01-02 10:52:44 [http-nio-8080-exec-4] INFO  c.i.auth.controller.UserController - Retrieved 2 staff members for facility FAC001
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserResponse(id=1, username=health.worker, email=health.worker@immunization.com, fullName=Health Wo (truncated)...]
2026-01-02 10:52:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:02:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /users/facility/staff
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/facility/staff
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users/facility/staff, Auth header present: true
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:02:41 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/facility/staff
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/facility/staff", parameters={}
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.UserController#getFacilityStaff(UserDetails)
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.facility_id=? 
        and not(u1_0.deleted) 
        and u1_0.active
2026-01-02 11:02:41 [http-nio-8080-exec-8] INFO  c.i.auth.controller.UserController - Retrieved 2 staff members for facility FAC001
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserResponse(id=1, username=health.worker, email=health.worker@immunization.com, fullName=Health Wo (truncated)...]
2026-01-02 11:02:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:11:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 11:11:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-02 11:11:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-02 11:12:03 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication using Java 21.0.8 with PID 11108 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\classes started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2026-01-02 11:12:03 [restartedMain] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-02 11:12:03 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-02 11:12:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-02 11:12:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-02 11:12:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02 11:12:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 205 ms. Found 11 JPA repository interfaces.
2026-01-02 11:12:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-02 11:12:06 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-02 11:12:06 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-02 11:12:06 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-02 11:12:06 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2890 ms
2026-01-02 11:12:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-02 11:12:07 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@35e7b41d
2026-01-02 11:12:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-02 11:12:07 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2026-01-02 11:12:07 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2026-01-02 11:12:07 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2026-01-02 11:12:07 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2026-01-02 11:12:07 [restartedMain] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2026-01-02 11:12:07 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 8
2026-01-02 11:12:07 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2026-01-02 11:12:07 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2026-01-02 11:12:07 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02 11:12:07 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2026-01-02 11:12:07 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-02 11:12:07 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02 11:12:08 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-02 11:12:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02 11:12:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 11:12:09 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-02 11:12:10 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-02 11:12:10 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-02 11:12:10 [restartedMain] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-02 11:12:10 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-02 11:12:11 [restartedMain] INFO  c.i.sms.service.SmsService - SMS Service initialized - Username configured: true, API Key configured: true, SMS Enabled: true
2026-01-02 11:12:12 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02 11:12:12 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 71 mappings in 'requestMappingHandlerMapping'
2026-01-02 11:12:12 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-01-02 11:12:12 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-02 11:12:13 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@34ac8ad8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39b9e7b8, org.springframework.security.web.context.SecurityContextHolderFilter@751b6df, org.springframework.security.web.header.HeaderWriterFilter@e6b5239, org.springframework.web.filter.CorsFilter@1de6f905, org.springframework.security.web.authentication.logout.LogoutFilter@1cdc4513, com.immunizationdb.auth.security.JwtAuthenticationFilter@1baf84c0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@105526fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f00d0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@770feb38, org.springframework.security.web.session.SessionManagementFilter@71bec0f4, org.springframework.security.web.access.ExceptionTranslationFilter@240c69ff, org.springframework.security.web.access.intercept.AuthorizationFilter@4e100658]
2026-01-02 11:12:13 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-02 11:12:13 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-02 11:12:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2026-01-02 11:12:14 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 11.742 seconds (process running for 12.318)
2026-01-02 11:12:14 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2026-01-02 11:12:14 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 11:12:14 [restartedMain] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 6 users
2026-01-02 11:12:14 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 11:12:14 [restartedMain] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2026-01-02 11:12:14 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2026-01-02 11:12:14 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2026-01-02 11:12:14 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2026-01-02 11:12:14 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 11:12:14 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2026-01-02 11:12:14 [restartedMain] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2026-01-02 11:12:21 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02 11:12:21 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-02 11:12:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-01-02 11:12:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-01-02 11:12:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-01-02 11:12:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@353f403
2026-01-02 11:12:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@47ebf4f2
2026-01-02 11:12:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-02 11:12:21 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2026-01-02 11:12:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 11:12:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:12:21 [http-nio-8080-exec-3] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-01-02 11:12:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 11:12:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 11:12:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 11:12:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2026-01-02 11:12:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:23 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 11:12:23 [http-nio-8080-exec-3] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2026-01-02 11:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY3MzQ4NzQzLCJleHA (truncated)...]
2026-01-02 11:12:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /appointments?facilityId=FAC001&date=2026-01-02
2026-01-02 11:12:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/stock?facility_id=FAC001
2026-01-02 11:12:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /patients/search?facilityId=FAC001
2026-01-02 11:12:24 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /appointments, Auth header present: true
2026-01-02 11:12:24 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/stock, Auth header present: true
2026-01-02 11:12:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/search?facilityId=FAC001
2026-01-02 11:12:24 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/search, Auth header present: true
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2026-01-02 11:12:25 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2026-01-02 11:12:25 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2026-01-02 11:12:25 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/search?facilityId=FAC001
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /appointments?facilityId=FAC001&date=2026-01-02
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/stock?facility_id=FAC001
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/search?facilityId=FAC001", parameters={masked}
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments?facilityId=FAC001&date=2026-01-02", parameters={masked}
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/stock?facility_id=FAC001", parameters={masked}
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#searchPatients(String, String, String)
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.appointment.controller.AppointmentController#getAppointments(String, LocalDate, LocalDate, LocalDate, UUID)
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.StockController#getStockLevels(String)
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.searchPatients(java.lang.String,java.lang.String,java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.appointment.controller.AppointmentController.getAppointments(java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.util.UUID); target is of class [com.immunizationdb.appointment.controller.AppointmentController]
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.searchPatients(java.lang.String,java.lang.String,java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.appointment.controller.AppointmentController.getAppointments(java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.util.UUID); target is of class [com.immunizationdb.appointment.controller.AppointmentController]
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.appointment_date,
        a1_0.appointment_time,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.dose_number,
        a1_0.facility_id,
        a1_0.notes,
        a1_0.patient_id,
        a1_0.sms_sent,
        a1_0.sms_sent_at,
        a1_0.status,
        a1_0.updated_at,
        a1_0.vaccine_name 
    from
        appointments a1_0 
    where
        a1_0.facility_id=? 
        and a1_0.appointment_date=?
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false 
        and (
            lower(p1_0.full_name) like lower(('%'||?||'%')) escape '' 
            or lower(p1_0.guardian_name) like lower(('%'||?||'%')) escape '' 
            or p1_0.phone_number like ('%'||?||'%') escape ''
        )
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StockLevelResponse(vaccineId=bcg, vaccineName=bcg, currentQuantity=478, oldestExpiryDate=2026-01-31 (truncated)...]
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 11:12:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 11:12:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponse(id=e269b129-e2f4-4e2a-aa6a-31a64157c9e2, patientId=c9591ed2-5a1a-49a7-99e4-85a9 (truncated)...]
2026-01-02 11:12:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /patients/facility/FAC001
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2026-01-02 11:12:33 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 11:12:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/logout
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/logout
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /auth/logout, Auth header present: true
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2026-01-02 11:12:40 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/logout
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#logout(Authentication)
2026-01-02 11:12:40 [http-nio-8080-exec-9] INFO  c.i.auth.controller.AuthController - User health.worker logged out
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse[message=Logged out successfully]]
2026-01-02 11:12:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=facility.manager, password=Password123!)]
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 11:12:44 [http-nio-8080-exec-10] INFO  c.i.auth.service.AuthService - User facility.manager logged in successfully
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmYWNpbGl0eS5tYW5hZ2VyIiwiaWF0IjoxNzY3MzQ4NzY0LCJ (truncated)...]
2026-01-02 11:12:44 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/stock?facility_id=FAC001
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/stock, Auth header present: true
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring, Auth header present: true
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:12:45 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:12:45 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:45 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/stock?facility_id=FAC001
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/stock?facility_id=FAC001", parameters={masked}
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.StockController#getStockLevels(String)
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:45 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring?days=30&facilityId=FAC001", parameters={masked}
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getExpiringBatches(String, int)
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 11:12:45 [http-nio-8080-exec-8] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 11:12:45 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StockLevelResponse(vaccineId=bcg, vaccineName=bcg, currentQuantity=478, oldestExpiryDate=2026-01-31 (truncated)...]
2026-01-02 11:12:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:45 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30", parameters={masked}
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:45 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:45 [http-nio-8080-exec-4] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=33, batchNumber=OPV-2026-50, vaccineName=opv, manufacturer=DD, quantityRece (truncated)...]
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:45 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:12:45 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 11:12:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 11:12:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 11:12:46 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:12:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 11:12:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 11:12:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:46 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 11:12:46 [http-nio-8080-exec-5] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 11:12:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:13:43 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 11:13:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/facility/staff
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users/facility/staff, Auth header present: true
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:13:45 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/facility/staff
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/facility/staff", parameters={}
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.UserController#getFacilityStaff(UserDetails)
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.facility_id=? 
        and not(u1_0.deleted) 
        and u1_0.active
2026-01-02 11:13:45 [http-nio-8080-exec-9] INFO  c.i.auth.controller.UserController - Retrieved 2 staff members for facility FAC001
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserResponse(id=1, username=health.worker, email=health.worker@immunization.com, fullName=Health Wo (truncated)...]
2026-01-02 11:13:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:15:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /users
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /users
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users, Auth header present: true
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:15:31 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /users
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.UserController#createStaff(UserDetails, RegisterRequest)
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=gnies.healthW, password=Password123!, email=test@example.com, fullName=Gnie (truncated)...]
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.createStaff(org.springframework.security.core.userdetails.UserDetails,com.immunizationdb.auth.dto.RegisterRequest); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.createStaff(org.springframework.security.core.userdetails.UserDetails,com.immunizationdb.auth.dto.RegisterRequest); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2026-01-02 11:15:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-02 11:15:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (active, created_at, created_by, deleted, deleted_at, district_id, email, facility_id, failed_login_attempts, full_name, locked, national_id, password, role, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-02 11:15:32 [http-nio-8080-exec-5] INFO  c.i.auth.service.AuthService - New user registered: gnies.healthW
2026-01-02 11:15:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:15:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        created_by=?,
        deleted=?,
        deleted_at=?,
        district_id=?,
        email=?,
        facility_id=?,
        failed_login_attempts=?,
        full_name=?,
        locked=?,
        national_id=?,
        password=?,
        role=?,
        username=? 
    where
        id=?
2026-01-02 11:15:32 [http-nio-8080-exec-5] INFO  c.i.auth.controller.UserController - New staff member created: gnies.healthW
2026-01-02 11:15:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:15:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserResponse(id=12, username=gnies.healthW, email=test@example.com, fullName=Gniessi Papa, role=HEAL (truncated)...]
2026-01-02 11:15:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/facility/staff
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users/facility/staff, Auth header present: true
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:15:32 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/facility/staff
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/facility/staff", parameters={}
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.UserController#getFacilityStaff(UserDetails)
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.facility_id=? 
        and not(u1_0.deleted) 
        and u1_0.active
2026-01-02 11:15:32 [http-nio-8080-exec-6] INFO  c.i.auth.controller.UserController - Retrieved 3 staff members for facility FAC001
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserResponse(id=1, username=health.worker, email=health.worker@immunization.com, fullName=Health Wo (truncated)...]
2026-01-02 11:15:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/stock?facility_id=FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring, Auth header present: true
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/stock, Auth header present: true
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:14 [http-nio-8080-exec-1] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring?days=30&facilityId=FAC001", parameters={masked}
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getExpiringBatches(String, int)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=33, batchNumber=OPV-2026-50, vaccineName=opv, manufacturer=DD, quantityRece (truncated)...]
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/stock?facility_id=FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/stock?facility_id=FAC001", parameters={masked}
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.StockController#getStockLevels(String)
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StockLevelResponse(vaccineId=bcg, vaccineName=bcg, currentQuantity=478, oldestExpiryDate=2026-01-31 (truncated)...]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 11:16:14 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30", parameters={masked}
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 11:16:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /appointments?facilityId=FAC001
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /appointments?facilityId=FAC001
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /appointments, Auth header present: true
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:20 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /appointments?facilityId=FAC001
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments?facilityId=FAC001", parameters={masked}
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.appointment.controller.AppointmentController#getAppointments(String, LocalDate, LocalDate, LocalDate, UUID)
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.appointment.controller.AppointmentController.getAppointments(java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.util.UUID); target is of class [com.immunizationdb.appointment.controller.AppointmentController]
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.appointment.controller.AppointmentController.getAppointments(java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.util.UUID); target is of class [com.immunizationdb.appointment.controller.AppointmentController]
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.appointment_date,
        a1_0.appointment_time,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.dose_number,
        a1_0.facility_id,
        a1_0.notes,
        a1_0.patient_id,
        a1_0.sms_sent,
        a1_0.sms_sent_at,
        a1_0.status,
        a1_0.updated_at,
        a1_0.vaccine_name 
    from
        appointments a1_0 
    where
        a1_0.facility_id=?
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=?
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponse(id=1ea0ec8c-cf8d-4d2b-b665-30af3f215eb1, patientId=c9591ed2-5a1a-49a7-99e4-85a9 (truncated)...]
2026-01-02 11:16:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 11:16:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/stock?facility_id=FAC001
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:16:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 11:16:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 11:16:54 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/stock, Auth header present: true
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 11:16:54 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring, Auth header present: true
2026-01-02 11:16:54 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:54 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:54 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:54 [http-nio-8080-exec-9] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 11:16:54 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 11:16:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:54 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/stock?facility_id=FAC001
2026-01-02 11:16:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/stock?facility_id=FAC001", parameters={masked}
2026-01-02 11:16:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.StockController#getStockLevels(String)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StockLevelResponse(vaccineId=bcg, vaccineName=bcg, currentQuantity=478, oldestExpiryDate=2026-01-31 (truncated)...]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 11:16:55 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring?days=30&facilityId=FAC001", parameters={masked}
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getExpiringBatches(String, int)
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30", parameters={masked}
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 11:16:55 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=33, batchNumber=OPV-2026-50, vaccineName=opv, manufacturer=DD, quantityRece (truncated)...]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-2] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 11:16:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 11:16:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/logout
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /auth/logout, Auth header present: true
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:17:09 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/logout
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#logout(Authentication)
2026-01-02 11:17:09 [http-nio-8080-exec-8] INFO  c.i.auth.controller.AuthController - User facility.manager logged out
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse[message=Logged out successfully]]
2026-01-02 11:17:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=gov.official, password=Password123!)]
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 11:17:14 [http-nio-8080-exec-4] INFO  c.i.auth.service.AuthService - User gov.official logged in successfully
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJnb3Yub2ZmaWNpYWwiLCJpYXQiOjE3NjczNDkwMzQsImV4cCI (truncated)...]
2026-01-02 11:17:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users, Auth header present: true
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:15 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2026-01-02 11:17:15 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:17:15 CET 2026, status=405, error=Method Not Allowed, trace=org.springframe (truncated)...]
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 405
2026-01-02 11:17:15 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:17:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /facilities?activeOnly=true
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:15 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:17:15 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:17:15 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:17:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /sms-logs
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:15 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 11:17:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users, Auth header present: true
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:42 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2026-01-02 11:17:42 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:17:42 CET 2026, status=405, error=Method Not Allowed, trace=org.springframe (truncated)...]
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 405
2026-01-02 11:17:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:42 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:17:42 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:17:42 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:42 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 11:17:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users, Auth header present: true
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:52 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2026-01-02 11:17:52 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:17:52 CET 2026, status=405, error=Method Not Allowed, trace=org.springframe (truncated)...]
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 405
2026-01-02 11:17:52 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:52 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:17:52 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:17:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:52 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 11:17:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:18:34 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 11:18:34 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users, Auth header present: true
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:18:39 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2026-01-02 11:18:39 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:18:39 CET 2026, status=405, error=Method Not Allowed, trace=org.springframe (truncated)...]
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 405
2026-01-02 11:18:39 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:18:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:18:43 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 11:18:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:18:48 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 11:18:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:39:09 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 11:39:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-02 11:39:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-02 11:41:53 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication using Java 21.0.8 with PID 11604 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\classes started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2026-01-02 11:41:53 [restartedMain] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-02 11:41:53 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-02 11:41:53 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-02 11:41:53 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-02 11:41:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02 11:41:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 504 ms. Found 11 JPA repository interfaces.
2026-01-02 11:41:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-02 11:41:56 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-02 11:41:56 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-02 11:41:56 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-02 11:41:56 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2714 ms
2026-01-02 11:41:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-02 11:41:56 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@14982cbf
2026-01-02 11:41:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-02 11:41:56 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2026-01-02 11:41:56 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2026-01-02 11:41:56 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2026-01-02 11:41:56 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2026-01-02 11:41:56 [restartedMain] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2026-01-02 11:41:57 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 8
2026-01-02 11:41:57 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2026-01-02 11:41:57 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2026-01-02 11:41:57 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02 11:41:57 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2026-01-02 11:41:57 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-02 11:41:57 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02 11:41:57 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-02 11:41:58 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02 11:41:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 11:41:58 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-02 11:41:59 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-02 11:41:59 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-02 11:41:59 [restartedMain] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-02 11:41:59 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-02 11:42:00 [restartedMain] INFO  c.i.sms.service.SmsService - SMS Service initialized - Username configured: true, API Key configured: true, SMS Enabled: true
2026-01-02 11:42:00 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02 11:42:00 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 71 mappings in 'requestMappingHandlerMapping'
2026-01-02 11:42:01 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-01-02 11:42:01 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-02 11:42:01 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@654a84d9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3265e1c2, org.springframework.security.web.context.SecurityContextHolderFilter@5a462157, org.springframework.security.web.header.HeaderWriterFilter@12d7b961, org.springframework.web.filter.CorsFilter@3dc42060, org.springframework.security.web.authentication.logout.LogoutFilter@791cfede, com.immunizationdb.auth.security.JwtAuthenticationFilter@4d2b9142, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10735d33, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@132ed257, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3130ea, org.springframework.security.web.session.SessionManagementFilter@267308b6, org.springframework.security.web.access.ExceptionTranslationFilter@5ca7d9f9, org.springframework.security.web.access.intercept.AuthorizationFilter@5e4312c0]
2026-01-02 11:42:01 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-02 11:42:01 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-02 11:42:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2026-01-02 11:42:02 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 9.036 seconds (process running for 9.393)
2026-01-02 11:42:02 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2026-01-02 11:42:02 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 11:42:02 [restartedMain] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 7 users
2026-01-02 11:42:02 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 11:42:02 [restartedMain] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2026-01-02 11:42:02 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2026-01-02 11:42:02 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2026-01-02 11:42:02 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2026-01-02 11:42:02 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 11:42:02 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2026-01-02 11:42:02 [restartedMain] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2026-01-02 11:42:40 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02 11:42:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1915ed88
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@69f7c693
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-02 11:42:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:42:40 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:42:40 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/sms-logs' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 11:42:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:42:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2026-01-02 11:42:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 11:42:46 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:42:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 11:42:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 11:42:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 11:42:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=gov.official, password=Password123!)]
2026-01-02 11:42:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:42:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:42:47 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 11:42:47 [http-nio-8080-exec-2] INFO  c.i.auth.service.AuthService - User gov.official logged in successfully
2026-01-02 11:42:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:42:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJnb3Yub2ZmaWNpYWwiLCJpYXQiOjE3NjczNTA1NjcsImV4cCI (truncated)...]
2026-01-02 11:42:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:43:19 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:43:19 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:43:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:45:30 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:45:30 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:45:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:48:13 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:48:13 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:48:13 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:48:30 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:48:30 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:48:30 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:48:43 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:48:43 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:48:43 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:48:59 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:48:59 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:48:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:49:25 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:49:25 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:49:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:49:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 11:49:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-02 11:49:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-02 11:50:04 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication using Java 21.0.8 with PID 22876 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\classes started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2026-01-02 11:50:04 [restartedMain] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-02 11:50:04 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-02 11:50:04 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-02 11:50:04 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-02 11:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02 11:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 268 ms. Found 11 JPA repository interfaces.
2026-01-02 11:50:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-02 11:50:07 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-02 11:50:07 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-02 11:50:07 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-02 11:50:07 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2642 ms
2026-01-02 11:50:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-02 11:50:07 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71b97e80
2026-01-02 11:50:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-02 11:50:08 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2026-01-02 11:50:08 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2026-01-02 11:50:08 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2026-01-02 11:50:08 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2026-01-02 11:50:08 [restartedMain] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2026-01-02 11:50:08 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 8
2026-01-02 11:50:08 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2026-01-02 11:50:08 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2026-01-02 11:50:08 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02 11:50:08 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2026-01-02 11:50:08 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-02 11:50:08 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02 11:50:08 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-02 11:50:10 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02 11:50:10 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 11:50:10 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-02 11:50:11 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-02 11:50:11 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-02 11:50:11 [restartedMain] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-02 11:50:11 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-02 11:50:11 [restartedMain] INFO  c.i.sms.service.SmsService - SMS Service initialized - Username configured: true, API Key configured: true, SMS Enabled: true
2026-01-02 11:50:12 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02 11:50:12 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 71 mappings in 'requestMappingHandlerMapping'
2026-01-02 11:50:13 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-01-02 11:50:13 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-02 11:50:13 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e68b470, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cb07218, org.springframework.security.web.context.SecurityContextHolderFilter@1d00b931, org.springframework.security.web.header.HeaderWriterFilter@283007ce, org.springframework.web.filter.CorsFilter@1a2f7381, org.springframework.security.web.authentication.logout.LogoutFilter@33a01185, com.immunizationdb.auth.security.JwtAuthenticationFilter@1e951830, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2da380e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@758519c8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49664cb0, org.springframework.security.web.session.SessionManagementFilter@3647d063, org.springframework.security.web.access.ExceptionTranslationFilter@26ec06a1, org.springframework.security.web.access.intercept.AuthorizationFilter@66f3e3a]
2026-01-02 11:50:13 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-02 11:50:13 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-02 11:50:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2026-01-02 11:50:14 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 9.977 seconds (process running for 10.524)
2026-01-02 11:50:14 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2026-01-02 11:50:14 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 11:50:14 [restartedMain] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 7 users
2026-01-02 11:50:14 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 11:50:14 [restartedMain] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2026-01-02 11:50:14 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2026-01-02 11:50:14 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2026-01-02 11:50:14 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2026-01-02 11:50:14 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 11:50:14 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2026-01-02 11:50:14 [restartedMain] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2026-01-02 11:50:57 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02 11:50:57 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-02 11:50:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-01-02 11:50:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-01-02 11:50:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-01-02 11:50:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4f0bcad
2026-01-02 11:50:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5fdd7a3d
2026-01-02 11:50:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-02 11:50:57 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:50:58 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:50:58 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/facilities' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:50:58 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:50:58 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:52:17 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:52:17 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:52:17 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:52:19 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 11:52:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:52:21 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:52:21 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:52:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:54:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /v1/reports/national-stats
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:00 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:00 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:54:00 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:54:00 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 11:54:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:54:37 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:54:37 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:54:37 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:54:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 11:54:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:53 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:54:53 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:54:53 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:54 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 11:54:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:54:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 11:54:54 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 11:54:54 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:54:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:54:54 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:54 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 11:54:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 11:54:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 11:54:55 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:54:55 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 11:54:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 11:54:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:54:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 11:54:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:57 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:54:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:54:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:54:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:54:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:54:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:54:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:54:58 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:54:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:54:58 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:59 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:54:59 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:54:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:55:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:55:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 11:55:00 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 11:55:00 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:55:00 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:55:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:55:00 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:00 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:55:00 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:55:01 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:55:01 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:55:01 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 11:55:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:03 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:55:03 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:55:03 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:55:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 11:55:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:55:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 11:55:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:55:06 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 11:55:06 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:55:07 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:55:07 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:55:07 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:55:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 11:55:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:56:58 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:56:58 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:56:58 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:56:58 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 11:56:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:57:19 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:57:19 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:57:19 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:57:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 11:57:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:57:37 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 11:57:37 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 11:57:37 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 11:57:37 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 11:57:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:04:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:04:07 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:04:07 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:04:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:04:07 [http-nio-8080-exec-1] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:04:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:04:07 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:04:07 [http-nio-8080-exec-10] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:04:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:04:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:10:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 12:10:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 12:10:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 12:10:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 12:10:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 12:10:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=gov.official, password=Password123!)]
2026-01-02 12:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:10:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:10:04 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 12:10:04 [http-nio-8080-exec-2] INFO  c.i.auth.service.AuthService - User gov.official logged in successfully
2026-01-02 12:10:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:10:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJnb3Yub2ZmaWNpYWwiLCJpYXQiOjE3NjczNTIyMDQsImV4cCI (truncated)...]
2026-01-02 12:10:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:05 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:05 [http-nio-8080-exec-6] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:10:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:05 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:05 [http-nio-8080-exec-8] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:10:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:10:28 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:28 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:28 [http-nio-8080-exec-7] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:10:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:28 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:10:28 [http-nio-8080-exec-1] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:10:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:05 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 12:11:05 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 12:11:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 12:11:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:11:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:09 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:11:09 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:11:09 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:11:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:11:09 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:09 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:11:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:10 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:11:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:11:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:11 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:13 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:13 [http-nio-8080-exec-2] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:13 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:11:13 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:11:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:11:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:14 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:14 [http-nio-8080-exec-6] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:11:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:11:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:11:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:14 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:15 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:15 [http-nio-8080-exec-8] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:11:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:34 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:11:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:34 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:34 [http-nio-8080-exec-7] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:11:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:34 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:11:34 [http-nio-8080-exec-1] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:11:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:13:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:13:59 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:13:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:13:59 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:13:59 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:13:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:13:59 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:00 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:00 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:00 [http-nio-8080-exec-2] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:14:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:00 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:00 [http-nio-8080-exec-6] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:14:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:14:20 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:14:20 [http-nio-8080-exec-8] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:14:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:14:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:20 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:14:20 [http-nio-8080-exec-4] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:14:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:15:55 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:15:55 [http-nio-8080-exec-10] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:15:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:15:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:15:55 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:15:55 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:15:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:15:55 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:15:55 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:15:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:15:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:15:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:15:56 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:15:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:17:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /facilities?activeOnly=true
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:17:31 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 12:17:31 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 12:17:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /facilities?activeOnly=true
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /facilities, Auth header present: true
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:19:01 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /facilities?activeOnly=true
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/facilities?activeOnly=true", parameters={masked}
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource facilities.]
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?activeOnly=true
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?activeOnly=true
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?activeOnly=true", parameters={masked}
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Fri Jan 02 12:19:01 CET 2026, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2026-01-02 12:19:01 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:20:17 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:17 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:17 [http-nio-8080-exec-10] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:20:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:20:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:18 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:18 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:20:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:22 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:22 [http-nio-8080-exec-6] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:20:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:22 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:20:22 [http-nio-8080-exec-3] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:20:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:23:31 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:23:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:23:31 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:23:31 [http-nio-8080-exec-7] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:23:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:23:31 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:23:31 [http-nio-8080-exec-10] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:23:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:24:23 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:24:23 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:24:23 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:24:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:24:23 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:24:23 [http-nio-8080-exec-2] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:24:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:25:17 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:17 [http-nio-8080-exec-3] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:25:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:17 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:17 [http-nio-8080-exec-8] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:25:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:32 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:25:32 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:25:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:32 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:32 [http-nio-8080-exec-7] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:25:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:25:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:25:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:54 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:25:54 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:55 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:55 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:25:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:55 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:25:55 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:25:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:27:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:27:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:27:33 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:27:33 [http-nio-8080-exec-8] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:27:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:27:33 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:27:33 [http-nio-8080-exec-4] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:27:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:31:39 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:31:39 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:31:39 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:31:39 [http-nio-8080-exec-9] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:31:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:31:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:31:40 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:31:40 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:31:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:43:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2026-01-02 12:43:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 12:43:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 12:43:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 12:43:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 12:43:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 12:43:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=gov.official, password=Password123!)]
2026-01-02 12:43:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:43:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:43:04 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 12:43:04 [http-nio-8080-exec-3] INFO  c.i.auth.service.AuthService - User gov.official logged in successfully
2026-01-02 12:43:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:43:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJnb3Yub2ZmaWNpYWwiLCJpYXQiOjE3NjczNTQxODQsImV4cCI (truncated)...]
2026-01-02 12:43:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:43:05 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:43:05 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:43:05 [http-nio-8080-exec-4] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:43:05 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:43:05 [http-nio-8080-exec-4] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:43:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:43:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /campaigns/active
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:43:26 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 12:43:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:43:39 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 12:43:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:44:44 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 12:44:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:45:48 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 12:45:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:45:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /sms-logs
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:45:58 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 12:45:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:46:12 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 12:46:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:48:06 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 12:48:06 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:48:06 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 12:48:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:48:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:48:06 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 12:48:06 [http-nio-8080-exec-6] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 12:48:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:07:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /v1/reports/national-stats
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:07:52 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:07:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:07:52 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:07:52 [http-nio-8080-exec-7] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:07:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:07:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:07:52 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:07:52 [http-nio-8080-exec-10] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:07:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:17:05 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 13:17:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-02 13:17:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-02 13:17:30 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication using Java 21.0.8 with PID 17952 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\classes started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2026-01-02 13:17:30 [restartedMain] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-02 13:17:30 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-02 13:17:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-02 13:17:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-02 13:17:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02 13:17:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 300 ms. Found 11 JPA repository interfaces.
2026-01-02 13:17:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-02 13:17:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-02 13:17:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-02 13:17:35 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2026-01-02 13:17:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5289 ms
2026-01-02 13:17:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-02 13:17:36 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9e538bf
2026-01-02 13:17:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-02 13:17:36 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2026-01-02 13:17:36 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2026-01-02 13:17:36 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2026-01-02 13:17:36 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2026-01-02 13:17:36 [restartedMain] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2026-01-02 13:17:36 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 8
2026-01-02 13:17:36 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2026-01-02 13:17:36 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2026-01-02 13:17:37 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02 13:17:37 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2026-01-02 13:17:37 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-02 13:17:38 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02 13:17:38 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-02 13:17:40 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02 13:17:40 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 13:17:41 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-02 13:17:42 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-02 13:17:42 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-02 13:17:42 [restartedMain] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-02 13:17:42 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-02 13:17:43 [restartedMain] INFO  c.i.sms.service.SmsService - SMS Service initialized - Username configured: true, API Key configured: true, SMS Enabled: true
2026-01-02 13:17:44 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02 13:17:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 71 mappings in 'requestMappingHandlerMapping'
2026-01-02 13:17:45 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-01-02 13:17:45 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-02 13:17:45 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d9a0706, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c231333, org.springframework.security.web.context.SecurityContextHolderFilter@34ea9ffb, org.springframework.security.web.header.HeaderWriterFilter@6206afb4, org.springframework.web.filter.CorsFilter@5b3ab10a, org.springframework.security.web.authentication.logout.LogoutFilter@6720599b, com.immunizationdb.auth.security.JwtAuthenticationFilter@27d54e9b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@733281c8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2dab2baf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f594cb5, org.springframework.security.web.session.SessionManagementFilter@2eba587e, org.springframework.security.web.access.ExceptionTranslationFilter@2673ecf7, org.springframework.security.web.access.intercept.AuthorizationFilter@2093a69]
2026-01-02 13:17:46 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-02 13:17:46 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-02 13:17:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2026-01-02 13:17:47 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 17.949 seconds (process running for 18.664)
2026-01-02 13:17:47 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2026-01-02 13:17:47 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 13:17:47 [restartedMain] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 7 users
2026-01-02 13:17:47 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 13:17:47 [restartedMain] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2026-01-02 13:17:47 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2026-01-02 13:17:47 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2026-01-02 13:17:47 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2026-01-02 13:17:47 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2026-01-02 13:17:47 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2026-01-02 13:17:47 [restartedMain] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2026-01-02 13:18:06 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02 13:18:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@650412f0
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1272426d
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-02 13:18:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 17 ms
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 13:18:06 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=gov.official, password=Password123!)]
2026-01-02 13:18:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:18:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:18:08 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 13:18:09 [http-nio-8080-exec-1] INFO  c.i.auth.service.AuthService - User gov.official logged in successfully
2026-01-02 13:18:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:18:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJnb3Yub2ZmaWNpYWwiLCJpYXQiOjE3NjczNTYyODksImV4cCI (truncated)...]
2026-01-02 13:18:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:18:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:18:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:18:09 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:18:10 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:18:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:18:10 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:18:10 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:18:10 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:18:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:18:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:18:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:18:10 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:18:10 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:18:10 [http-nio-8080-exec-3] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:18:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:18:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:18:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:18:11 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:18:12 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:18:12 [http-nio-8080-exec-2] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:18:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:18:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 13:18:37 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 13:18:37 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:18:38 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 13:18:38 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:18:53 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 13:18:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/logout
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/logout
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /auth/logout, Auth header present: true
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:21:14 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/logout
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#logout(Authentication)
2026-01-02 13:21:14 [http-nio-8080-exec-9] INFO  c.i.auth.controller.AuthController - User gov.official logged out
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse[message=Logged out successfully]]
2026-01-02 13:21:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 13:21:19 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 13:21:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 13:21:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 13:21:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 13:21:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=facility.manager, password=Password123!)]
2026-01-02 13:21:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:19 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:20 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 13:21:20 [http-nio-8080-exec-10] INFO  c.i.auth.service.AuthService - User facility.manager logged in successfully
2026-01-02 13:21:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmYWNpbGl0eS5tYW5hZ2VyIiwiaWF0IjoxNzY3MzU2NDgwLCJ (truncated)...]
2026-01-02 13:21:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /patients/facility/FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /v1/stock?facility_id=FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/stock?facility_id=FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/stock, Auth header present: true
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring, Auth header present: true
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:21 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 13:21:21 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/stock?facility_id=FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/stock?facility_id=FAC001", parameters={masked}
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.StockController#getStockLevels(String)
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:21:21 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring?days=30&facilityId=FAC001", parameters={masked}
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StockLevelResponse(vaccineId=bcg, vaccineName=bcg, currentQuantity=478, oldestExpiryDate=2026-01-31 (truncated)...]
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getExpiringBatches(String, int)
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 13:21:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 13:21:21 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30", parameters={masked}
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 13:21:21 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=33, batchNumber=OPV-2026-50, vaccineName=opv, manufacturer=DD, quantityRece (truncated)...]
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:21 [http-nio-8080-exec-6] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 13:21:21 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 13:21:21 [http-nio-8080-exec-7] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 13:21:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:22 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 13:21:22 [http-nio-8080-exec-10] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 13:21:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 13:21:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 13:21:28 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 13:21:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/stock?facility_id=FAC001
2026-01-02 13:21:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 13:21:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 13:21:28 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 13:21:28 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring, Auth header present: true
2026-01-02 13:21:28 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/stock, Auth header present: true
2026-01-02 13:21:28 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 13:21:28 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:28 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:28 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:28 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 13:21:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 13:21:28 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:28 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 13:21:28 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 13:21:29 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 13:21:29 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring?days=30&facilityId=FAC001
2026-01-02 13:21:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring?days=30&facilityId=FAC001", parameters={masked}
2026-01-02 13:21:29 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getExpiringBatches(String, int)
2026-01-02 13:21:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/stock?facility_id=FAC001
2026-01-02 13:21:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/stock?facility_id=FAC001", parameters={masked}
2026-01-02 13:21:29 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 13:21:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.StockController#getStockLevels(String)
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:29 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 13:21:29 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getExpiringBatches(java.lang.String,int); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2026-01-02 13:21:29 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.StockController.getStockLevels(java.lang.String); target is of class [com.immunizationdb.inventory.controller.StockController]
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2026-01-02 13:21:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:21:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=33, batchNumber=OPV-2026-50, vaccineName=opv, manufacturer=DD, quantityRece (truncated)...]
2026-01-02 13:21:29 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StockLevelResponse(vaccineId=bcg, vaccineName=bcg, currentQuantity=478, oldestExpiryDate=2026-01-31 (truncated)...]
2026-01-02 13:21:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:29 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:29 [http-nio-8080-exec-5] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-31&endDate=2026-12-30", parameters={masked}
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:29 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 13:21:29 [http-nio-8080-exec-8] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=af901eef-9855-4870-87f3-dc14ff8e2e3d, fullName=Baby John Doe, dateOfBirth=2024-1 (truncated)...]
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /users/facility/staff
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/facility/staff
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users/facility/staff, Auth header present: true
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/facility/staff
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/facility/staff", parameters={}
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.UserController#getFacilityStaff(UserDetails)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.auth.controller.UserController.getFacilityStaff(org.springframework.security.core.userdetails.UserDetails); target is of class [com.immunizationdb.auth.controller.UserController]
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.facility_id=? 
        and not(u1_0.deleted) 
        and u1_0.active
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 13:21:42 [http-nio-8080-exec-6] INFO  c.i.auth.controller.UserController - Retrieved 3 staff members for facility FAC001
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserResponse(id=1, username=health.worker, email=health.worker@immunization.com, fullName=Health Wo (truncated)...]
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 13:21:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:42 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001?startDate=2025-12-28&endDate=2026-01-02", parameters={masked}
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2026-01-02 13:21:42 [http-nio-8080-exec-7] INFO  c.i.v.service.VaccinationService - Found 32 vaccinations for facility: FAC001
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.id=?
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.has_severe_adverse_events,
        p1_0.national_id,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.id=? 
        and not(p1_0.deleted)
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=af901eef-9855-4870-87f3-dc14ff8e2e3d, patientName=Baby John Doe (truncated)...]
2026-01-02 13:21:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/logout
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /auth/logout, Auth header present: true
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: facility.manager
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: facility.manager, authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:58 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User facility.manager authenticated successfully with authorities: [ROLE_FACILITY_MANAGER]
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/logout
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#logout(Authentication)
2026-01-02 13:21:58 [http-nio-8080-exec-10] INFO  c.i.auth.controller.AuthController - User facility.manager logged out
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse[message=Logged out successfully]]
2026-01-02 13:21:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:22:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 13:22:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 13:22:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 13:22:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 13:22:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 13:22:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=gov.official, password=Password123!)]
2026-01-02 13:22:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:22:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:22:04 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 13:22:04 [http-nio-8080-exec-1] INFO  c.i.auth.service.AuthService - User gov.official logged in successfully
2026-01-02 13:22:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:22:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJnb3Yub2ZmaWNpYWwiLCJpYXQiOjE3NjczNTY1MjQsImV4cCI (truncated)...]
2026-01-02 13:22:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:06 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:22:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:06 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:06 [http-nio-8080-exec-2] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:22:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:06 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:06 [http-nio-8080-exec-3] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:22:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:22 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:22:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:22 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:22 [http-nio-8080-exec-6] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:22:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:22 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:22:22 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:22:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:22 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:23:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:22 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:22 [http-nio-8080-exec-2] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:23:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:22 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:22 [http-nio-8080-exec-3] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:23:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:40 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:23:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:40 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:40 [http-nio-8080-exec-6] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:23:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:40 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:23:40 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:23:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:24:29 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:24:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:24:29 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:24:29 [http-nio-8080-exec-1] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:24:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:24:29 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:24:29 [http-nio-8080-exec-4] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:24:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:28:04 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:28:04 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:28:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:28:04 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:28:04 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:28:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:28:49 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 13:28:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:28:58 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 13:28:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:35:41 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:41 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:35:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:35:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:35:41 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:42 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:42 [http-nio-8080-exec-2] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:35:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:57 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:35:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:57 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:57 [http-nio-8080-exec-6] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:35:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:57 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:35:57 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:35:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:15 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:36:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:15 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:15 [http-nio-8080-exec-7] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:36:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:15 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:15 [http-nio-8080-exec-8] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:36:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:56 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:36:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:56 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:56 [http-nio-8080-exec-4] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:36:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:56 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:36:56 [http-nio-8080-exec-3] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:36:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:37:16 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 13:37:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:37:16 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:37:16 [http-nio-8080-exec-9] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:37:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:37:16 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 13:37:16 [http-nio-8080-exec-6] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 13:37:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:42:22 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 13:42:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:42:35 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 13:42:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:29:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2026-01-02 14:29:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 14:29:26 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 14:29:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 14:29:26 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 14:29:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 14:29:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=gov.official, password=Password123!)]
2026-01-02 14:29:26 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:29:26 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 14:29:27 [http-nio-8080-exec-3] INFO  c.i.auth.service.AuthService - User gov.official logged in successfully
2026-01-02 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJnb3Yub2ZmaWNpYWwiLCJpYXQiOjE3NjczNjA1NjcsImV4cCI (truncated)...]
2026-01-02 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:29:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /v1/reports/national-stats
2026-01-02 14:29:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 14:29:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 14:29:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 14:29:28 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 14:29:28 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:29:29 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 14:29:29 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:29:29 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 14:29:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:29:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:29:29 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:29:29 [http-nio-8080-exec-10] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:29:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:29:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 14:29:30 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:29:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /campaigns/active
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:29:47 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 14:29:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:29:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /sms-logs
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:29:55 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 14:29:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:33:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sms-logs
2026-01-02 14:33:40 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sms-logs, Auth header present: true
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:33:41 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sms-logs
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sms-logs", parameters={}
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.sms.controller.SmsLogController#getSmsLogs(LocalDateTime, LocalDateTime, String, String)
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.sms.controller.SmsLogController.getSmsLogs(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String,java.lang.String); target is of class [com.immunizationdb.sms.controller.SmsLogController]
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.appointment_id,
        sl1_0.created_at,
        sl1_0.error_message,
        sl1_0.message,
        sl1_0.patient_id,
        sl1_0.recipient_phone,
        sl1_0.sent_at,
        sl1_0.status 
    from
        sms_logs sl1_0
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SmsLogResponse(id=1, recipientPhone=+237699226444, message=Appointment Rescheduled: Bring Tom tam f (truncated)...]
2026-01-02 14:33:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:33:43 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 14:33:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:33:43 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 14:33:43 [http-nio-8080-exec-10] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 14:33:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:33:57 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 14:33:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 14:35:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /campaigns
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /campaigns
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns, Auth header present: true
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:35:40 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /campaigns
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/campaigns", parameters={}
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#createCampaign(CreateCampaignRequest)
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCampaignRequest(name=agid, description=for you and me, vaccineName=hio, targetAgeGroup=6, star (truncated)...]
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.createCampaign(com.immunizationdb.campaign.dto.CreateCampaignRequest); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 14:35:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.createCampaign(com.immunizationdb.campaign.dto.CreateCampaignRequest); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 14:35:41 [http-nio-8080-exec-3] INFO  c.i.campaign.service.CampaignService - Creating new campaign: agid
2026-01-02 14:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        campaigns
        (created_at, created_by, description, district_id, end_date, facility_id, name, national_id, start_date, status, target_age_group, target_population, updated_at, vaccinated_count, vaccine_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-02 14:35:41 [http-nio-8080-exec-3] INFO  c.i.campaign.service.CampaignService - Campaign created successfully with ID: 8
2026-01-02 14:35:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:35:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CampaignResponse(id=8, name=agid, description=for you and me, vaccineName=hio, targetAgeGroup=6, sta (truncated)...]
2026-01-02 14:35:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:35:41 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-02 14:35:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 15:01:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-02 15:01:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-02 15:01:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-02 15:01:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-02 15:01:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2026-01-02 15:01:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=gov.official, password=Password123!)]
2026-01-02 15:01:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 15:01:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 15:01:26 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-02 15:01:26 [http-nio-8080-exec-6] INFO  c.i.auth.service.AuthService - User gov.official logged in successfully
2026-01-02 15:01:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 15:01:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJnb3Yub2ZmaWNpYWwiLCJpYXQiOjE3NjczNjI0ODYsImV4cCI (truncated)...]
2026-01-02 15:01:26 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 15:01:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/national-stats
2026-01-02 15:01:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 15:01:27 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/national-stats, Auth header present: true
2026-01-02 15:01:27 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 15:01:27 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 15:01:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 15:01:27 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 15:01:27 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 15:01:28 [http-nio-8080-exec-10] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/national-stats
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/national-stats", parameters={}
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2026-01-02 15:01:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=6268, totalPa (truncated)...]
2026-01-02 15:01:28 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /v1/reports/coverage, Auth header present: true
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 15:01:28 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/reports/coverage?facility_id=&start_date=2025-07-02&end_date=2026-01-02", parameters={masked}
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getCoverageReport(String, String, LocalDate, LocalDate, LocalDate, LocalDate)
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getCoverageReport(java.lang.String,java.lang.String,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2026-01-02 15:01:28 [http-nio-8080-exec-7] INFO  c.i.r.service.ReportingService - Generating coverage report for facility: , from 2025-07-02 to 2026-01-02
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.administration_site,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CoverageReportResponse(totalPatientsRegistered=20, vaccinationsByVaccineType=[CoverageReportResponse (truncated)...]
2026-01-02 15:01:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-01-02 15:24:56 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m57s418ms277s200ns).
2026-01-02 15:30:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02 15:30:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-02 15:30:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
