2025-12-13 00:03:05 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 28744 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 00:03:05 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 00:03:05 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 00:03:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 00:03:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 199 ms. Found 7 JPA repository interfaces.
2025-12-13 00:03:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 00:03:15 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 00:03:15 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 00:03:15 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 00:03:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9142 ms
2025-12-13 00:03:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 00:03:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7254838
2025-12-13 00:03:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 00:03:18 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 00:03:18 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 00:03:18 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 00:03:18 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 00:03:19 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 00:03:19 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.124s)
2025-12-13 00:03:19 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 00:03:19 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 00:03:19 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 00:03:19 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 00:03:19 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 00:03:19 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 00:03:19 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 00:03:20 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 00:03:20 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 00:03:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 00:03:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 00:03:25 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 00:03:27 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 00:03:27 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 00:03:27 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 00:03:27 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 00:03:32 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 00:03:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 00:03:34 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 00:03:35 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 00:03:35 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77aa566a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ec2caf2, org.springframework.security.web.context.SecurityContextHolderFilter@6bd4b701, org.springframework.security.web.header.HeaderWriterFilter@60264331, org.springframework.web.filter.CorsFilter@2d30d676, org.springframework.security.web.authentication.logout.LogoutFilter@4da1d61b, com.immunizationdb.auth.security.JwtAuthenticationFilter@3c9e82a6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@394c61cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44572f11, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20ba2011, org.springframework.security.web.session.SessionManagementFilter@7974c44c, org.springframework.security.web.access.ExceptionTranslationFilter@4fbfc86f, org.springframework.security.web.access.intercept.AuthorizationFilter@4cf9fa3d]
2025-12-13 00:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 00:03:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 00:03:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 00:03:37 [main] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 34.731 seconds (process running for 35.972)
2025-12-13 00:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 00:03:38 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 00:03:38 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 00:03:38 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 00:03:38 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 00:03:38 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 00:03:38 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 00:03:38 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 00:03:38 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 00:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 00:03:38 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 00:05:57 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 35096 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 00:05:57 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 00:05:57 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 00:06:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 00:06:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 613 ms. Found 7 JPA repository interfaces.
2025-12-13 00:06:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 00:06:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 00:06:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 00:06:08 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 00:06:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 10847 ms
2025-12-13 00:06:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 00:06:13 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6eaa6b0c
2025-12-13 00:06:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 00:06:15 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 00:06:15 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 00:06:15 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 00:06:15 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 00:06:15 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 00:06:15 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.167s)
2025-12-13 00:06:15 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 00:06:15 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 00:06:15 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 00:06:15 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 00:06:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 00:06:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 00:06:19 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 00:06:20 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 00:06:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 00:06:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 00:06:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 00:06:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 00:06:30 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 00:06:30 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 00:06:31 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 00:06:31 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 00:06:36 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 00:06:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 00:06:39 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 00:06:40 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 00:06:40 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-13 00:06:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-13 00:06:40 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@368352c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4af25503, org.springframework.security.web.context.SecurityContextHolderFilter@45330a89, org.springframework.security.web.header.HeaderWriterFilter@66d43e76, org.springframework.web.filter.CorsFilter@5a25ebfc, org.springframework.security.web.authentication.logout.LogoutFilter@46883090, com.immunizationdb.auth.security.JwtAuthenticationFilter@4ff1f872, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2346dfad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5162bede, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65035a5a, org.springframework.security.web.session.SessionManagementFilter@2296c3d4, org.springframework.security.web.access.ExceptionTranslationFilter@74cc9493, org.springframework.security.web.access.intercept.AuthorizationFilter@5352625]
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5c21f602
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@247b949c
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-13 00:06:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 73 ms
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:06:40 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 00:06:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 00:06:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 00:06:41 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 00:06:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 00:06:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:06:43 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-13 00:06:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 00:06:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-13 00:06:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-13 00:06:43 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-13 00:06:43 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-12-13 00:06:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:06:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 00:06:44 [http-nio-8080-exec-1] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 00:06:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-13 00:06:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTgwODA0LCJleHA (truncated)...]
2025-12-13 00:06:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:06:45 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:06:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 00:17:51 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m2s711ms272µs100ns).
2025-12-13 00:31:21 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=10m29s815ms671µs600ns).
2025-12-13 00:36:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 00:36:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 00:36:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:36:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 00:36:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 00:36:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 00:36:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 00:36:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:36:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:36:57 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 00:36:57 [http-nio-8080-exec-5] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 00:36:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 00:36:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTgyNjE3LCJleHA (truncated)...]
2025-12-13 00:36:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:36:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /reports/dashboard/FAC001
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches/expiring-soon/FAC001
2025-12-13 00:36:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 00:36:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 00:36:57 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 00:36:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 00:36:57 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:36:57 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:36:57 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:36:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:36:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:36:57 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:36:57 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:36:57 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:36:57 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:36:57 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:36:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 00:36:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 00:36:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 00:36:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 00:36:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 00:36:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:36:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 00:36:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 00:36:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 00:36:58 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 00:36:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 00:36:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 00:36:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 00:36:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 00:36:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 00:36:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 00:36:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:36:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 00:36:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 00:36:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 00:36:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 00:36:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 00:36:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:38:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 00:38:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:38:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 00:38:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 00:38:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 00:38:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 00:38:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:38:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:38:43 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 00:38:43 [http-nio-8080-exec-4] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 00:38:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 00:38:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTgyNzIzLCJleHA (truncated)...]
2025-12-13 00:38:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:38:43 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:38:43 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:38:43 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:38:43 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 00:38:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 00:38:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 00:39:15 [http-nio-8080-exec-7] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTgyNzU1LCJleHA (truncated)...]
2025-12-13 00:39:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 00:42:18 [http-nio-8080-exec-1] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTgyOTM4LCJleHA (truncated)...]
2025-12-13 00:42:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:42:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:42:19 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:42:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 00:45:34 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 7996 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 00:45:34 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 00:45:34 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 00:45:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 00:45:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 397 ms. Found 7 JPA repository interfaces.
2025-12-13 00:45:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 00:45:49 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 00:45:49 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 00:45:50 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 00:45:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 15132 ms
2025-12-13 00:45:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 00:45:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6aa6c17
2025-12-13 00:45:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 00:45:55 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 00:45:55 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 00:45:55 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 00:45:55 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 00:45:56 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 00:45:56 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.147s)
2025-12-13 00:45:56 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 00:45:56 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 00:45:56 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 00:45:56 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 00:45:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 00:45:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 00:45:58 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 00:45:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 00:45:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 00:46:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 00:46:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 00:46:07 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 00:46:09 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 00:46:09 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 00:46:09 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 00:46:09 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 00:46:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 00:46:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 00:46:17 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 00:46:19 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 00:46:20 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4621d245, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7add9679, org.springframework.security.web.context.SecurityContextHolderFilter@67a6faf2, org.springframework.security.web.header.HeaderWriterFilter@db85c26, org.springframework.web.filter.CorsFilter@5edd76b8, org.springframework.security.web.authentication.logout.LogoutFilter@7974c44c, com.immunizationdb.auth.security.JwtAuthenticationFilter@5ac3c6cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3995edf5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7751cdf5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2296c3d4, org.springframework.security.web.session.SessionManagementFilter@71e55649, org.springframework.security.web.access.ExceptionTranslationFilter@19932a6a, org.springframework.security.web.access.intercept.AuthorizationFilter@6b678524]
2025-12-13 00:46:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 00:46:20 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 00:46:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 00:46:24 [main] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 56.205 seconds (process running for 61.005)
2025-12-13 00:46:25 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 00:46:25 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 00:46:25 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 00:46:25 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 00:46:25 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 00:46:25 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 00:46:25 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 00:46:25 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 00:46:25 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 00:46:25 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 00:46:25 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 00:46:44 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-13 00:46:44 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@acfadee
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@76419338
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-13 00:46:44 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 17 ms
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:46:44 [http-nio-8080-exec-2] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 00:46:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 00:46:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 00:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:46:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:46:49 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 00:46:49 [http-nio-8080-exec-2] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 00:46:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 00:46:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTgzMjA5LCJleHA (truncated)...]
2025-12-13 00:46:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:46:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:46:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 00:46:50 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 00:46:50 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 00:46:50 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:46:50 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:46:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:46:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:46:50 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:46:50 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:46:50 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:46:50 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:46:50 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:46:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:46:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 00:46:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 00:46:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 00:46:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 00:46:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 00:46:50 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 00:46:50 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 00:46:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 00:46:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:46:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 00:46:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 00:46:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 00:46:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 00:46:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 00:46:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 00:46:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 00:46:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 00:46:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:46:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 00:46:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 00:46:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 00:46:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 00:46:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 00:46:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:48:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 00:48:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:48:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 00:48:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 00:48:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 00:48:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 00:48:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:48:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:48:49 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 00:48:49 [http-nio-8080-exec-8] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 00:48:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-13 00:48:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTgzMzI5LCJleHA (truncated)...]
2025-12-13 00:48:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:48:49 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:48:49 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 00:48:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 00:48:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:48:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 00:48:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 00:48:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 00:48:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 00:48:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:48:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:48:58 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 00:48:58 [http-nio-8080-exec-3] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 00:48:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-13 00:48:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTgzMzM4LCJleHA (truncated)...]
2025-12-13 00:48:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:48:58 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:48:58 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 00:49:43 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 36320 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 00:49:43 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 00:49:43 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 00:49:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 00:50:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1227 ms. Found 7 JPA repository interfaces.
2025-12-13 00:50:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 00:50:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 00:50:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 00:50:25 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 00:50:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 41041 ms
2025-12-13 00:50:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 00:50:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@13234ac9
2025-12-13 00:50:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 00:50:31 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 00:50:31 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 00:50:31 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 00:50:31 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 00:50:31 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 00:50:32 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.169s)
2025-12-13 00:50:32 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 00:50:32 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 00:50:32 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 00:50:32 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 00:50:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 00:50:33 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 00:50:33 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 00:50:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 00:50:35 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 00:50:41 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 00:50:41 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 00:50:51 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 00:50:54 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 00:50:54 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 00:50:55 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 00:50:55 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 00:51:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 00:51:05 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 00:51:06 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 00:51:07 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 00:51:07 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20976bee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23e1dd4a, org.springframework.security.web.context.SecurityContextHolderFilter@1230a38d, org.springframework.security.web.header.HeaderWriterFilter@1545b9da, org.springframework.web.filter.CorsFilter@2d3b13b8, org.springframework.security.web.authentication.logout.LogoutFilter@e0c6e2c, com.immunizationdb.auth.security.JwtAuthenticationFilter@3c9e82a6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6db96289, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f9d27b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54a1997b, org.springframework.security.web.session.SessionManagementFilter@342b545a, org.springframework.security.web.access.ExceptionTranslationFilter@618ffc7a, org.springframework.security.web.access.intercept.AuthorizationFilter@65035a5a]
2025-12-13 00:51:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 00:51:08 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 00:51:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 00:51:10 [main] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 89.988 seconds (process running for 109.213)
2025-12-13 00:51:11 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 00:51:11 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 00:51:11 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 00:51:11 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 00:51:11 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 00:51:11 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 00:51:11 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 00:51:11 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 00:51:11 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 00:51:11 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 00:51:11 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 00:51:30 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-13 00:51:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-13 00:51:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-13 00:51:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-13 00:51:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-13 00:51:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1a0108a5
2025-12-13 00:51:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@16335685
2025-12-13 00:51:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-13 00:51:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 126 ms
2025-12-13 00:51:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 00:51:31 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:51:31 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-12-13 00:51:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 00:51:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 00:51:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 00:51:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 00:51:35 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:51:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:51:37 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 00:51:38 [http-nio-8080-exec-1] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 00:51:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-13 00:51:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTgzNDk3LCJleHA (truncated)...]
2025-12-13 00:51:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:51:38 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:51:38 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 00:51:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 00:51:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:51:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 00:51:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 00:51:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 00:51:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 00:51:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:51:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:51:52 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 00:51:52 [http-nio-8080-exec-5] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 00:51:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-13 00:51:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTgzNTEyLCJleHA (truncated)...]
2025-12-13 00:51:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:51:52 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 00:51:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 03:01:15 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=19m12s265ms295µs).
2025-12-13 04:58:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 04:58:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 04:58:04 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 04:58:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 04:58:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 04:58:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 04:58:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 04:58:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 04:58:05 [http-nio-8080-exec-4] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 04:58:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTk4Mjg1LCJleHA (truncated)...]
2025-12-13 04:58:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /reports/dashboard/FAC001
2025-12-13 04:58:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches/expiring-soon/FAC001
2025-12-13 04:58:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:58:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 04:58:05 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 04:58:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 04:58:05 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:05 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:05 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:05 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:05 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:05 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:05 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:05 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 04:58:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 04:58:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 04:58:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:58:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 04:58:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 04:58:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 04:58:05 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 04:58:05 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 04:58:06 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 04:58:06 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 04:58:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 04:58:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 04:58:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 04:58:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 04:58:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 04:58:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 04:58:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 04:58:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 04:58:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 04:58:18 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 04:58:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 04:58:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 04:58:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 04:58:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 04:58:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:21 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 04:58:21 [http-nio-8080-exec-2] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 04:58:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTk4MzAxLCJleHA (truncated)...]
2025-12-13 04:58:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 04:58:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:58:21 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 04:58:21 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 04:58:21 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 04:58:21 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:21 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:21 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:21 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 04:58:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 04:58:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 04:58:22 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:22 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 04:58:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:58:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 04:58:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 04:58:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 04:58:22 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 04:58:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 04:58:22 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 04:58:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 04:58:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 04:58:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 04:58:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 04:58:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 04:58:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 04:58:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 04:58:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 04:58:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 04:58:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 04:58:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 04:58:31 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 04:58:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 04:58:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 04:58:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 04:58:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 04:58:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:32 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 04:58:32 [http-nio-8080-exec-4] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 04:58:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTk4MzEyLCJleHA (truncated)...]
2025-12-13 04:58:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:32 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:32 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:32 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 04:58:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:32 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 04:58:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 04:58:40 [http-nio-8080-exec-1] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTk4MzIwLCJleHA (truncated)...]
2025-12-13 04:58:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:58:40 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:40 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 04:58:40 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 04:58:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 04:58:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 04:58:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:59:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 04:59:14 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 04:59:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 04:59:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 04:59:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 04:59:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 04:59:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:59:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:59:18 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 04:59:18 [http-nio-8080-exec-6] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 04:59:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:59:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NTk4MzU4LCJleHA (truncated)...]
2025-12-13 04:59:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:59:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 04:59:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:59:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 04:59:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 04:59:19 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 04:59:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:59:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:59:20 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:59:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:59:21 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:59:21 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 04:59:21 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:59:22 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:59:22 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 04:59:22 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 04:59:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 04:59:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 04:59:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 04:59:22 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:59:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 04:59:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 04:59:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 04:59:22 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 04:59:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 04:59:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 04:59:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 04:59:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:59:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 04:59:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 04:59:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:59:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 04:59:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 04:59:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 04:59:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 04:59:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 04:59:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 04:59:23 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 04:59:23 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 05:00:09 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 43892 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:00:09 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:00:09 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:00:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:00:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 396 ms. Found 7 JPA repository interfaces.
2025-12-13 05:00:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 05:00:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 05:00:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 05:00:27 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 05:00:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 16531 ms
2025-12-13 05:00:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:00:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@399af6dc
2025-12-13 05:00:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:00:29 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:00:29 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:00:29 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:00:29 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:00:30 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:00:30 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.121s)
2025-12-13 05:00:30 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:00:30 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:00:30 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:00:30 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:00:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:00:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:00:31 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:00:31 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:00:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:00:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:00:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:00:37 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:00:39 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:00:39 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:00:39 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 05:00:39 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 05:00:44 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:00:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:00:46 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:00:47 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:00:47 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@439df92e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ecf69eb, org.springframework.security.web.context.SecurityContextHolderFilter@61c53e05, org.springframework.security.web.header.HeaderWriterFilter@765569a4, org.springframework.web.filter.CorsFilter@4fa5fae0, org.springframework.security.web.authentication.logout.LogoutFilter@4b95a93b, com.immunizationdb.auth.security.JwtAuthenticationFilter@2c332922, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3810e141, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@406f954c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50001200, org.springframework.security.web.session.SessionManagementFilter@28964cb5, org.springframework.security.web.access.ExceptionTranslationFilter@3779773f, org.springframework.security.web.access.intercept.AuthorizationFilter@618ffc7a]
2025-12-13 05:00:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:00:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:00:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 05:00:49 [main] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 44.59 seconds (process running for 48.357)
2025-12-13 05:00:50 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:00:50 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:00:50 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 05:00:50 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:00:50 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 05:00:50 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 05:00:50 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 05:00:50 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 05:00:50 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:00:50 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:00:50 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 05:04:13 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-13 05:04:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-13 05:04:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-13 05:04:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-13 05:04:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-13 05:04:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@690406d0
2025-12-13 05:04:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1d6d2b60
2025-12-13 05:04:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-13 05:04:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 64 ms
2025-12-13 05:04:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 05:04:14 [http-nio-8080-exec-1] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:59908' origin is not allowed
2025-12-13 05:06:41 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication using Java 21.0.8 with PID 45444 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\classes started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:06:41 [restartedMain] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:06:41 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:06:41 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-13 05:06:41 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-13 05:06:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:06:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 157 ms. Found 7 JPA repository interfaces.
2025-12-13 05:06:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 05:06:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 05:06:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 05:06:47 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 05:06:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5595 ms
2025-12-13 05:06:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:06:49 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3a0acd7e
2025-12-13 05:06:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:06:50 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:06:50 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:06:50 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:06:50 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:06:50 [restartedMain] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:06:50 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.104s)
2025-12-13 05:06:50 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:06:50 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:06:50 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:06:50 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:06:50 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:06:50 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:06:50 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:06:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:06:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:06:53 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:06:53 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:06:54 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:06:55 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:06:55 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:06:55 [restartedMain] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 05:06:55 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 05:06:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:06:58 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:06:58 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:06:59 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:06:59 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56cb20a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@720084c9, org.springframework.security.web.context.SecurityContextHolderFilter@5db2811d, org.springframework.security.web.header.HeaderWriterFilter@1c3b2cc4, org.springframework.web.filter.CorsFilter@1264dcb1, org.springframework.security.web.authentication.logout.LogoutFilter@51d0b519, com.immunizationdb.auth.security.JwtAuthenticationFilter@b5b1268, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@527c4afd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@513fafcd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40bc6a40, org.springframework.security.web.session.SessionManagementFilter@7bb31195, org.springframework.security.web.access.ExceptionTranslationFilter@76d08683, org.springframework.security.web.access.intercept.AuthorizationFilter@1ba3b0f7]
2025-12-13 05:06:59 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:06:59 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:07:00 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-13 05:07:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:07:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-13 05:07:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-13 05:07:01 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-13 05:07:01 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-12-13 05:08:49 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication using Java 21.0.8 with PID 41236 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\classes started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:08:49 [restartedMain] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:08:49 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:08:49 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-13 05:08:49 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-13 05:08:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:08:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 99 ms. Found 7 JPA repository interfaces.
2025-12-13 05:08:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 05:08:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 05:08:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 05:08:52 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 05:08:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3059 ms
2025-12-13 05:08:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:08:52 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@ce194dc
2025-12-13 05:08:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:08:53 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:08:53 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:08:53 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:08:53 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:08:53 [restartedMain] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:08:53 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.088s)
2025-12-13 05:08:53 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:08:53 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:08:53 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:08:53 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:08:53 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:08:53 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:08:53 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:08:54 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:08:54 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:08:56 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:08:56 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:08:57 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:08:57 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:08:57 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:08:57 [restartedMain] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 05:08:57 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 05:09:00 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:09:01 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:09:01 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:09:01 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:09:01 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1fb01956, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1fc3c209, org.springframework.security.web.context.SecurityContextHolderFilter@11f06bb8, org.springframework.security.web.header.HeaderWriterFilter@63d23ca6, org.springframework.web.filter.CorsFilter@98408, org.springframework.security.web.authentication.logout.LogoutFilter@49baaf10, com.immunizationdb.auth.security.JwtAuthenticationFilter@46f8d0bb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11d3f77c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16ccf9f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22f2802d, org.springframework.security.web.session.SessionManagementFilter@76f5c109, org.springframework.security.web.access.ExceptionTranslationFilter@33dc7b3c, org.springframework.security.web.access.intercept.AuthorizationFilter@4fa3f94f]
2025-12-13 05:09:02 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:09:02 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:09:02 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-13 05:09:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:09:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-13 05:09:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-13 05:09:02 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-13 05:09:02 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-12-13 05:10:19 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 7480 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:10:19 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:10:20 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:10:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 221 ms. Found 7 JPA repository interfaces.
2025-12-13 05:10:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 05:10:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 05:10:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 05:10:33 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 05:10:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 13078 ms
2025-12-13 05:10:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:10:35 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1fd37440
2025-12-13 05:10:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:10:35 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:10:35 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:10:35 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:10:36 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:10:36 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:10:36 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.117s)
2025-12-13 05:10:36 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:10:36 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:10:36 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:10:36 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:10:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:10:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:10:37 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:10:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:10:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:10:39 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:10:39 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:10:40 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:10:42 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:10:42 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:10:42 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 05:10:42 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 05:10:45 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:10:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:10:49 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:10:50 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:10:51 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@43a77cd6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25290b95, org.springframework.security.web.context.SecurityContextHolderFilter@50be06c0, org.springframework.security.web.header.HeaderWriterFilter@67a6faf2, org.springframework.web.filter.CorsFilter@1af29de, org.springframework.security.web.authentication.logout.LogoutFilter@6bd3bb6, com.immunizationdb.auth.security.JwtAuthenticationFilter@24c6a471, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5234f6c5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@514acca7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f9d27b6, org.springframework.security.web.session.SessionManagementFilter@addefe5, org.springframework.security.web.access.ExceptionTranslationFilter@7a9bdca, org.springframework.security.web.access.intercept.AuthorizationFilter@5162bede]
2025-12-13 05:10:51 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:10:51 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:10:53 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-13 05:10:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:10:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-13 05:10:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-13 05:10:53 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-13 05:10:53 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-12-13 05:11:58 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 9872 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:11:58 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:11:58 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:12:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:12:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 205 ms. Found 7 JPA repository interfaces.
2025-12-13 05:12:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 05:12:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 05:12:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 05:12:04 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 05:12:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5928 ms
2025-12-13 05:12:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:12:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@50de907a
2025-12-13 05:12:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:12:06 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:12:06 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:12:06 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:12:06 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:12:06 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:12:06 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.077s)
2025-12-13 05:12:06 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:12:06 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:12:06 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:12:06 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:12:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:12:07 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:12:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:12:08 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:12:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:12:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:12:09 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:12:11 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:12:12 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:12:12 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:12:12 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 05:12:12 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 05:12:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:12:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:12:16 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:12:16 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:12:17 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@a442038, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cf9fa3d, org.springframework.security.web.context.SecurityContextHolderFilter@7974c44c, org.springframework.security.web.header.HeaderWriterFilter@74df55b2, org.springframework.web.filter.CorsFilter@70713e9d, org.springframework.security.web.authentication.logout.LogoutFilter@45330a89, com.immunizationdb.auth.security.JwtAuthenticationFilter@37b0a724, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4cf48c54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a1f5e2e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a1a736e, org.springframework.security.web.session.SessionManagementFilter@bb2c986, org.springframework.security.web.access.ExceptionTranslationFilter@2ac87e3d, org.springframework.security.web.access.intercept.AuthorizationFilter@4f843511]
2025-12-13 05:12:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:12:17 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:12:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 05:12:19 [main] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 24.739 seconds (process running for 27.085)
2025-12-13 05:12:20 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:12:20 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:12:20 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 05:12:20 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:12:20 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 05:12:20 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 05:12:20 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 05:12:20 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 05:12:20 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:12:20 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:12:20 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 05:12:51 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-13 05:12:51 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-13 05:12:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-13 05:12:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-13 05:12:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-13 05:12:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7445d24
2025-12-13 05:12:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4b0e6ed6
2025-12-13 05:12:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-13 05:12:51 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 51 ms
2025-12-13 05:12:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 05:12:51 [http-nio-8080-exec-1] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:59908' origin is not allowed
2025-12-13 05:13:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 05:13:21 [http-nio-8080-exec-2] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:59908' origin is not allowed
2025-12-13 05:20:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 05:21:00 [http-nio-8080-exec-3] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:59908' origin is not allowed
2025-12-13 05:21:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?timeout=32s
2025-12-13 05:21:27 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /, Auth header present: false
2025-12-13 05:21:27 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - No valid Authorization header found
2025-12-13 05:21:27 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 05:21:27 [http-nio-8080-exec-6] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-12-13 05:21:27 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 05:21:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?timeout=32s
2025-12-13 05:21:27 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 05:21:27 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 05:22:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 05:22:09 [http-nio-8080-exec-7] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:59908' origin is not allowed
2025-12-13 05:22:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 05:22:31 [http-nio-8080-exec-8] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:59908' origin is not allowed
2025-12-13 05:23:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:23:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-13 05:23:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-13 05:26:17 [main] INFO  c.i.ImmunizationdbBackendApplicationTests - Starting ImmunizationdbBackendApplicationTests using Java 21.0.8 with PID 3996 (started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:26:17 [main] DEBUG c.i.ImmunizationdbBackendApplicationTests - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:26:17 [main] INFO  c.i.ImmunizationdbBackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:26:17 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7d151a
2025-12-13 05:26:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:26:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 249 ms. Found 7 JPA repository interfaces.
2025-12-13 05:26:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:26:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@42cc5460
2025-12-13 05:26:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:26:27 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:26:27 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:26:27 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:26:27 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:26:27 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:26:27 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.186s)
2025-12-13 05:26:28 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:26:28 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:26:28 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:26:28 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:26:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:26:28 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:26:29 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:26:29 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:26:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:26:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:26:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:26:41 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:26:45 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:26:45 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:26:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:26:54 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:26:55 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:26:56 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:26:56 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e949342, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@de12c13, org.springframework.security.web.context.SecurityContextHolderFilter@1943d46b, org.springframework.security.web.header.HeaderWriterFilter@5d2dd62, org.springframework.web.filter.CorsFilter@4639d779, org.springframework.security.web.authentication.logout.LogoutFilter@159c804c, com.immunizationdb.auth.security.JwtAuthenticationFilter@7c8d382e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cdeb5f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ad43a90, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71de7e65, org.springframework.security.web.session.SessionManagementFilter@430925e0, org.springframework.security.web.access.ExceptionTranslationFilter@46e1702d, org.springframework.security.web.access.intercept.AuthorizationFilter@39fa3fc5]
2025-12-13 05:26:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:26:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:27:00 [main] INFO  c.i.ImmunizationdbBackendApplicationTests - Started ImmunizationdbBackendApplicationTests in 45.187 seconds (process running for 49.733)
2025-12-13 05:27:01 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:27:02 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:27:02 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 05:27:02 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:27:02 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 05:27:02 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 05:27:02 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 05:27:02 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 05:27:02 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:27:02 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:27:02 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 05:27:03 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@7d151a, started on Sat Dec 13 05:26:17 CET 2025
2025-12-13 05:27:04 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:27:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-13 05:27:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-13 05:27:31 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 12232 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:27:31 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:27:31 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:27:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:27:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 248 ms. Found 7 JPA repository interfaces.
2025-12-13 05:27:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 05:27:44 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 05:27:44 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 05:27:45 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 05:27:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 13686 ms
2025-12-13 05:27:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:27:48 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6cd2cb2
2025-12-13 05:27:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:27:48 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:27:48 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:27:48 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:27:49 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:27:49 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:27:49 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.107s)
2025-12-13 05:27:49 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:27:49 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:27:49 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:27:49 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:27:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:27:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:27:50 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:27:51 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:27:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:27:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:27:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:27:56 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:27:58 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:27:58 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:27:58 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 05:27:58 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 05:28:01 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:28:03 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:28:03 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:28:04 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:28:04 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ec2caf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d30d676, org.springframework.security.web.context.SecurityContextHolderFilter@5cbb45ff, org.springframework.security.web.header.HeaderWriterFilter@39459b5a, org.springframework.web.filter.CorsFilter@5063fdd, org.springframework.security.web.authentication.logout.LogoutFilter@2feaa16c, com.immunizationdb.auth.security.JwtAuthenticationFilter@12e5f7cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71713254, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a2577cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2827fbae, org.springframework.security.web.session.SessionManagementFilter@9d43cf, org.springframework.security.web.access.ExceptionTranslationFilter@1b71156f, org.springframework.security.web.access.intercept.AuthorizationFilter@70713e9d]
2025-12-13 05:28:05 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:28:05 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:28:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 05:28:06 [main] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 37.297 seconds (process running for 38.511)
2025-12-13 05:28:07 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:28:07 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:28:07 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 05:28:07 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:28:07 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 05:28:07 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 05:28:07 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 05:28:07 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 05:28:07 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:28:07 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:28:07 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 05:29:13 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-13 05:29:13 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-13 05:29:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-13 05:29:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-13 05:29:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-13 05:29:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4e023095
2025-12-13 05:29:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@763ee217
2025-12-13 05:29:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-13 05:29:13 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 89 ms
2025-12-13 05:29:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 05:29:13 [http-nio-8080-exec-2] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:59908' origin is not allowed
2025-12-13 05:30:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 05:30:49 [http-nio-8080-exec-6] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:59908' origin is not allowed
2025-12-13 05:34:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:34:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-13 05:34:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-13 05:34:40 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 9876 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:34:40 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:34:40 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:34:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:34:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 542 ms. Found 7 JPA repository interfaces.
2025-12-13 05:34:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 05:34:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 05:34:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 05:34:59 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 05:34:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 17926 ms
2025-12-13 05:35:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:35:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6aa6c17
2025-12-13 05:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:35:09 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:35:09 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:35:09 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:35:09 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:35:09 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:35:09 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.174s)
2025-12-13 05:35:09 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:35:09 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:35:09 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:35:09 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:35:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:35:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:35:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:35:12 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:35:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:35:16 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:35:16 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:35:18 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:35:21 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:35:21 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:35:21 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 05:35:21 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 05:35:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:35:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:35:31 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:35:32 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:35:33 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63157033, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f843511, org.springframework.security.web.context.SecurityContextHolderFilter@bb2c986, org.springframework.security.web.header.HeaderWriterFilter@8ab9629, org.springframework.web.filter.CorsFilter@4469a74d, org.springframework.security.web.authentication.logout.LogoutFilter@2296c3d4, com.immunizationdb.auth.security.JwtAuthenticationFilter@9223122, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50d4f87, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e253fa3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38d87d, org.springframework.security.web.session.SessionManagementFilter@4d228131, org.springframework.security.web.access.ExceptionTranslationFilter@7d8e68a4, org.springframework.security.web.access.intercept.AuthorizationFilter@2724ae48]
2025-12-13 05:35:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:35:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:35:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 05:35:36 [main] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 59.796 seconds (process running for 61.787)
2025-12-13 05:35:38 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:35:38 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:35:38 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 05:35:38 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:35:38 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 05:35:38 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 05:35:38 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 05:35:38 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 05:35:38 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:35:38 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:35:38 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 05:36:26 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:36:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-13 05:36:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-13 05:37:12 [main] INFO  c.i.ImmunizationdbBackendApplicationTests - Starting ImmunizationdbBackendApplicationTests using Java 21.0.8 with PID 43628 (started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:37:12 [main] DEBUG c.i.ImmunizationdbBackendApplicationTests - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:37:12 [main] INFO  c.i.ImmunizationdbBackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:37:12 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7d151a
2025-12-13 05:37:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:37:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 395 ms. Found 7 JPA repository interfaces.
2025-12-13 05:37:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:37:23 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6fde6f05
2025-12-13 05:37:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:37:23 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:37:23 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:37:23 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:37:23 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:37:23 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:37:24 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.181s)
2025-12-13 05:37:24 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:37:24 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:37:24 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:37:24 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:37:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:37:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:37:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:37:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:37:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:37:28 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:37:28 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:37:30 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:37:31 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:37:31 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:37:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:37:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:37:36 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:37:36 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:37:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@46c38d77, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ad30ac5, org.springframework.security.web.context.SecurityContextHolderFilter@215a865, org.springframework.security.web.header.HeaderWriterFilter@1f4e8af1, org.springframework.web.filter.CorsFilter@376d1f1f, org.springframework.security.web.authentication.logout.LogoutFilter@24c8fc2b, com.immunizationdb.auth.security.JwtAuthenticationFilter@4bb05e2a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e571706, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d1414d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d2c10dd, org.springframework.security.web.session.SessionManagementFilter@73c82ec1, org.springframework.security.web.access.ExceptionTranslationFilter@192f28bd, org.springframework.security.web.access.intercept.AuthorizationFilter@43ac2698]
2025-12-13 05:37:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:37:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:37:41 [main] INFO  c.i.ImmunizationdbBackendApplicationTests - Started ImmunizationdbBackendApplicationTests in 29.971 seconds (process running for 34.312)
2025-12-13 05:37:41 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:37:41 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:37:41 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 05:37:41 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:37:41 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 05:37:41 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 05:37:41 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 05:37:41 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 05:37:41 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:37:41 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:37:41 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 05:37:42 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@7d151a, started on Sat Dec 13 05:37:12 CET 2025
2025-12-13 05:37:42 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:37:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-13 05:37:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-13 05:40:56 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 39564 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:40:56 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:40:56 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:41:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:41:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 182 ms. Found 7 JPA repository interfaces.
2025-12-13 05:41:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 05:41:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 05:41:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 05:41:04 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 05:41:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7866 ms
2025-12-13 05:41:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:41:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@47fa3671
2025-12-13 05:41:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:41:07 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:41:07 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:41:07 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:41:08 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:41:08 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:41:08 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.146s)
2025-12-13 05:41:08 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:41:08 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:41:08 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:41:08 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:41:08 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:41:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:41:09 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:41:09 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:41:09 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:41:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:41:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:41:14 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:41:16 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:41:16 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:41:17 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 05:41:17 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 05:41:20 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:41:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:41:22 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:41:22 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:41:23 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e4e7f6d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e2fecf8, org.springframework.security.web.context.SecurityContextHolderFilter@3205ea73, org.springframework.security.web.header.HeaderWriterFilter@7add9679, org.springframework.web.filter.CorsFilter@76baeab, org.springframework.security.web.authentication.logout.LogoutFilter@26cee3d7, com.immunizationdb.auth.security.JwtAuthenticationFilter@480b785a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4469a74d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a442038, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2adeb7e3, org.springframework.security.web.session.SessionManagementFilter@a05c4fa, org.springframework.security.web.access.ExceptionTranslationFilter@75573368, org.springframework.security.web.access.intercept.AuthorizationFilter@c546f73]
2025-12-13 05:41:23 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:41:23 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:41:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 05:41:24 [main] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 29.972 seconds (process running for 31.307)
2025-12-13 05:41:25 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:41:25 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:41:25 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 05:41:25 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:41:25 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 05:41:25 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 05:41:25 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 05:41:25 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 05:41:25 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:41:25 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:41:25 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 05:55:59 [main] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication v1.0.0 using Java 23.0.2 with PID 48688 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\immunizationdb-backend-1.0.0.jar started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 05:55:59 [main] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 05:55:59 [main] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 05:56:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 05:56:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 268 ms. Found 7 JPA repository interfaces.
2025-12-13 05:56:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 05:56:15 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 05:56:15 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 05:56:15 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 05:56:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 15929 ms
2025-12-13 05:56:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 05:56:20 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4afcae7
2025-12-13 05:56:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 05:56:20 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 05:56:20 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 05:56:20 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 05:56:21 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 05:56:21 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 05:56:21 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.160s)
2025-12-13 05:56:21 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 05:56:21 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 05:56:21 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 05:56:21 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 05:56:22 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 05:56:22 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 05:56:22 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 05:56:23 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 05:56:24 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 05:56:28 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 05:56:28 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 05:56:29 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 05:56:31 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:56:31 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 05:56:32 [main] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 05:56:32 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 05:56:35 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 05:56:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 05:56:36 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 05:56:37 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 05:56:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4cf9fa3d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70713e9d, org.springframework.security.web.context.SecurityContextHolderFilter@9d43cf, org.springframework.security.web.header.HeaderWriterFilter@6796ec2b, org.springframework.web.filter.CorsFilter@11f4c488, org.springframework.security.web.authentication.logout.LogoutFilter@3b8a02b6, com.immunizationdb.auth.security.JwtAuthenticationFilter@6d821475, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd4b701, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c8d6a2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39314e02, org.springframework.security.web.session.SessionManagementFilter@7ec594eb, org.springframework.security.web.access.ExceptionTranslationFilter@3995edf5, org.springframework.security.web.access.intercept.AuthorizationFilter@4469a74d]
2025-12-13 05:56:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 05:56:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 05:56:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 05:56:40 [main] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 45.527 seconds (process running for 48.666)
2025-12-13 05:56:41 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:56:41 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:56:41 [main] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 05:56:41 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:56:41 [main] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 05:56:41 [main] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 05:56:41 [main] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 05:56:41 [main] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 05:56:41 [main] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 05:56:41 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 05:56:41 [main] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 06:26:05 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-13 06:26:05 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-13 06:26:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-13 06:26:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-13 06:26:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-13 06:26:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@291bd851
2025-12-13 06:26:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@54cf508a
2025-12-13 06:26:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-13 06:26:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 579 ms
2025-12-13 06:26:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 06:26:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 06:26:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:26:07 [http-nio-8080-exec-2] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-12-13 06:26:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 06:26:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 06:26:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 06:26:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 06:26:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:26:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:26:12 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 06:26:13 [http-nio-8080-exec-2] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 06:26:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:26:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NjAzNTczLCJleHA (truncated)...]
2025-12-13 06:26:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:26:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /reports/dashboard/FAC001
2025-12-13 06:26:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches/expiring-soon/FAC001
2025-12-13 06:26:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 06:26:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:26:14 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 06:26:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:26:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:26:14 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 06:26:14 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 06:26:14 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:26:14 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:26:14 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:26:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:26:15 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:26:15 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:26:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:26:15 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:26:15 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:26:15 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:26:15 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:26:15 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:26:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 06:26:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:26:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:26:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 06:26:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 06:26:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 06:26:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 06:26:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 06:26:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 06:26:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 06:26:16 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:26:16 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:26:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 06:26:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 06:26:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 06:26:16 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:26:16 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:26:16 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:26:16 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 06:26:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:26:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 06:26:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:26:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:26:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 06:26:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 06:26:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:26:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 06:26:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 06:26:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:26:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 06:26:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:38:12 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication using Java 21.0.8 with PID 45660 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\classes started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 06:38:12 [restartedMain] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 06:38:12 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 06:38:12 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-13 06:38:12 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-13 06:38:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 06:38:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 319 ms. Found 7 JPA repository interfaces.
2025-12-13 06:38:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 06:38:21 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 06:38:21 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 06:38:21 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 06:38:21 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8970 ms
2025-12-13 06:38:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 06:38:24 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@247ba0cc
2025-12-13 06:38:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 06:38:24 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 06:38:24 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 06:38:24 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 06:38:24 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 06:38:24 [restartedMain] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 06:38:24 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.099s)
2025-12-13 06:38:24 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 06:38:24 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 06:38:24 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 06:38:24 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 06:38:25 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 06:38:25 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 06:38:25 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 06:38:26 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 06:38:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 06:38:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 06:38:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 06:38:31 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 06:38:32 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 06:38:32 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 06:38:32 [restartedMain] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 06:38:32 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 06:38:36 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 06:38:36 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 06:38:36 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 06:38:37 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 06:38:37 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@283e9eda, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a405623, org.springframework.security.web.context.SecurityContextHolderFilter@12cce68a, org.springframework.security.web.header.HeaderWriterFilter@3e04a27, org.springframework.web.filter.CorsFilter@5fbcd081, org.springframework.security.web.authentication.logout.LogoutFilter@6d8be6cd, com.immunizationdb.auth.security.JwtAuthenticationFilter@28fe63ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63ade52a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d737238, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d3e47e0, org.springframework.security.web.session.SessionManagementFilter@6fc52448, org.springframework.security.web.access.ExceptionTranslationFilter@414dc37b, org.springframework.security.web.access.intercept.AuthorizationFilter@5d491415]
2025-12-13 06:38:37 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 06:38:37 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 06:38:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 06:38:39 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 27.578 seconds (process running for 29.066)
2025-12-13 06:38:39 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 06:38:39 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 06:38:39 [restartedMain] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 06:38:39 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 06:38:39 [restartedMain] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 06:38:39 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 06:38:39 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 06:38:39 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 06:38:39 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 06:38:39 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 06:38:39 [restartedMain] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 06:43:28 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-13 06:43:28 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@50906766
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1d1b7b2c
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-13 06:43:28 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 51 ms
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:43:28 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 06:43:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 06:43:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 06:43:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:43:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:43:31 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 06:43:31 [http-nio-8080-exec-1] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 06:43:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:43:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NjA0NjExLCJleHA (truncated)...]
2025-12-13 06:43:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:43:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 06:43:31 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 06:43:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:43:31 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 06:43:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:43:31 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 06:43:31 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:43:31 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:43:31 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:43:32 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:43:32 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:43:32 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:43:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 06:43:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 06:43:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:47:51 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Starting ImmunizationdbBackendApplication using Java 21.0.8 with PID 48680 (C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend\target\classes started by THE TECHNOLOGUE in C:\Users\THE TECHNOLOGUE\Documents\INGE-4-ISI-2025-2026\SEMESTER-1\Mobile Development\Project\medConnect\Immunization-Management-Sytem-group5-project-\immunizationdb-backend)
2025-12-13 06:47:51 [restartedMain] DEBUG c.i.ImmunizationdbBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-13 06:47:51 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-13 06:47:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-13 06:47:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-13 06:47:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-13 06:47:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 131 ms. Found 7 JPA repository interfaces.
2025-12-13 06:47:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-13 06:47:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-13 06:47:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-13 06:47:55 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-13 06:47:55 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3994 ms
2025-12-13 06:47:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-13 06:47:56 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@155742e8
2025-12-13 06:47:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-13 06:47:56 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-12-13 06:47:56 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-12-13 06:47:56 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-12-13 06:47:56 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/immunizationdb (PostgreSQL 18.1)
2025-12-13 06:47:56 [restartedMain] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 18.1 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-12-13 06:47:56 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.058s)
2025-12-13 06:47:56 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 4
2025-12-13 06:47:56 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-12-13 06:47:56 [restartedMain] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (4) that is newer than the latest available migration (1) !
2025-12-13 06:47:56 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-12-13 06:47:56 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-13 06:47:56 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-13 06:47:56 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 06:47:57 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-13 06:47:57 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 06:47:58 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-13 06:47:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-13 06:47:59 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-13 06:48:00 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 06:48:00 [restartedMain] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2025-12-13 06:48:00 [restartedMain] DEBUG c.i.a.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-13 06:48:00 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-13 06:48:01 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-13 06:48:02 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 48 mappings in 'requestMappingHandlerMapping'
2025-12-13 06:48:02 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-13 06:48:02 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-12-13 06:48:02 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d737238, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6358bff5, org.springframework.security.web.context.SecurityContextHolderFilter@252a1e26, org.springframework.security.web.header.HeaderWriterFilter@3a2b3b0e, org.springframework.web.filter.CorsFilter@6241b4ac, org.springframework.security.web.authentication.logout.LogoutFilter@3cf433bb, com.immunizationdb.auth.security.JwtAuthenticationFilter@3e310639, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bcc5330, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17a91e9b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@689b3c2c, org.springframework.security.web.session.SessionManagementFilter@135fbdd2, org.springframework.security.web.access.ExceptionTranslationFilter@3f3cfc9f, org.springframework.security.web.access.intercept.AuthorizationFilter@3add1458]
2025-12-13 06:48:03 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-13 06:48:03 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-13 06:48:03 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-12-13 06:48:03 [restartedMain] INFO  c.i.ImmunizationdbBackendApplication - Started ImmunizationdbBackendApplication in 13.828 seconds (process running for 14.549)
2025-12-13 06:48:04 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 06:48:04 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 06:48:04 [restartedMain] INFO  c.i.auth.config.DataInitializer - Database initialized successfully with 15 users
2025-12-13 06:48:04 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 06:48:04 [restartedMain] INFO  c.i.auth.config.DataInitializer - DEFAULT LOGIN CREDENTIALS:
2025-12-13 06:48:04 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Health Worker:      health.worker / Password123!
2025-12-13 06:48:04 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Facility Manager:   facility.manager / Password123!
2025-12-13 06:48:04 [restartedMain] INFO  c.i.auth.config.DataInitializer -   Government Official: gov.official / Password123!
2025-12-13 06:48:04 [restartedMain] INFO  c.i.auth.config.DataInitializer - ================================================================================
2025-12-13 06:48:04 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
2025-12-13 06:48:04 [restartedMain] INFO  c.i.config.DatabaseSeeder - Database already seeded. Skipping seed operation.
2025-12-13 06:48:43 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-13 06:48:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@bc87b2f
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2b104e87
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-13 06:48:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:48:43 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 06:48:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:48:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:48:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 06:48:44 [http-nio-8080-exec-1] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 06:48:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:48:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NjA0OTI0LCJleHA (truncated)...]
2025-12-13 06:48:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:48:45 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:48:45 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:48:45 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:48:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 06:48:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 06:48:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:57:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 06:57:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:57:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 06:57:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 06:57:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 06:57:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 06:57:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:57:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:57:50 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 06:57:50 [http-nio-8080-exec-8] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 06:57:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:57:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NjA1NDcwLCJleHA (truncated)...]
2025-12-13 06:57:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:57:50 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 06:57:50 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 06:57:50 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:57:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:57:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 06:57:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:58:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /patients/facility/FAC001
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:58:37 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=53511070-0a70-4c9b-8f85-4876d4d59ba1, fullName=Jennifer Hernandez, dateOfBirth=2 (truncated)...]
2025-12-13 06:58:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:58:50 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:58:50 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:58:50 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 06:58:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:58:50 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 06:58:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:59:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches/available/FAC001
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001, Auth header present: true
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:23 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001", parameters={}
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/available/FAC001.]
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:59:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 06:59:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /vaccinations/facility/FAC001
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001, Auth header present: true
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:33 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001", parameters={}
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByFacility(String)
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByFacility(java.lang.String); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=?
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=1, patientId=c4ef30c6-595a-4fc0-b041-195f8640ab54, patientName=null, batchId (truncated)...]
2025-12-13 06:59:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:48 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:48 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 06:59:48 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:59:48 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 06:59:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 06:59:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches, Auth header present: true
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:54 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches", parameters={}
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches.]
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:59:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 06:59:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/logout
2025-12-13 06:59:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/logout
2025-12-13 06:59:54 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /auth/logout, Auth header present: false
2025-12-13 06:59:54 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - No valid Authorization header found
2025-12-13 06:59:54 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 06:59:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/logout
2025-12-13 06:59:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-12-13 06:59:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#logout(Authentication)
2025-12-13 06:59:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 06:59:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse[message=Logged out successfully]]
2025-12-13 06:59:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 07:00:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 07:00:00 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 07:00:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 07:00:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 07:00:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 07:00:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 07:00:00 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:00 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:01 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 07:00:01 [http-nio-8080-exec-8] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 07:00:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 07:00:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NjA1NjAxLCJleHA (truncated)...]
2025-12-13 07:00:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:01 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:01 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:01 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 07:00:01 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 07:00:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 07:00:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 07:00:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches/facility/FAC001
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/facility/FAC001
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/facility/FAC001, Auth header present: true
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:12 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/facility/FAC001
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/facility/FAC001", parameters={}
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/facility/FAC001.]
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 07:00:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 07:00:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/logout
2025-12-13 07:00:12 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /auth/logout, Auth header present: false
2025-12-13 07:00:12 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - No valid Authorization header found
2025-12-13 07:00:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 07:00:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/logout
2025-12-13 07:00:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-12-13 07:00:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#logout(Authentication)
2025-12-13 07:00:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 07:00:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse[message=Logged out successfully]]
2025-12-13 07:00:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 07:00:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 07:00:18 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 07:00:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 07:00:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 07:00:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 07:00:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 07:00:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:19 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 07:00:19 [http-nio-8080-exec-6] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 07:00:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 07:00:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NjA1NjE5LCJleHA (truncated)...]
2025-12-13 07:00:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:19 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 07:00:19 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 07:00:19 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 07:00:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 07:00:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=19, activeCam (truncated)...]
2025-12-13 07:00:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/inventory/batches
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/inventory/batches
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /api/inventory/batches, Auth header present: true
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:22 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/inventory/batches
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/api/inventory/batches", parameters={}
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllBatches(String, String)
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllBatches(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllBatches(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=1, batchNumber=BATCH-BCG-0001, vaccineName=BCG, manufacturer=AstraZeneca, q (truncated)...]
2025-12-13 07:00:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 07:00:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /sync/queue
2025-12-13 07:00:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /sync/stats
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sync/queue
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sync/stats
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sync/stats, Auth header present: true
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sync/queue, Auth header present: true
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:30 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:30 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sync/queue
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sync/stats
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sync/queue", parameters={}
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sync/stats", parameters={}
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource sync/stats.]
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource sync/queue.]
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 07:00:30 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 07:00:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:35:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccine-batches
2025-12-13 08:35:36 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccine-batches, Auth header present: false
2025-12-13 08:35:36 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - No valid Authorization header found
2025-12-13 08:35:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:35:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:35:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:35:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:35:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:35:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients
2025-12-13 08:35:36 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients, Auth header present: false
2025-12-13 08:35:36 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - No valid Authorization header found
2025-12-13 08:35:36 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:35:36 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:35:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:35:36 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:35:36 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:35:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users
2025-12-13 08:35:36 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /users, Auth header present: false
2025-12-13 08:35:36 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - No valid Authorization header found
2025-12-13 08:35:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:35:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:35:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:35:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:35:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:35:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations
2025-12-13 08:35:36 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations, Auth header present: false
2025-12-13 08:35:36 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - No valid Authorization header found
2025-12-13 08:35:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:35:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:35:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:35:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:35:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:35:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns
2025-12-13 08:35:36 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns, Auth header present: false
2025-12-13 08:35:36 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - No valid Authorization header found
2025-12-13 08:35:36 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:35:36 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:35:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:35:36 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:35:36 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:42:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 08:42:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 08:42:35 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:42:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 08:42:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 08:42:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 08:42:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 08:42:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:42:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:42:36 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 08:42:36 [http-nio-8080-exec-6] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 08:42:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:42:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NjExNzU2LCJleHA (truncated)...]
2025-12-13 08:42:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:42:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /reports/dashboard/FAC001
2025-12-13 08:42:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 08:42:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches/expiring-soon/FAC001
2025-12-13 08:42:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 08:42:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 08:42:36 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 08:42:36 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:42:36 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:42:36 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:42:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:42:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:42:36 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:42:36 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:42:36 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:42:36 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 08:42:36 [http-nio-8080-exec-10] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 08:42:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 08:42:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 08:42:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 08:42:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 08:42:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 08:42:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 08:42:36 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:42:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 08:42:36 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 08:42:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 08:42:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:42:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 08:42:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 08:42:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 08:42:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 08:42:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:42:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=280, patientId=53511070-0a70-4c9b-8f85-4876d4d59ba1, patientName=null, batch (truncated)...]
2025-12-13 08:42:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 08:42:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:42:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 08:42:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:42:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=55, activeCam (truncated)...]
2025-12-13 08:42:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:43:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches/available/FAC001
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/available/FAC001
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/available/FAC001, Auth header present: true
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:43:01 [http-nio-8080-exec-9] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/available/FAC001
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/available/FAC001", parameters={}
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/available/FAC001.]
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:43:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:46:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/inventory/batches
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/inventory/batches
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /api/inventory/batches, Auth header present: true
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:46:58 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/inventory/batches
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/api/inventory/batches", parameters={}
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.inventory.controller.InventoryController#getAllBatches(String, String)
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllBatches(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.inventory.controller.InventoryController.getAllBatches(java.lang.String,java.lang.String); target is of class [com.immunizationdb.inventory.controller.InventoryController]
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccineBatchResponse(id=1, batchNumber=BATCH-BCG-0001, vaccineName=BCG, manufacturer=AstraZeneca, q (truncated)...]
2025-12-13 08:46:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:47:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /sync/queue
2025-12-13 08:47:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /sync/stats
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sync/queue
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sync/queue, Auth header present: true
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /sync/stats
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /sync/stats, Auth header present: true
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:47:07 [http-nio-8080-exec-3] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sync/queue
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sync/queue", parameters={}
2025-12-13 08:47:07 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /sync/stats
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sync/stats", parameters={}
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource sync/stats.]
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource sync/queue.]
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:47:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:47:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:47:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches, Auth header present: true
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:47:12 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches", parameters={}
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches.]
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:47:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:47:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/logout
2025-12-13 08:47:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/logout
2025-12-13 08:47:13 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /auth/logout, Auth header present: false
2025-12-13 08:47:13 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - No valid Authorization header found
2025-12-13 08:47:13 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:47:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/logout
2025-12-13 08:47:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-12-13 08:47:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#logout(Authentication)
2025-12-13 08:47:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:47:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse[message=Logged out successfully]]
2025-12-13 08:47:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:49:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/logout
2025-12-13 08:49:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/logout
2025-12-13 08:49:29 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /auth/logout, Auth header present: false
2025-12-13 08:49:29 [http-nio-8080-exec-10] DEBUG c.i.a.s.JwtAuthenticationFilter - No valid Authorization header found
2025-12-13 08:49:29 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:49:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/logout
2025-12-13 08:49:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-12-13 08:49:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#logout(Authentication)
2025-12-13 08:49:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:49:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse[message=Logged out successfully]]
2025-12-13 08:49:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:52:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-12-13 08:52:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 08:52:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:52:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 08:52:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 08:52:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 08:52:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=health.worker, password=Password123!)]
2025-12-13 08:52:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:52:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:52:29 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 08:52:29 [http-nio-8080-exec-9] INFO  c.i.auth.service.AuthService - User health.worker logged in successfully
2025-12-13 08:52:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:52:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoZWFsdGgud29ya2VyIiwiaWF0IjoxNzY1NjEyMzQ5LCJleHA (truncated)...]
2025-12-13 08:52:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:52:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /reports/dashboard/FAC001
2025-12-13 08:52:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /inventory/batches/expiring-soon/FAC001
2025-12-13 08:52:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:52:29 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:52:29 [http-nio-8080-exec-5] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 08:52:29 [http-nio-8080-exec-1] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:52:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=280, patientId=53511070-0a70-4c9b-8f85-4876d4d59ba1, patientName=null, batch (truncated)...]
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 08:52:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=55, activeCam (truncated)...]
2025-12-13 08:52:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:52:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /patients/facility/FAC001
2025-12-13 08:52:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /patients/facility/FAC001
2025-12-13 08:52:52 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /patients/facility/FAC001, Auth header present: true
2025-12-13 08:52:52 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:52:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:52:53 [http-nio-8080-exec-4] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:52:53 [http-nio-8080-exec-4] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:52:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /patients/facility/FAC001
2025-12-13 08:52:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/patients/facility/FAC001", parameters={}
2025-12-13 08:52:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.patient.controller.PatientController#getPatientsByFacility(String)
2025-12-13 08:52:53 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2025-12-13 08:52:53 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.patient.controller.PatientController.getPatientsByFacility(java.lang.String); target is of class [com.immunizationdb.patient.controller.PatientController]
2025-12-13 08:52:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.date_of_birth,
        p1_0.deleted,
        p1_0.deleted_at,
        p1_0.facility_id,
        p1_0.full_name,
        p1_0.gender,
        p1_0.guardian_name,
        p1_0.phone_number 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and not(p1_0.deleted)
2025-12-13 08:52:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:52:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PatientResponse(id=53511070-0a70-4c9b-8f85-4876d4d59ba1, fullName=Jennifer Hernandez, dateOfBirth=2 (truncated)...]
2025-12-13 08:52:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /inventory/batches/expiring-soon/FAC001
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/dashboard/FAC001
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/dashboard/FAC001, Auth header present: true
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /inventory/batches/expiring-soon/FAC001, Auth header present: true
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /vaccinations/facility/FAC001/date-range, Auth header present: true
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: health.worker
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:57:09 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:57:09 [http-nio-8080-exec-6] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: health.worker, authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:57:09 [http-nio-8080-exec-2] INFO  c.i.a.s.JwtAuthenticationFilter - User health.worker authenticated successfully with authorities: [ROLE_HEALTH_WORKER]
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /inventory/batches/expiring-soon/FAC001
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory/batches/expiring-soon/FAC001", parameters={}
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/dashboard/FAC001
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/vaccinations/facility/FAC001/date-range?startDate=2025-12-12&endDate=2025-12-13", parameters={masked}
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/dashboard/FAC001", parameters={}
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.vaccination.controller.VaccinationController#getVaccinationsByDateRange(String, LocalDate, LocalDate)
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getDashboardStats(String)
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.vaccination.controller.VaccinationController.getVaccinationsByDateRange(java.lang.String,java.time.LocalDate,java.time.LocalDate); target is of class [com.immunizationdb.vaccination.controller.VaccinationController]
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getDashboardStats(java.lang.String); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource inventory/batches/expiring-soon/FAC001.]
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id,
        v1_0.batch_id,
        v1_0.created_at,
        v1_0.date_administered,
        v1_0.dose_number,
        v1_0.facility_id,
        v1_0.notes,
        v1_0.nurse_id,
        v1_0.patient_id,
        v1_0.vaccine_name 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        patients p1_0 
    where
        p1_0.facility_id=? 
        and p1_0.deleted=false
2025-12-13 08:57:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(v1_0.id) 
    from
        vaccinations v1_0 
    where
        v1_0.facility_id=? 
        and v1_0.date_administered between ? and ?
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[VaccinationResponse(id=280, patientId=53511070-0a70-4c9b-8f85-4876d4d59ba1, patientName=null, batch (truncated)...]
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.quantity_remaining>0 
        and vb1_0.expiry_date>? 
    order by
        vb1_0.expiry_date
2025-12-13 08:57:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=? 
        and vb1_0.expiry_date between ? and ? 
        and vb1_0.quantity_remaining>0
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        c1_0.facility_id=? 
        and ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [DashboardStatsResponse(totalPatients=35, totalVaccinations=null, vaccinationsThisMonth=55, activeCam (truncated)...]
2025-12-13 08:57:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 09:21:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-12-13 09:21:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-13 09:21:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-12-13 09:21:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-12-13 09:21:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.auth.controller.AuthController#login(LoginRequest)
2025-12-13 09:21:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=gov.official, password=Password123!)]
2025-12-13 09:21:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 09:21:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 09:21:22 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-12-13 09:21:22 [http-nio-8080-exec-4] INFO  c.i.auth.service.AuthService - User gov.official logged in successfully
2025-12-13 09:21:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 09:21:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [LoginResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJnb3Yub2ZmaWNpYWwiLCJpYXQiOjE3NjU2MTQwODIsImV4cCI (truncated)...]
2025-12-13 09:21:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 09:21:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /reports/national-stats
2025-12-13 09:21:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /campaigns/active
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /reports/national-stats
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /reports/national-stats, Auth header present: true
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /campaigns/active
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Processing request to: /campaigns/active, Auth header present: true
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Extracted username from token: gov.official
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted,
        u1_0.deleted_at,
        u1_0.district_id,
        u1_0.email,
        u1_0.facility_id,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.locked,
        u1_0.national_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2025-12-13 09:21:23 [http-nio-8080-exec-8] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /campaigns/active
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/campaigns/active", parameters={}
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.campaign.controller.CampaignController#getActiveCampaigns(String)
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG c.i.a.s.JwtAuthenticationFilter - Loaded user details for: gov.official, authorities: [ROLE_GOVERNMENT_OFFICIAL]
2025-12-13 09:21:23 [http-nio-8080-exec-7] INFO  c.i.a.s.JwtAuthenticationFilter - User gov.official authenticated successfully with authorities: [ROLE_GOVERNMENT_OFFICIAL]
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /reports/national-stats
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/national-stats", parameters={}
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.immunizationdb.reporting.controller.ReportingController#getNationalStatistics()
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.reporting.controller.ReportingController.getNationalStatistics(); target is of class [com.immunizationdb.reporting.controller.ReportingController]
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.immunizationdb.campaign.controller.CampaignController.getActiveCampaigns(java.lang.String); target is of class [com.immunizationdb.campaign.controller.CampaignController]
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        patients p1_0
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        vaccinations v1_0
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.district_id,
        c1_0.end_date,
        c1_0.facility_id,
        c1_0.name,
        c1_0.national_id,
        c1_0.start_date,
        c1_0.status,
        c1_0.target_age_group,
        c1_0.target_population,
        c1_0.updated_at,
        c1_0.vaccinated_count,
        c1_0.vaccine_name 
    from
        campaigns c1_0 
    where
        ? between c1_0.start_date and c1_0.end_date 
        and c1_0.status='ACTIVE'
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2025-12-13 09:21:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CampaignResponse(id=8, name=Rotavirus Immunization Drive, description=Campaign targeting School-age (truncated)...]
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2025-12-13 09:21:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        vb1_0.id,
        vb1_0.batch_number,
        vb1_0.created_at,
        vb1_0.created_by,
        vb1_0.expiry_date,
        vb1_0.facility_id,
        vb1_0.manufacturer,
        vb1_0.quantity_received,
        vb1_0.quantity_remaining,
        vb1_0.receipt_date,
        vb1_0.vaccine_name 
    from
        vaccine_batches vb1_0 
    where
        vb1_0.facility_id=?
2025-12-13 09:21:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-13 09:21:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-12-13 09:21:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NationalStatisticsResponse(totalFacilities=3, totalVaccineTypes=8, totalDosesAvailable=32316, totalP (truncated)...]
2025-12-13 09:21:24 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
